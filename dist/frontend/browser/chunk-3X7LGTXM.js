import{e as V,i as N}from"./chunk-AYA4WYLJ.js";import{Ea as x,Ha as b,Ib as T,Jb as E,Lb as P,Oa as _,Qa as y,Sa as t,Ta as n,Ua as S,Va as h,Wa as g,Wb as W,Xa as m,Z as d,Zb as I,_ as p,ac as O,cb as a,eb as M,fc as A,gc as D,hb as f,hc as B,ib as u,jb as v,mc as L,ob as w,qb as k,va as r,za as C}from"./chunk-N4QFKIMT.js";function J(l,c){if(l&1){let i=h();t(0,"div",10)(1,"div",11)(2,"h5",12),a(3,"Account"),n(),t(4,"p",13),a(5,"Manage your account details."),n(),t(6,"button",14),g("click",function(){d(i);let e=m();return p(e.goToProfile())}),S(7,"i",15),a(8,"Open Profile"),n()()()}}function j(l,c){if(l&1){let i=h();t(0,"div",10)(1,"div",11)(2,"h5",12),a(3,"Appearance"),n(),t(4,"div",16)(5,"div",17)(6,"label",18),a(7,"Theme"),n(),t(8,"select",19),v("ngModelChange",function(e){d(i);let s=m();return u(s.settings.theme,e)||(s.settings.theme=e),p(e)}),g("change",function(){d(i);let e=m();return p(e.applyTheme(e.settings.theme))}),t(9,"option",20),a(10,"System"),n(),t(11,"option",21),a(12,"Light"),n(),t(13,"option",22),a(14,"Dark"),n()()(),t(15,"div",17)(16,"label",18),a(17,"Density"),n(),t(18,"select",23),v("ngModelChange",function(e){d(i);let s=m();return u(s.settings.density,e)||(s.settings.density=e),p(e)}),g("change",function(){d(i);let e=m();return p(e.applyDensity(e.settings.density))}),t(19,"option",24),a(20,"Comfortable"),n(),t(21,"option",25),a(22,"Compact"),n()()()()()()}if(l&2){let i=m();r(8),f("ngModel",i.settings.theme),r(10),f("ngModel",i.settings.density)}}function G(l,c){if(l&1){let i=h();t(0,"div",10)(1,"div",11)(2,"h5",12),a(3,"Notifications"),n(),t(4,"div",26)(5,"input",27),v("ngModelChange",function(e){d(i);let s=m();return u(s.settings.notifications.email,e)||(s.settings.notifications.email=e),p(e)}),n(),t(6,"label",28),a(7,"Email notifications"),n()(),t(8,"div",26)(9,"input",29),v("ngModelChange",function(e){d(i);let s=m();return u(s.settings.notifications.sms,e)||(s.settings.notifications.sms=e),p(e)}),n(),t(10,"label",30),a(11,"SMS notifications"),n()(),t(12,"div",26)(13,"input",31),v("ngModelChange",function(e){d(i);let s=m();return u(s.settings.notifications.marketing,e)||(s.settings.notifications.marketing=e),p(e)}),n(),t(14,"label",32),a(15,"Marketing emails"),n()()()()}if(l&2){let i=m();r(5),f("ngModel",i.settings.notifications.email),r(4),f("ngModel",i.settings.notifications.sms),r(4),f("ngModel",i.settings.notifications.marketing)}}function K(l,c){if(l&1){let i=h();t(0,"div",10)(1,"div",11)(2,"h5",12),a(3,"Privacy"),n(),t(4,"div",26)(5,"input",33),v("ngModelChange",function(e){d(i);let s=m();return u(s.settings.privacy.rememberMe,e)||(s.settings.privacy.rememberMe=e),p(e)}),n(),t(6,"label",34),a(7,"Remember me on this device"),n()(),t(8,"div",26)(9,"input",35),v("ngModelChange",function(e){d(i);let s=m();return u(s.settings.privacy.analytics,e)||(s.settings.privacy.analytics=e),p(e)}),n(),t(10,"label",36),a(11,"Share anonymous usage analytics"),n()()()()}if(l&2){let i=m();r(5),f("ngModel",i.settings.privacy.rememberMe),r(4),f("ngModel",i.settings.privacy.analytics)}}function Y(l,c){l&1&&S(0,"span",37)}function q(l,c){if(l&1&&(t(0,"span",38),a(1),w(2,"date"),n()),l&2){let i=m();r(),M("Saved ",k(2,1,i.savedAt,"shortTime"),"")}}var R="appSettings",F=class l{constructor(c){this.router=c}activeTab="account";settings={theme:"system",density:"comfortable",notifications:{email:!0,sms:!1,marketing:!1},privacy:{rememberMe:!0,analytics:!0}};saving=!1;savedAt=null;ngOnInit(){this.loadSettings(),this.applyTheme(this.settings.theme),this.applyDensity(this.settings.density)}switchTab(c){this.activeTab=c}loadSettings(){let c=localStorage.getItem(R);if(c)try{this.settings=JSON.parse(c)}catch{}}save(){this.saving=!0,localStorage.setItem(R,JSON.stringify(this.settings)),this.applyTheme(this.settings.theme),this.applyDensity(this.settings.density),setTimeout(()=>{this.saving=!1,this.savedAt=new Date},300)}applyTheme(c){let i=document.documentElement,o=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=c==="dark"||c==="system"&&o;i.setAttribute("data-theme",e?"dark":"light")}applyDensity(c){document.documentElement.setAttribute("data-density",c)}goToProfile(){this.router.navigate(["/profile"])}static \u0275fac=function(i){return new(i||l)(C(V))};static \u0275cmp=x({type:l,selectors:[["app-settings"]],decls:25,vars:15,consts:[[1,"container","py-4","settings-page"],[1,"mb-4"],[1,"nav","nav-tabs","mb-3"],[1,"nav-item"],[1,"nav-link",3,"click"],["class","card",4,"ngIf"],[1,"d-flex","align-items-center","gap-2","mt-3"],[1,"btn","btn-success",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","text-muted small",4,"ngIf"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"text-muted"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-user","me-2"],[1,"row","g-3"],[1,"col-md-6"],[1,"form-label"],["name","theme",1,"form-select",3,"ngModelChange","change","ngModel"],["value","system"],["value","light"],["value","dark"],["name","density",1,"form-select",3,"ngModelChange","change","ngModel"],["value","comfortable"],["value","compact"],[1,"form-check","form-switch"],["type","checkbox","id","emailNoti","name","emailNoti",1,"form-check-input",3,"ngModelChange","ngModel"],["for","emailNoti",1,"form-check-label"],["type","checkbox","id","smsNoti","name","smsNoti",1,"form-check-input",3,"ngModelChange","ngModel"],["for","smsNoti",1,"form-check-label"],["type","checkbox","id","marketingNoti","name","marketingNoti",1,"form-check-input",3,"ngModelChange","ngModel"],["for","marketingNoti",1,"form-check-label"],["type","checkbox","id","rememberMe","name","rememberMe",1,"form-check-input",3,"ngModelChange","ngModel"],["for","rememberMe",1,"form-check-label"],["type","checkbox","id","analytics","name","analytics",1,"form-check-input",3,"ngModelChange","ngModel"],["for","analytics",1,"form-check-label"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"text-muted","small"]],template:function(i,o){i&1&&(t(0,"div",0)(1,"h2",1),a(2,"Settings"),n(),t(3,"ul",2)(4,"li",3)(5,"button",4),g("click",function(){return o.switchTab("account")}),a(6,"Account"),n()(),t(7,"li",3)(8,"button",4),g("click",function(){return o.switchTab("appearance")}),a(9,"Appearance"),n()(),t(10,"li",3)(11,"button",4),g("click",function(){return o.switchTab("notifications")}),a(12,"Notifications"),n()(),t(13,"li",3)(14,"button",4),g("click",function(){return o.switchTab("privacy")}),a(15,"Privacy"),n()()(),b(16,J,9,0,"div",5)(17,j,23,2,"div",5)(18,G,16,3,"div",5)(19,K,12,2,"div",5),t(20,"div",6)(21,"button",7),g("click",function(){return o.save()}),b(22,Y,1,0,"span",8),a(23," Save Settings "),n(),b(24,q,3,4,"span",9),n()()),i&2&&(r(5),y("active",o.activeTab==="account"),r(3),y("active",o.activeTab==="appearance"),r(3),y("active",o.activeTab==="notifications"),r(3),y("active",o.activeTab==="privacy"),r(2),_("ngIf",o.activeTab==="account"),r(),_("ngIf",o.activeTab==="appearance"),r(),_("ngIf",o.activeTab==="notifications"),r(),_("ngIf",o.activeTab==="privacy"),r(2),_("disabled",o.saving),r(),_("ngIf",o.saving),r(2),_("ngIf",o.savedAt))},dependencies:[P,T,E,L,D,B,W,A,I,O,N],styles:[".settings-page[_ngcontent-%COMP%]{max-width:900px}[_ngcontent-%COMP%]:root[data-theme=light]{--bg: #ffffff;--fg: #1a1a1a}[_ngcontent-%COMP%]:root[data-theme=dark]{--bg: #111418;--fg: #e8e8e8}[_ngcontent-%COMP%]:root[data-density=comfortable]{--control-padding: .75rem 1rem}[_ngcontent-%COMP%]:root[data-density=compact]{--control-padding: .35rem .6rem}.form-control[_ngcontent-%COMP%], .form-select[_ngcontent-%COMP%], .btn[_ngcontent-%COMP%]{padding:var(--control-padding)}"]})};export{F as SettingsComponent};
