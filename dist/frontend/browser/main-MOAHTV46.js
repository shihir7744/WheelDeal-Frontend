import{a as or,b as ar,c as tn,d as cr,e as ue,f as xe,g as dr,h as mr,i as se}from"./chunk-AYA4WYLJ.js";import{a as X,b as ee,c as pr}from"./chunk-VKRG3NZS.js";import{$b as nn,Ea as A,Gb as Ce,Ha as _,Hb as J,Ib as B,Jb as rr,Kb as en,L as Q,Lb as L,M as Hi,N as W,Na as Xi,Oa as m,Pa as ge,Qa as w,Ra as $,Rb as Pt,S as j,Sa as r,Sb as Z,T as Gi,Ta as i,Tb as sr,Ua as g,Ub as lr,Va as y,Vb as gr,Wa as b,Wb as at,Xa as p,Xb as Me,Y as Yi,Ya as Ji,Yb as q,Z as u,Za as Jt,Zb as le,_ as h,_b as ce,a as Re,ac as rn,b as ji,bb as Zi,bc as de,c as Wi,cb as a,cc as yt,db as v,dc as Pe,ea as De,eb as C,ec as ye,f as $i,fa as qi,fb as F,fc as Qe,gb as ti,gc as Xe,hb as E,hc as Je,ib as k,ic as on,jb as I,jc as an,kb as er,kc as Ot,lb as tr,lc as he,m as Ue,mb as Ae,mc as Ze,na as ei,nb as ni,nc as ae,ob as Ke,pb as Zt,q as ot,qa as Ki,qb as Mt,sb as nr,ta as ne,va as l,w as Zn,xa as Qi,xb as ir,y as ze,za as P}from"./chunk-N4QFKIMT.js";var G=function(o){return o[o.State=0]="State",o[o.Transition=1]="Transition",o[o.Sequence=2]="Sequence",o[o.Group=3]="Group",o[o.Animate=4]="Animate",o[o.Keyframes=5]="Keyframes",o[o.Style=6]="Style",o[o.Trigger=7]="Trigger",o[o.Reference=8]="Reference",o[o.AnimateChild=9]="AnimateChild",o[o.AnimateRef=10]="AnimateRef",o[o.Query=11]="Query",o[o.Stagger=12]="Stagger",o}(G||{}),je="*";function fr(o,t=null){return{type:G.Sequence,steps:o,options:t}}function ii(o){return{type:G.Style,styles:o,offset:null}}var nt=class{_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_originalOnDoneFns=[];_originalOnStartFns=[];_started=!1;_destroyed=!1;_finished=!1;_position=0;parentPlayer=null;totalTime;constructor(t=0,e=0){this.totalTime=t+e}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(t=>t()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(t){this._position=this.totalTime?t*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},St=class{_onDoneFns=[];_onStartFns=[];_finished=!1;_started=!1;_destroyed=!1;_onDestroyFns=[];parentPlayer=null;totalTime=0;players;constructor(t){this.players=t;let e=0,n=0,s=0,c=this.players.length;c==0?queueMicrotask(()=>this._onFinish()):this.players.forEach(d=>{d.onDone(()=>{++e==c&&this._onFinish()}),d.onDestroy(()=>{++n==c&&this._onDestroy()}),d.onStart(()=>{++s==c&&this._onStart()})}),this.totalTime=this.players.reduce((d,f)=>Math.max(d,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this.players.forEach(t=>t.init())}onStart(t){this._onStartFns.push(t)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(t=>t()),this._onStartFns=[])}onDone(t){this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(t=>t.play())}pause(){this.players.forEach(t=>t.pause())}restart(){this.players.forEach(t=>t.restart())}finish(){this._onFinish(),this.players.forEach(t=>t.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(t=>t.destroy()),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}reset(){this.players.forEach(t=>t.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(t){let e=t*this.totalTime;this.players.forEach(n=>{let s=n.totalTime?Math.min(1,e/n.totalTime):1;n.setPosition(s)})}getPosition(){let t=this.players.reduce((e,n)=>e===null||n.totalTime>e.totalTime?n:e,null);return t!=null?t.getPosition():0}beforeDestroy(){this.players.forEach(t=>{t.beforeDestroy&&t.beforeDestroy()})}triggerCallback(t){let e=t=="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},Vt="!";function ur(o){return new Q(3e3,!1)}function Po(){return new Q(3100,!1)}function yo(){return new Q(3101,!1)}function Oo(o){return new Q(3001,!1)}function So(o){return new Q(3003,!1)}function wo(o){return new Q(3004,!1)}function _r(o,t){return new Q(3005,!1)}function br(){return new Q(3006,!1)}function vr(){return new Q(3007,!1)}function Cr(o,t){return new Q(3008,!1)}function xr(o){return new Q(3002,!1)}function Mr(o,t,e,n,s){return new Q(3010,!1)}function Pr(){return new Q(3011,!1)}function yr(){return new Q(3012,!1)}function Or(){return new Q(3200,!1)}function Sr(){return new Q(3202,!1)}function wr(){return new Q(3013,!1)}function Er(o){return new Q(3014,!1)}function kr(o){return new Q(3015,!1)}function Ir(o){return new Q(3016,!1)}function Tr(o,t){return new Q(3404,!1)}function Eo(o){return new Q(3502,!1)}function Fr(o){return new Q(3503,!1)}function Rr(){return new Q(3300,!1)}function Dr(o){return new Q(3504,!1)}function Ar(o){return new Q(3301,!1)}function Nr(o,t){return new Q(3302,!1)}function Br(o){return new Q(3303,!1)}function Lr(o,t){return new Q(3400,!1)}function Vr(o){return new Q(3401,!1)}function Ur(o){return new Q(3402,!1)}function zr(o,t){return new Q(3505,!1)}function it(o){switch(o.length){case 0:return new nt;case 1:return o[0];default:return new St(o)}}function si(o,t,e=new Map,n=new Map){let s=[],c=[],d=-1,f=null;if(t.forEach(x=>{let M=x.get("offset"),S=M==d,O=S&&f||new Map;x.forEach((Y,z)=>{let R=z,V=Y;if(z!=="offset")switch(R=o.normalizePropertyName(R,s),V){case Vt:V=e.get(z);break;case je:V=n.get(z);break;default:V=o.normalizeStyleValue(z,R,V,s);break}O.set(R,V)}),S||c.push(O),f=O,d=M}),s.length)throw Eo(s);return c}function sn(o,t,e,n){switch(t){case"start":o.onStart(()=>n(e&&ri(e,"start",o)));break;case"done":o.onDone(()=>n(e&&ri(e,"done",o)));break;case"destroy":o.onDestroy(()=>n(e&&ri(e,"destroy",o)));break}}function ri(o,t,e){let n=e.totalTime,s=!!e.disabled,c=ln(o.element,o.triggerName,o.fromState,o.toState,t||o.phaseName,n??o.totalTime,s),d=o._data;return d!=null&&(c._data=d),c}function ln(o,t,e,n,s="",c=0,d){return{element:o,triggerName:t,fromState:e,toState:n,phaseName:s,totalTime:c,disabled:!!d}}function we(o,t,e){let n=o.get(t);return n||o.set(t,n=e),n}function li(o){let t=o.indexOf(":"),e=o.substring(1,t),n=o.slice(t+1);return[e,n]}var ko=typeof document>"u"?null:document.documentElement;function cn(o){let t=o.parentNode||o.host||null;return t===ko?null:t}function Io(o){return o.substring(1,6)=="ebkit"}var ht=null,hr=!1;function jr(o){ht||(ht=To()||{},hr=ht.style?"WebkitAppearance"in ht.style:!1);let t=!0;return ht.style&&!Io(o)&&(t=o in ht.style,!t&&hr&&(t="Webkit"+o.charAt(0).toUpperCase()+o.slice(1)in ht.style)),t}function To(){return typeof document<"u"?document.body:null}function ci(o,t){for(;t;){if(t===o)return!0;t=cn(t)}return!1}function di(o,t,e){if(e)return Array.from(o.querySelectorAll(t));let n=o.querySelector(t);return n?[n]:[]}var Fo=1e3,mi="{{",Ro="}}",gi="ng-enter",dn="ng-leave",Ut="ng-trigger",zt=".ng-trigger",pi="ng-animating",mn=".ng-animating";function et(o){if(typeof o=="number")return o;let t=o.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:oi(parseFloat(t[1]),t[2])}function oi(o,t){switch(t){case"s":return o*Fo;default:return o}}function jt(o,t,e){return o.hasOwnProperty("duration")?o:Do(o,t,e)}function Do(o,t,e){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,s,c=0,d="";if(typeof o=="string"){let f=o.match(n);if(f===null)return t.push(ur(o)),{duration:0,delay:0,easing:""};s=oi(parseFloat(f[1]),f[2]);let x=f[3];x!=null&&(c=oi(parseFloat(x),f[4]));let M=f[5];M&&(d=M)}else s=o;if(!e){let f=!1,x=t.length;s<0&&(t.push(Po()),f=!0),c<0&&(t.push(yo()),f=!0),f&&t.splice(x,0,ur(o))}return{duration:s,delay:c,easing:d}}function Wr(o){return o.length?o[0]instanceof Map?o:o.map(t=>new Map(Object.entries(t))):[]}function We(o,t,e){t.forEach((n,s)=>{let c=gn(s);e&&!e.has(s)&&e.set(s,o.style[c]),o.style[c]=n})}function st(o,t){t.forEach((e,n)=>{let s=gn(n);o.style[s]=""})}function wt(o){return Array.isArray(o)?o.length==1?o[0]:fr(o):o}function $r(o,t,e){let n=t.params||{},s=fi(o);s.length&&s.forEach(c=>{n.hasOwnProperty(c)||e.push(Oo(c))})}var ai=new RegExp(`${mi}\\s*(.+?)\\s*${Ro}`,"g");function fi(o){let t=[];if(typeof o=="string"){let e;for(;e=ai.exec(o);)t.push(e[1]);ai.lastIndex=0}return t}function Et(o,t,e){let n=`${o}`,s=n.replace(ai,(c,d)=>{let f=t[d];return f==null&&(e.push(So(d)),f=""),f.toString()});return s==n?o:s}var Ao=/-+([a-z0-9])/g;function gn(o){return o.replace(Ao,(...t)=>t[1].toUpperCase())}function Hr(o,t){return o===0||t===0}function Gr(o,t,e){if(e.size&&t.length){let n=t[0],s=[];if(e.forEach((c,d)=>{n.has(d)||s.push(d),n.set(d,c)}),s.length)for(let c=1;c<t.length;c++){let d=t[c];s.forEach(f=>d.set(f,pn(o,f)))}}return t}function Ee(o,t,e){switch(t.type){case G.Trigger:return o.visitTrigger(t,e);case G.State:return o.visitState(t,e);case G.Transition:return o.visitTransition(t,e);case G.Sequence:return o.visitSequence(t,e);case G.Group:return o.visitGroup(t,e);case G.Animate:return o.visitAnimate(t,e);case G.Keyframes:return o.visitKeyframes(t,e);case G.Style:return o.visitStyle(t,e);case G.Reference:return o.visitReference(t,e);case G.AnimateChild:return o.visitAnimateChild(t,e);case G.AnimateRef:return o.visitAnimateRef(t,e);case G.Query:return o.visitQuery(t,e);case G.Stagger:return o.visitStagger(t,e);default:throw wo(t.type)}}function pn(o,t){return window.getComputedStyle(o)[t]}var Ti=(()=>{class o{validateStyleProperty(e){return jr(e)}containsElement(e,n){return ci(e,n)}getParentElement(e){return cn(e)}query(e,n,s){return di(e,n,s)}computeStyle(e,n,s){return s||""}animate(e,n,s,c,d,f=[],x){return new nt(s,c)}static \u0275fac=function(n){return new(n||o)};static \u0275prov=W({token:o,factory:o.\u0275fac})}return o})(),bt=class{static NOOP=new Ti},vt=class{};var No=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),bn=class extends vt{normalizePropertyName(t,e){return gn(t)}normalizeStyleValue(t,e,n,s){let c="",d=n.toString().trim();if(No.has(e)&&n!==0&&n!=="0")if(typeof n=="number")c="px";else{let f=n.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&f[1].length==0&&s.push(_r(t,n))}return d+c}};var vn="*";function Bo(o,t){let e=[];return typeof o=="string"?o.split(/\s*,\s*/).forEach(n=>Lo(n,e,t)):e.push(o),e}function Lo(o,t,e){if(o[0]==":"){let x=Vo(o,e);if(typeof x=="function"){t.push(x);return}o=x}let n=o.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return e.push(kr(o)),t;let s=n[1],c=n[2],d=n[3];t.push(Yr(s,d));let f=s==vn&&d==vn;c[0]=="<"&&!f&&t.push(Yr(d,s))}function Vo(o,t){switch(o){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,n)=>parseFloat(n)>parseFloat(e);case":decrement":return(e,n)=>parseFloat(n)<parseFloat(e);default:return t.push(Ir(o)),"* => *"}}var fn=new Set(["true","1"]),un=new Set(["false","0"]);function Yr(o,t){let e=fn.has(o)||un.has(o),n=fn.has(t)||un.has(t);return(s,c)=>{let d=o==vn||o==s,f=t==vn||t==c;return!d&&e&&typeof s=="boolean"&&(d=s?fn.has(o):un.has(o)),!f&&n&&typeof c=="boolean"&&(f=c?fn.has(t):un.has(t)),d&&f}}var io=":self",Uo=new RegExp(`s*${io}s*,?`,"g");function ro(o,t,e,n){return new Ci(o).build(t,e,n)}var qr="",Ci=class{_driver;constructor(t){this._driver=t}build(t,e,n){let s=new xi(e);return this._resetContextStyleTimingState(s),Ee(this,wt(t),s)}_resetContextStyleTimingState(t){t.currentQuerySelector=qr,t.collectedStyles=new Map,t.collectedStyles.set(qr,new Map),t.currentTime=0}visitTrigger(t,e){let n=e.queryCount=0,s=e.depCount=0,c=[],d=[];return t.name.charAt(0)=="@"&&e.errors.push(br()),t.definitions.forEach(f=>{if(this._resetContextStyleTimingState(e),f.type==G.State){let x=f,M=x.name;M.toString().split(/\s*,\s*/).forEach(S=>{x.name=S,c.push(this.visitState(x,e))}),x.name=M}else if(f.type==G.Transition){let x=this.visitTransition(f,e);n+=x.queryCount,s+=x.depCount,d.push(x)}else e.errors.push(vr())}),{type:G.Trigger,name:t.name,states:c,transitions:d,queryCount:n,depCount:s,options:null}}visitState(t,e){let n=this.visitStyle(t.styles,e),s=t.options&&t.options.params||null;if(n.containsDynamicStyles){let c=new Set,d=s||{};n.styles.forEach(f=>{f instanceof Map&&f.forEach(x=>{fi(x).forEach(M=>{d.hasOwnProperty(M)||c.add(M)})})}),c.size&&e.errors.push(Cr(t.name,[...c.values()]))}return{type:G.State,name:t.name,style:n,options:s?{params:s}:null}}visitTransition(t,e){e.queryCount=0,e.depCount=0;let n=Ee(this,wt(t.animation),e),s=Bo(t.expr,e.errors);return{type:G.Transition,matchers:s,animation:n,queryCount:e.queryCount,depCount:e.depCount,options:_t(t.options)}}visitSequence(t,e){return{type:G.Sequence,steps:t.steps.map(n=>Ee(this,n,e)),options:_t(t.options)}}visitGroup(t,e){let n=e.currentTime,s=0,c=t.steps.map(d=>{e.currentTime=n;let f=Ee(this,d,e);return s=Math.max(s,e.currentTime),f});return e.currentTime=s,{type:G.Group,steps:c,options:_t(t.options)}}visitAnimate(t,e){let n=$o(t.timings,e.errors);e.currentAnimateTimings=n;let s,c=t.styles?t.styles:ii({});if(c.type==G.Keyframes)s=this.visitKeyframes(c,e);else{let d=t.styles,f=!1;if(!d){f=!0;let M={};n.easing&&(M.easing=n.easing),d=ii(M)}e.currentTime+=n.duration+n.delay;let x=this.visitStyle(d,e);x.isEmptyStep=f,s=x}return e.currentAnimateTimings=null,{type:G.Animate,timings:n,style:s,options:null}}visitStyle(t,e){let n=this._makeStyleAst(t,e);return this._validateStyleAst(n,e),n}_makeStyleAst(t,e){let n=[],s=Array.isArray(t.styles)?t.styles:[t.styles];for(let f of s)typeof f=="string"?f===je?n.push(f):e.errors.push(xr(f)):n.push(new Map(Object.entries(f)));let c=!1,d=null;return n.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(d=f.get("easing"),f.delete("easing")),!c)){for(let x of f.values())if(x.toString().indexOf(mi)>=0){c=!0;break}}}),{type:G.Style,styles:n,easing:d,offset:t.offset,containsDynamicStyles:c,options:null}}_validateStyleAst(t,e){let n=e.currentAnimateTimings,s=e.currentTime,c=e.currentTime;n&&c>0&&(c-=n.duration+n.delay),t.styles.forEach(d=>{typeof d!="string"&&d.forEach((f,x)=>{let M=e.collectedStyles.get(e.currentQuerySelector),S=M.get(x),O=!0;S&&(c!=s&&c>=S.startTime&&s<=S.endTime&&(e.errors.push(Mr(x,S.startTime,S.endTime,c,s)),O=!1),c=S.startTime),O&&M.set(x,{startTime:c,endTime:s}),e.options&&$r(f,e.options,e.errors)})})}visitKeyframes(t,e){let n={type:G.Keyframes,styles:[],options:null};if(!e.currentAnimateTimings)return e.errors.push(Pr()),n;let s=1,c=0,d=[],f=!1,x=!1,M=0,S=t.steps.map(me=>{let pe=this._makeStyleAst(me,e),Oe=pe.offset!=null?pe.offset:Wo(pe.styles),be=0;return Oe!=null&&(c++,be=pe.offset=Oe),x=x||be<0||be>1,f=f||be<M,M=be,d.push(be),pe});x&&e.errors.push(yr()),f&&e.errors.push(Or());let O=t.steps.length,Y=0;c>0&&c<O?e.errors.push(Sr()):c==0&&(Y=s/(O-1));let z=O-1,R=e.currentTime,V=e.currentAnimateTimings,te=V.duration;return S.forEach((me,pe)=>{let Oe=Y>0?pe==z?1:Y*pe:d[pe],be=Oe*te;e.currentTime=R+V.delay+be,V.duration=be,this._validateStyleAst(me,e),me.offset=Oe,n.styles.push(me)}),n}visitReference(t,e){return{type:G.Reference,animation:Ee(this,wt(t.animation),e),options:_t(t.options)}}visitAnimateChild(t,e){return e.depCount++,{type:G.AnimateChild,options:_t(t.options)}}visitAnimateRef(t,e){return{type:G.AnimateRef,animation:this.visitReference(t.animation,e),options:_t(t.options)}}visitQuery(t,e){let n=e.currentQuerySelector,s=t.options||{};e.queryCount++,e.currentQuery=t;let[c,d]=zo(t.selector);e.currentQuerySelector=n.length?n+" "+c:c,we(e.collectedStyles,e.currentQuerySelector,new Map);let f=Ee(this,wt(t.animation),e);return e.currentQuery=null,e.currentQuerySelector=n,{type:G.Query,selector:c,limit:s.limit||0,optional:!!s.optional,includeSelf:d,animation:f,originalSelector:t.selector,options:_t(t.options)}}visitStagger(t,e){e.currentQuery||e.errors.push(wr());let n=t.timings==="full"?{duration:0,delay:0,easing:"full"}:jt(t.timings,e.errors,!0);return{type:G.Stagger,animation:Ee(this,wt(t.animation),e),timings:n,options:null}}};function zo(o){let t=!!o.split(/\s*,\s*/).find(e=>e==io);return t&&(o=o.replace(Uo,"")),o=o.replace(/@\*/g,zt).replace(/@\w+/g,e=>zt+"-"+e.slice(1)).replace(/:animating/g,mn),[o,t]}function jo(o){return o?Re({},o):null}var xi=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(t){this.errors=t}};function Wo(o){if(typeof o=="string")return null;let t=null;if(Array.isArray(o))o.forEach(e=>{if(e instanceof Map&&e.has("offset")){let n=e;t=parseFloat(n.get("offset")),n.delete("offset")}});else if(o instanceof Map&&o.has("offset")){let e=o;t=parseFloat(e.get("offset")),e.delete("offset")}return t}function $o(o,t){if(o.hasOwnProperty("duration"))return o;if(typeof o=="number"){let c=jt(o,t).duration;return ui(c,0,"")}let e=o;if(e.split(/\s+/).some(c=>c.charAt(0)=="{"&&c.charAt(1)=="{")){let c=ui(0,0,"");return c.dynamic=!0,c.strValue=e,c}let s=jt(e,t);return ui(s.duration,s.delay,s.easing)}function _t(o){return o?(o=Re({},o),o.params&&(o.params=jo(o.params))):o={},o}function ui(o,t,e){return{duration:o,delay:t,easing:e}}function Fi(o,t,e,n,s,c,d=null,f=!1){return{type:1,element:o,keyframes:t,preStyleProps:e,postStyleProps:n,duration:s,delay:c,totalTime:s+c,easing:d,subTimeline:f}}var $t=class{_map=new Map;get(t){return this._map.get(t)||[]}append(t,e){let n=this._map.get(t);n||this._map.set(t,n=[]),n.push(...e)}has(t){return this._map.has(t)}clear(){this._map.clear()}},Ho=1,Go=":enter",Yo=new RegExp(Go,"g"),qo=":leave",Ko=new RegExp(qo,"g");function oo(o,t,e,n,s,c=new Map,d=new Map,f,x,M=[]){return new Mi().buildKeyframes(o,t,e,n,s,c,d,f,x,M)}var Mi=class{buildKeyframes(t,e,n,s,c,d,f,x,M,S=[]){M=M||new $t;let O=new Pi(t,e,M,s,c,S,[]);O.options=x;let Y=x.delay?et(x.delay):0;O.currentTimeline.delayNextStep(Y),O.currentTimeline.setStyles([d],null,O.errors,x),Ee(this,n,O);let z=O.timelines.filter(R=>R.containsAnimation());if(z.length&&f.size){let R;for(let V=z.length-1;V>=0;V--){let te=z[V];if(te.element===e){R=te;break}}R&&!R.allowOnlyTimelineStyles()&&R.setStyles([f],null,O.errors,x)}return z.length?z.map(R=>R.buildKeyframes()):[Fi(e,[],[],[],0,Y,"",!1)]}visitTrigger(t,e){}visitState(t,e){}visitTransition(t,e){}visitAnimateChild(t,e){let n=e.subInstructions.get(e.element);if(n){let s=e.createSubContext(t.options),c=e.currentTimeline.currentTime,d=this._visitSubInstructions(n,s,s.options);c!=d&&e.transformIntoNewTimeline(d)}e.previousNode=t}visitAnimateRef(t,e){let n=e.createSubContext(t.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([t.options,t.animation.options],e,n),this.visitReference(t.animation,n),e.transformIntoNewTimeline(n.currentTimeline.currentTime),e.previousNode=t}_applyAnimationRefDelays(t,e,n){for(let s of t){let c=s?.delay;if(c){let d=typeof c=="number"?c:et(Et(c,s?.params??{},e.errors));n.delayNextStep(d)}}}_visitSubInstructions(t,e,n){let c=e.currentTimeline.currentTime,d=n.duration!=null?et(n.duration):null,f=n.delay!=null?et(n.delay):null;return d!==0&&t.forEach(x=>{let M=e.appendInstructionToTimeline(x,d,f);c=Math.max(c,M.duration+M.delay)}),c}visitReference(t,e){e.updateOptions(t.options,!0),Ee(this,t.animation,e),e.previousNode=t}visitSequence(t,e){let n=e.subContextCount,s=e,c=t.options;if(c&&(c.params||c.delay)&&(s=e.createSubContext(c),s.transformIntoNewTimeline(),c.delay!=null)){s.previousNode.type==G.Style&&(s.currentTimeline.snapshotCurrentStyles(),s.previousNode=Cn);let d=et(c.delay);s.delayNextStep(d)}t.steps.length&&(t.steps.forEach(d=>Ee(this,d,s)),s.currentTimeline.applyStylesToKeyframe(),s.subContextCount>n&&s.transformIntoNewTimeline()),e.previousNode=t}visitGroup(t,e){let n=[],s=e.currentTimeline.currentTime,c=t.options&&t.options.delay?et(t.options.delay):0;t.steps.forEach(d=>{let f=e.createSubContext(t.options);c&&f.delayNextStep(c),Ee(this,d,f),s=Math.max(s,f.currentTimeline.currentTime),n.push(f.currentTimeline)}),n.forEach(d=>e.currentTimeline.mergeTimelineCollectedStyles(d)),e.transformIntoNewTimeline(s),e.previousNode=t}_visitTiming(t,e){if(t.dynamic){let n=t.strValue,s=e.params?Et(n,e.params,e.errors):n;return jt(s,e.errors)}else return{duration:t.duration,delay:t.delay,easing:t.easing}}visitAnimate(t,e){let n=e.currentAnimateTimings=this._visitTiming(t.timings,e),s=e.currentTimeline;n.delay&&(e.incrementTime(n.delay),s.snapshotCurrentStyles());let c=t.style;c.type==G.Keyframes?this.visitKeyframes(c,e):(e.incrementTime(n.duration),this.visitStyle(c,e),s.applyStylesToKeyframe()),e.currentAnimateTimings=null,e.previousNode=t}visitStyle(t,e){let n=e.currentTimeline,s=e.currentAnimateTimings;!s&&n.hasCurrentStyleProperties()&&n.forwardFrame();let c=s&&s.easing||t.easing;t.isEmptyStep?n.applyEmptyStep(c):n.setStyles(t.styles,c,e.errors,e.options),e.previousNode=t}visitKeyframes(t,e){let n=e.currentAnimateTimings,s=e.currentTimeline.duration,c=n.duration,f=e.createSubContext().currentTimeline;f.easing=n.easing,t.styles.forEach(x=>{let M=x.offset||0;f.forwardTime(M*c),f.setStyles(x.styles,x.easing,e.errors,e.options),f.applyStylesToKeyframe()}),e.currentTimeline.mergeTimelineCollectedStyles(f),e.transformIntoNewTimeline(s+c),e.previousNode=t}visitQuery(t,e){let n=e.currentTimeline.currentTime,s=t.options||{},c=s.delay?et(s.delay):0;c&&(e.previousNode.type===G.Style||n==0&&e.currentTimeline.hasCurrentStyleProperties())&&(e.currentTimeline.snapshotCurrentStyles(),e.previousNode=Cn);let d=n,f=e.invokeQuery(t.selector,t.originalSelector,t.limit,t.includeSelf,!!s.optional,e.errors);e.currentQueryTotal=f.length;let x=null;f.forEach((M,S)=>{e.currentQueryIndex=S;let O=e.createSubContext(t.options,M);c&&O.delayNextStep(c),M===e.element&&(x=O.currentTimeline),Ee(this,t.animation,O),O.currentTimeline.applyStylesToKeyframe();let Y=O.currentTimeline.currentTime;d=Math.max(d,Y)}),e.currentQueryIndex=0,e.currentQueryTotal=0,e.transformIntoNewTimeline(d),x&&(e.currentTimeline.mergeTimelineCollectedStyles(x),e.currentTimeline.snapshotCurrentStyles()),e.previousNode=t}visitStagger(t,e){let n=e.parentContext,s=e.currentTimeline,c=t.timings,d=Math.abs(c.duration),f=d*(e.currentQueryTotal-1),x=d*e.currentQueryIndex;switch(c.duration<0?"reverse":c.easing){case"reverse":x=f-x;break;case"full":x=n.currentStaggerTime;break}let S=e.currentTimeline;x&&S.delayNextStep(x);let O=S.currentTime;Ee(this,t.animation,e),e.previousNode=t,n.currentStaggerTime=s.currentTime-O+(s.startTime-n.currentTimeline.startTime)}},Cn={},Pi=class o{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Cn;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(t,e,n,s,c,d,f,x){this._driver=t,this.element=e,this.subInstructions=n,this._enterClassName=s,this._leaveClassName=c,this.errors=d,this.timelines=f,this.currentTimeline=x||new xn(this._driver,e,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(t,e){if(!t)return;let n=t,s=this.options;n.duration!=null&&(s.duration=et(n.duration)),n.delay!=null&&(s.delay=et(n.delay));let c=n.params;if(c){let d=s.params;d||(d=this.options.params={}),Object.keys(c).forEach(f=>{(!e||!d.hasOwnProperty(f))&&(d[f]=Et(c[f],d,this.errors))})}}_copyOptions(){let t={};if(this.options){let e=this.options.params;if(e){let n=t.params={};Object.keys(e).forEach(s=>{n[s]=e[s]})}}return t}createSubContext(t=null,e,n){let s=e||this.element,c=new o(this._driver,s,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(s,n||0));return c.previousNode=this.previousNode,c.currentAnimateTimings=this.currentAnimateTimings,c.options=this._copyOptions(),c.updateOptions(t),c.currentQueryIndex=this.currentQueryIndex,c.currentQueryTotal=this.currentQueryTotal,c.parentContext=this,this.subContextCount++,c}transformIntoNewTimeline(t){return this.previousNode=Cn,this.currentTimeline=this.currentTimeline.fork(this.element,t),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(t,e,n){let s={duration:e??t.duration,delay:this.currentTimeline.currentTime+(n??0)+t.delay,easing:""},c=new yi(this._driver,t.element,t.keyframes,t.preStyleProps,t.postStyleProps,s,t.stretchStartingKeyframe);return this.timelines.push(c),s}incrementTime(t){this.currentTimeline.forwardTime(this.currentTimeline.duration+t)}delayNextStep(t){t>0&&this.currentTimeline.delayNextStep(t)}invokeQuery(t,e,n,s,c,d){let f=[];if(s&&f.push(this.element),t.length>0){t=t.replace(Yo,"."+this._enterClassName),t=t.replace(Ko,"."+this._leaveClassName);let x=n!=1,M=this._driver.query(this.element,t,x);n!==0&&(M=n<0?M.slice(M.length+n,M.length):M.slice(0,n)),f.push(...M)}return!c&&f.length==0&&d.push(Er(e)),f}},xn=class o{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(t,e,n,s){this._driver=t,this.element=e,this.startTime=n,this._elementTimelineStylesLookup=s,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(e),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(e,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(t){let e=this._keyframes.size===1&&this._pendingStyles.size;this.duration||e?(this.forwardTime(this.currentTime+t),e&&this.snapshotCurrentStyles()):this.startTime+=t}fork(t,e){return this.applyStylesToKeyframe(),new o(this._driver,t,e||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=Ho,this._loadKeyframe()}forwardTime(t){this.applyStylesToKeyframe(),this.duration=t,this._loadKeyframe()}_updateStyle(t,e){this._localTimelineStyles.set(t,e),this._globalTimelineStyles.set(t,e),this._styleSummary.set(t,{time:this.currentTime,value:e})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(t){t&&this._previousKeyframe.set("easing",t);for(let[e,n]of this._globalTimelineStyles)this._backFill.set(e,n||je),this._currentKeyframe.set(e,je);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(t,e,n,s){e&&this._previousKeyframe.set("easing",e);let c=s&&s.params||{},d=Qo(t,this._globalTimelineStyles);for(let[f,x]of d){let M=Et(x,c,n);this._pendingStyles.set(f,M),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??je),this._updateStyle(f,M)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((t,e)=>{this._currentKeyframe.set(e,t)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((t,e)=>{this._currentKeyframe.has(e)||this._currentKeyframe.set(e,t)}))}snapshotCurrentStyles(){for(let[t,e]of this._localTimelineStyles)this._pendingStyles.set(t,e),this._updateStyle(t,e)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let t=[];for(let e in this._currentKeyframe)t.push(e);return t}mergeTimelineCollectedStyles(t){t._styleSummary.forEach((e,n)=>{let s=this._styleSummary.get(n);(!s||e.time>s.time)&&this._updateStyle(n,e.value)})}buildKeyframes(){this.applyStylesToKeyframe();let t=new Set,e=new Set,n=this._keyframes.size===1&&this.duration===0,s=[];this._keyframes.forEach((f,x)=>{let M=new Map([...this._backFill,...f]);M.forEach((S,O)=>{S===Vt?t.add(O):S===je&&e.add(O)}),n||M.set("offset",x/this.duration),s.push(M)});let c=[...t.values()],d=[...e.values()];if(n){let f=s[0],x=new Map(f);f.set("offset",0),x.set("offset",1),s=[f,x]}return Fi(this.element,s,c,d,this.duration,this.startTime,this.easing,!1)}},yi=class extends xn{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(t,e,n,s,c,d,f=!1){super(t,e,d.delay),this.keyframes=n,this.preStyleProps=s,this.postStyleProps=c,this._stretchStartingKeyframe=f,this.timings={duration:d.duration,delay:d.delay,easing:d.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let t=this.keyframes,{delay:e,duration:n,easing:s}=this.timings;if(this._stretchStartingKeyframe&&e){let c=[],d=n+e,f=e/d,x=new Map(t[0]);x.set("offset",0),c.push(x);let M=new Map(t[0]);M.set("offset",Kr(f)),c.push(M);let S=t.length-1;for(let O=1;O<=S;O++){let Y=new Map(t[O]),z=Y.get("offset"),R=e+z*n;Y.set("offset",Kr(R/d)),c.push(Y)}n=d,e=0,s="",t=c}return Fi(this.element,t,this.preStyleProps,this.postStyleProps,n,e,s,!0)}};function Kr(o,t=3){let e=Math.pow(10,t-1);return Math.round(o*e)/e}function Qo(o,t){let e=new Map,n;return o.forEach(s=>{if(s==="*"){n??=t.keys();for(let c of n)e.set(c,je)}else for(let[c,d]of s)e.set(c,d)}),e}function Qr(o,t,e,n,s,c,d,f,x,M,S,O,Y){return{type:0,element:o,triggerName:t,isRemovalTransition:s,fromState:e,fromStyles:c,toState:n,toStyles:d,timelines:f,queriedElements:x,preStyleProps:M,postStyleProps:S,totalTime:O,errors:Y}}var hi={},Mn=class{_triggerName;ast;_stateStyles;constructor(t,e,n){this._triggerName=t,this.ast=e,this._stateStyles=n}match(t,e,n,s){return Xo(this.ast.matchers,t,e,n,s)}buildStyles(t,e,n){let s=this._stateStyles.get("*");return t!==void 0&&(s=this._stateStyles.get(t?.toString())||s),s?s.buildStyles(e,n):new Map}build(t,e,n,s,c,d,f,x,M,S){let O=[],Y=this.ast.options&&this.ast.options.params||hi,z=f&&f.params||hi,R=this.buildStyles(n,z,O),V=x&&x.params||hi,te=this.buildStyles(s,V,O),me=new Set,pe=new Map,Oe=new Map,be=s==="void",Ct={params:ao(V,Y),delay:this.ast.options?.delay},Ye=S?[]:oo(t,e,this.ast.animation,c,d,R,te,Ct,M,O),H=0;return Ye.forEach(Se=>{H=Math.max(Se.duration+Se.delay,H)}),O.length?Qr(e,this._triggerName,n,s,be,R,te,[],[],pe,Oe,H,O):(Ye.forEach(Se=>{let pt=Se.element,xt=we(pe,pt,new Set);Se.preStyleProps.forEach(ft=>xt.add(ft));let Li=we(Oe,pt,new Set);Se.postStyleProps.forEach(ft=>Li.add(ft)),pt!==e&&me.add(pt)}),Qr(e,this._triggerName,n,s,be,R,te,Ye,[...me.values()],pe,Oe,H))}};function Xo(o,t,e,n,s){return o.some(c=>c(t,e,n,s))}function ao(o,t){let e=Re({},t);return Object.entries(o).forEach(([n,s])=>{s!=null&&(e[n]=s)}),e}var Oi=class{styles;defaultParams;normalizer;constructor(t,e,n){this.styles=t,this.defaultParams=e,this.normalizer=n}buildStyles(t,e){let n=new Map,s=ao(t,this.defaultParams);return this.styles.styles.forEach(c=>{typeof c!="string"&&c.forEach((d,f)=>{d&&(d=Et(d,s,e));let x=this.normalizer.normalizePropertyName(f,e);d=this.normalizer.normalizeStyleValue(f,x,d,e),n.set(f,d)})}),n}};function Jo(o,t,e){return new Si(o,t,e)}var Si=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(t,e,n){this.name=t,this.ast=e,this._normalizer=n,e.states.forEach(s=>{let c=s.options&&s.options.params||{};this.states.set(s.name,new Oi(s.style,c,n))}),Xr(this.states,"true","1"),Xr(this.states,"false","0"),e.transitions.forEach(s=>{this.transitionFactories.push(new Mn(t,s,this.states))}),this.fallbackTransition=Zo(t,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(t,e,n,s){return this.transitionFactories.find(d=>d.match(t,e,n,s))||null}matchStyles(t,e,n){return this.fallbackTransition.buildStyles(t,e,n)}};function Zo(o,t,e){let n=[(d,f)=>!0],s={type:G.Sequence,steps:[],options:null},c={type:G.Transition,animation:s,matchers:n,options:null,queryCount:0,depCount:0};return new Mn(o,c,t)}function Xr(o,t,e){o.has(t)?o.has(e)||o.set(e,o.get(t)):o.has(e)&&o.set(t,o.get(e))}var ea=new $t,wi=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(t,e,n){this.bodyNode=t,this._driver=e,this._normalizer=n}register(t,e){let n=[],s=[],c=ro(this._driver,e,n,s);if(n.length)throw Fr(n);this._animations.set(t,c)}_buildPlayer(t,e,n){let s=t.element,c=si(this._normalizer,t.keyframes,e,n);return this._driver.animate(s,c,t.duration,t.delay,t.easing,[],!0)}create(t,e,n={}){let s=[],c=this._animations.get(t),d,f=new Map;if(c?(d=oo(this._driver,e,c,gi,dn,new Map,new Map,n,ea,s),d.forEach(S=>{let O=we(f,S.element,new Map);S.postStyleProps.forEach(Y=>O.set(Y,null))})):(s.push(Rr()),d=[]),s.length)throw Dr(s);f.forEach((S,O)=>{S.forEach((Y,z)=>{S.set(z,this._driver.computeStyle(O,z,je))})});let x=d.map(S=>{let O=f.get(S.element);return this._buildPlayer(S,new Map,O)}),M=it(x);return this._playersById.set(t,M),M.onDestroy(()=>this.destroy(t)),this.players.push(M),M}destroy(t){let e=this._getPlayer(t);e.destroy(),this._playersById.delete(t);let n=this.players.indexOf(e);n>=0&&this.players.splice(n,1)}_getPlayer(t){let e=this._playersById.get(t);if(!e)throw Ar(t);return e}listen(t,e,n,s){let c=ln(e,"","","");return sn(this._getPlayer(t),n,c,s),()=>{}}command(t,e,n,s){if(n=="register"){this.register(t,s[0]);return}if(n=="create"){let d=s[0]||{};this.create(t,e,d);return}let c=this._getPlayer(t);switch(n){case"play":c.play();break;case"pause":c.pause();break;case"reset":c.reset();break;case"restart":c.restart();break;case"finish":c.finish();break;case"init":c.init();break;case"setPosition":c.setPosition(parseFloat(s[0]));break;case"destroy":this.destroy(t);break}}},Jr="ng-animate-queued",ta=".ng-animate-queued",_i="ng-animate-disabled",na=".ng-animate-disabled",ia="ng-star-inserted",ra=".ng-star-inserted",oa=[],so={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},aa={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},$e="__ng_removed",Ht=class{namespaceId;value;options;get params(){return this.options.params}constructor(t,e=""){this.namespaceId=e;let n=t&&t.hasOwnProperty("value"),s=n?t.value:t;if(this.value=la(s),n){let c=t,{value:d}=c,f=Wi(c,["value"]);this.options=f}else this.options={};this.options.params||(this.options.params={})}absorbOptions(t){let e=t.params;if(e){let n=this.options.params;Object.keys(e).forEach(s=>{n[s]==null&&(n[s]=e[s])})}}},Wt="void",bi=new Ht(Wt),Ei=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(t,e,n){this.id=t,this.hostElement=e,this._engine=n,this._hostClassName="ng-tns-"+t,Ne(e,this._hostClassName)}listen(t,e,n,s){if(!this._triggers.has(e))throw Nr(n,e);if(n==null||n.length==0)throw Br(e);if(!ca(n))throw Lr(n,e);let c=we(this._elementListeners,t,[]),d={name:e,phase:n,callback:s};c.push(d);let f=we(this._engine.statesByElement,t,new Map);return f.has(e)||(Ne(t,Ut),Ne(t,Ut+"-"+e),f.set(e,bi)),()=>{this._engine.afterFlush(()=>{let x=c.indexOf(d);x>=0&&c.splice(x,1),this._triggers.has(e)||f.delete(e)})}}register(t,e){return this._triggers.has(t)?!1:(this._triggers.set(t,e),!0)}_getTrigger(t){let e=this._triggers.get(t);if(!e)throw Vr(t);return e}trigger(t,e,n,s=!0){let c=this._getTrigger(e),d=new Gt(this.id,e,t),f=this._engine.statesByElement.get(t);f||(Ne(t,Ut),Ne(t,Ut+"-"+e),this._engine.statesByElement.set(t,f=new Map));let x=f.get(e),M=new Ht(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&x&&M.absorbOptions(x.options),f.set(e,M),x||(x=bi),!(M.value===Wt)&&x.value===M.value){if(!ga(x.params,M.params)){let V=[],te=c.matchStyles(x.value,x.params,V),me=c.matchStyles(M.value,M.params,V);V.length?this._engine.reportError(V):this._engine.afterFlush(()=>{st(t,te),We(t,me)})}return}let Y=we(this._engine.playersByElement,t,[]);Y.forEach(V=>{V.namespaceId==this.id&&V.triggerName==e&&V.queued&&V.destroy()});let z=c.matchTransition(x.value,M.value,t,M.params),R=!1;if(!z){if(!s)return;z=c.fallbackTransition,R=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:e,transition:z,fromState:x,toState:M,player:d,isFallbackTransition:R}),R||(Ne(t,Jr),d.onStart(()=>{kt(t,Jr)})),d.onDone(()=>{let V=this.players.indexOf(d);V>=0&&this.players.splice(V,1);let te=this._engine.playersByElement.get(t);if(te){let me=te.indexOf(d);me>=0&&te.splice(me,1)}}),this.players.push(d),Y.push(d),d}deregister(t){this._triggers.delete(t),this._engine.statesByElement.forEach(e=>e.delete(t)),this._elementListeners.forEach((e,n)=>{this._elementListeners.set(n,e.filter(s=>s.name!=t))})}clearElementCache(t){this._engine.statesByElement.delete(t),this._elementListeners.delete(t);let e=this._engine.playersByElement.get(t);e&&(e.forEach(n=>n.destroy()),this._engine.playersByElement.delete(t))}_signalRemovalForInnerTriggers(t,e){let n=this._engine.driver.query(t,zt,!0);n.forEach(s=>{if(s[$e])return;let c=this._engine.fetchNamespacesByElement(s);c.size?c.forEach(d=>d.triggerLeaveAnimation(s,e,!1,!0)):this.clearElementCache(s)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(s=>this.clearElementCache(s)))}triggerLeaveAnimation(t,e,n,s){let c=this._engine.statesByElement.get(t),d=new Map;if(c){let f=[];if(c.forEach((x,M)=>{if(d.set(M,x.value),this._triggers.has(M)){let S=this.trigger(t,M,Wt,s);S&&f.push(S)}}),f.length)return this._engine.markElementAsRemoved(this.id,t,!0,e,d),n&&it(f).onDone(()=>this._engine.processLeaveNode(t)),!0}return!1}prepareLeaveAnimationListeners(t){let e=this._elementListeners.get(t),n=this._engine.statesByElement.get(t);if(e&&n){let s=new Set;e.forEach(c=>{let d=c.name;if(s.has(d))return;s.add(d);let x=this._triggers.get(d).fallbackTransition,M=n.get(d)||bi,S=new Ht(Wt),O=new Gt(this.id,d,t);this._engine.totalQueuedPlayers++,this._queue.push({element:t,triggerName:d,transition:x,fromState:M,toState:S,player:O,isFallbackTransition:!0})})}}removeNode(t,e){let n=this._engine;if(t.childElementCount&&this._signalRemovalForInnerTriggers(t,e),this.triggerLeaveAnimation(t,e,!0))return;let s=!1;if(n.totalAnimations){let c=n.players.length?n.playersByQueriedElement.get(t):[];if(c&&c.length)s=!0;else{let d=t;for(;d=d.parentNode;)if(n.statesByElement.get(d)){s=!0;break}}}if(this.prepareLeaveAnimationListeners(t),s)n.markElementAsRemoved(this.id,t,!1,e);else{let c=t[$e];(!c||c===so)&&(n.afterFlush(()=>this.clearElementCache(t)),n.destroyInnerAnimations(t),n._onRemovalComplete(t,e))}}insertNode(t,e){Ne(t,this._hostClassName)}drainQueuedTransitions(t){let e=[];return this._queue.forEach(n=>{let s=n.player;if(s.destroyed)return;let c=n.element,d=this._elementListeners.get(c);d&&d.forEach(f=>{if(f.name==n.triggerName){let x=ln(c,n.triggerName,n.fromState.value,n.toState.value);x._data=t,sn(n.player,f.phase,x,f.callback)}}),s.markedForDestroy?this._engine.afterFlush(()=>{s.destroy()}):e.push(n)}),this._queue=[],e.sort((n,s)=>{let c=n.transition.ast.depCount,d=s.transition.ast.depCount;return c==0||d==0?c-d:this._engine.driver.containsElement(n.element,s.element)?1:-1})}destroy(t){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,t)}},ki=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(t,e)=>{};_onRemovalComplete(t,e){this.onRemovalComplete(t,e)}constructor(t,e,n){this.bodyNode=t,this.driver=e,this._normalizer=n}get queuedPlayers(){let t=[];return this._namespaceList.forEach(e=>{e.players.forEach(n=>{n.queued&&t.push(n)})}),t}createNamespace(t,e){let n=new Ei(t,e,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,e)?this._balanceNamespaceList(n,e):(this.newHostElements.set(e,n),this.collectEnterElement(e)),this._namespaceLookup[t]=n}_balanceNamespaceList(t,e){let n=this._namespaceList,s=this.namespacesByHostElement;if(n.length-1>=0){let d=!1,f=this.driver.getParentElement(e);for(;f;){let x=s.get(f);if(x){let M=n.indexOf(x);n.splice(M+1,0,t),d=!0;break}f=this.driver.getParentElement(f)}d||n.unshift(t)}else n.push(t);return s.set(e,t),t}register(t,e){let n=this._namespaceLookup[t];return n||(n=this.createNamespace(t,e)),n}registerTrigger(t,e,n){let s=this._namespaceLookup[t];s&&s.register(e,n)&&this.totalAnimations++}destroy(t,e){t&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(t);this.namespacesByHostElement.delete(n.hostElement);let s=this._namespaceList.indexOf(n);s>=0&&this._namespaceList.splice(s,1),n.destroy(e),delete this._namespaceLookup[t]}))}_fetchNamespace(t){return this._namespaceLookup[t]}fetchNamespacesByElement(t){let e=new Set,n=this.statesByElement.get(t);if(n){for(let s of n.values())if(s.namespaceId){let c=this._fetchNamespace(s.namespaceId);c&&e.add(c)}}return e}trigger(t,e,n,s){if(hn(e)){let c=this._fetchNamespace(t);if(c)return c.trigger(e,n,s),!0}return!1}insertNode(t,e,n,s){if(!hn(e))return;let c=e[$e];if(c&&c.setForRemoval){c.setForRemoval=!1,c.setForMove=!0;let d=this.collectedLeaveElements.indexOf(e);d>=0&&this.collectedLeaveElements.splice(d,1)}if(t){let d=this._fetchNamespace(t);d&&d.insertNode(e,n)}s&&this.collectEnterElement(e)}collectEnterElement(t){this.collectedEnterElements.push(t)}markElementAsDisabled(t,e){e?this.disabledNodes.has(t)||(this.disabledNodes.add(t),Ne(t,_i)):this.disabledNodes.has(t)&&(this.disabledNodes.delete(t),kt(t,_i))}removeNode(t,e,n){if(hn(e)){let s=t?this._fetchNamespace(t):null;s?s.removeNode(e,n):this.markElementAsRemoved(t,e,!1,n);let c=this.namespacesByHostElement.get(e);c&&c.id!==t&&c.removeNode(e,n)}else this._onRemovalComplete(e,n)}markElementAsRemoved(t,e,n,s,c){this.collectedLeaveElements.push(e),e[$e]={namespaceId:t,setForRemoval:s,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:c}}listen(t,e,n,s,c){return hn(e)?this._fetchNamespace(t).listen(e,n,s,c):()=>{}}_buildInstruction(t,e,n,s,c){return t.transition.build(this.driver,t.element,t.fromState.value,t.toState.value,n,s,t.fromState.options,t.toState.options,e,c)}destroyInnerAnimations(t){let e=this.driver.query(t,zt,!0);e.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(e=this.driver.query(t,mn,!0),e.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(t){let e=this.playersByElement.get(t);e&&e.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(t){let e=this.playersByQueriedElement.get(t);e&&e.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(t=>{if(this.players.length)return it(this.players).onDone(()=>t());t()})}processLeaveNode(t){let e=t[$e];if(e&&e.setForRemoval){if(t[$e]=so,e.namespaceId){this.destroyInnerAnimations(t);let n=this._fetchNamespace(e.namespaceId);n&&n.clearElementCache(t)}this._onRemovalComplete(t,e.setForRemoval)}t.classList?.contains(_i)&&this.markElementAsDisabled(t,!1),this.driver.query(t,na,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(t=-1){let e=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,s)=>this._balanceNamespaceList(n,s)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let s=this.collectedEnterElements[n];Ne(s,ia)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{e=this._flushAnimations(n,t)}finally{for(let s=0;s<n.length;s++)n[s]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let s=this.collectedLeaveElements[n];this.processLeaveNode(s)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],e.length?it(e).onDone(()=>{n.forEach(s=>s())}):n.forEach(s=>s())}}reportError(t){throw Ur(t)}_flushAnimations(t,e){let n=new $t,s=[],c=new Map,d=[],f=new Map,x=new Map,M=new Map,S=new Set;this.disabledNodes.forEach(T=>{S.add(T);let D=this.driver.query(T,ta,!0);for(let N=0;N<D.length;N++)S.add(D[N])});let O=this.bodyNode,Y=Array.from(this.statesByElement.keys()),z=to(Y,this.collectedEnterElements),R=new Map,V=0;z.forEach((T,D)=>{let N=gi+V++;R.set(D,N),T.forEach(K=>Ne(K,N))});let te=[],me=new Set,pe=new Set;for(let T=0;T<this.collectedLeaveElements.length;T++){let D=this.collectedLeaveElements[T],N=D[$e];N&&N.setForRemoval&&(te.push(D),me.add(D),N.hasAnimation?this.driver.query(D,ra,!0).forEach(K=>me.add(K)):pe.add(D))}let Oe=new Map,be=to(Y,Array.from(me));be.forEach((T,D)=>{let N=dn+V++;Oe.set(D,N),T.forEach(K=>Ne(K,N))}),t.push(()=>{z.forEach((T,D)=>{let N=R.get(D);T.forEach(K=>kt(K,N))}),be.forEach((T,D)=>{let N=Oe.get(D);T.forEach(K=>kt(K,N))}),te.forEach(T=>{this.processLeaveNode(T)})});let Ct=[],Ye=[];for(let T=this._namespaceList.length-1;T>=0;T--)this._namespaceList[T].drainQueuedTransitions(e).forEach(N=>{let K=N.player,fe=N.element;if(Ct.push(K),this.collectedEnterElements.length){let ve=fe[$e];if(ve&&ve.setForMove){if(ve.previousTriggersValues&&ve.previousTriggersValues.has(N.triggerName)){let ut=ve.previousTriggersValues.get(N.triggerName),Fe=this.statesByElement.get(N.element);if(Fe&&Fe.has(N.triggerName)){let Xt=Fe.get(N.triggerName);Xt.value=ut,Fe.set(N.triggerName,Xt)}}K.destroy();return}}let qe=!O||!this.driver.containsElement(O,fe),Ie=Oe.get(fe),rt=R.get(fe),re=this._buildInstruction(N,n,rt,Ie,qe);if(re.errors&&re.errors.length){Ye.push(re);return}if(qe){K.onStart(()=>st(fe,re.fromStyles)),K.onDestroy(()=>We(fe,re.toStyles)),s.push(K);return}if(N.isFallbackTransition){K.onStart(()=>st(fe,re.fromStyles)),K.onDestroy(()=>We(fe,re.toStyles)),s.push(K);return}let zi=[];re.timelines.forEach(ve=>{ve.stretchStartingKeyframe=!0,this.disabledNodes.has(ve.element)||zi.push(ve)}),re.timelines=zi,n.append(fe,re.timelines);let Mo={instruction:re,player:K,element:fe};d.push(Mo),re.queriedElements.forEach(ve=>we(f,ve,[]).push(K)),re.preStyleProps.forEach((ve,ut)=>{if(ve.size){let Fe=x.get(ut);Fe||x.set(ut,Fe=new Set),ve.forEach((Xt,Jn)=>Fe.add(Jn))}}),re.postStyleProps.forEach((ve,ut)=>{let Fe=M.get(ut);Fe||M.set(ut,Fe=new Set),ve.forEach((Xt,Jn)=>Fe.add(Jn))})});if(Ye.length){let T=[];Ye.forEach(D=>{T.push(zr(D.triggerName,D.errors))}),Ct.forEach(D=>D.destroy()),this.reportError(T)}let H=new Map,Se=new Map;d.forEach(T=>{let D=T.element;n.has(D)&&(Se.set(D,D),this._beforeAnimationBuild(T.player.namespaceId,T.instruction,H))}),s.forEach(T=>{let D=T.element;this._getPreviousPlayers(D,!1,T.namespaceId,T.triggerName,null).forEach(K=>{we(H,D,[]).push(K),K.destroy()})});let pt=te.filter(T=>no(T,x,M)),xt=new Map;eo(xt,this.driver,pe,M,je).forEach(T=>{no(T,x,M)&&pt.push(T)});let ft=new Map;z.forEach((T,D)=>{eo(ft,this.driver,new Set(T),x,Vt)}),pt.forEach(T=>{let D=xt.get(T),N=ft.get(T);xt.set(T,new Map([...D?.entries()??[],...N?.entries()??[]]))});let Xn=[],Vi=[],Ui={};d.forEach(T=>{let{element:D,player:N,instruction:K}=T;if(n.has(D)){if(S.has(D)){N.onDestroy(()=>We(D,K.toStyles)),N.disabled=!0,N.overrideTotalTime(K.totalTime),s.push(N);return}let fe=Ui;if(Se.size>1){let Ie=D,rt=[];for(;Ie=Ie.parentNode;){let re=Se.get(Ie);if(re){fe=re;break}rt.push(Ie)}rt.forEach(re=>Se.set(re,fe))}let qe=this._buildAnimation(N.namespaceId,K,H,c,ft,xt);if(N.setRealPlayer(qe),fe===Ui)Xn.push(N);else{let Ie=this.playersByElement.get(fe);Ie&&Ie.length&&(N.parentPlayer=it(Ie)),s.push(N)}}else st(D,K.fromStyles),N.onDestroy(()=>We(D,K.toStyles)),Vi.push(N),S.has(D)&&s.push(N)}),Vi.forEach(T=>{let D=c.get(T.element);if(D&&D.length){let N=it(D);T.setRealPlayer(N)}}),s.forEach(T=>{T.parentPlayer?T.syncPlayerEvents(T.parentPlayer):T.destroy()});for(let T=0;T<te.length;T++){let D=te[T],N=D[$e];if(kt(D,dn),N&&N.hasAnimation)continue;let K=[];if(f.size){let qe=f.get(D);qe&&qe.length&&K.push(...qe);let Ie=this.driver.query(D,mn,!0);for(let rt=0;rt<Ie.length;rt++){let re=f.get(Ie[rt]);re&&re.length&&K.push(...re)}}let fe=K.filter(qe=>!qe.destroyed);fe.length?da(this,D,fe):this.processLeaveNode(D)}return te.length=0,Xn.forEach(T=>{this.players.push(T),T.onDone(()=>{T.destroy();let D=this.players.indexOf(T);this.players.splice(D,1)}),T.play()}),Xn}afterFlush(t){this._flushFns.push(t)}afterFlushAnimationsDone(t){this._whenQuietFns.push(t)}_getPreviousPlayers(t,e,n,s,c){let d=[];if(e){let f=this.playersByQueriedElement.get(t);f&&(d=f)}else{let f=this.playersByElement.get(t);if(f){let x=!c||c==Wt;f.forEach(M=>{M.queued||!x&&M.triggerName!=s||d.push(M)})}}return(n||s)&&(d=d.filter(f=>!(n&&n!=f.namespaceId||s&&s!=f.triggerName))),d}_beforeAnimationBuild(t,e,n){let s=e.triggerName,c=e.element,d=e.isRemovalTransition?void 0:t,f=e.isRemovalTransition?void 0:s;for(let x of e.timelines){let M=x.element,S=M!==c,O=we(n,M,[]);this._getPreviousPlayers(M,S,d,f,e.toState).forEach(z=>{let R=z.getRealPlayer();R.beforeDestroy&&R.beforeDestroy(),z.destroy(),O.push(z)})}st(c,e.fromStyles)}_buildAnimation(t,e,n,s,c,d){let f=e.triggerName,x=e.element,M=[],S=new Set,O=new Set,Y=e.timelines.map(R=>{let V=R.element;S.add(V);let te=V[$e];if(te&&te.removedBeforeQueried)return new nt(R.duration,R.delay);let me=V!==x,pe=ma((n.get(V)||oa).map(H=>H.getRealPlayer())).filter(H=>{let Se=H;return Se.element?Se.element===V:!1}),Oe=c.get(V),be=d.get(V),Ct=si(this._normalizer,R.keyframes,Oe,be),Ye=this._buildPlayer(R,Ct,pe);if(R.subTimeline&&s&&O.add(V),me){let H=new Gt(t,f,V);H.setRealPlayer(Ye),M.push(H)}return Ye});M.forEach(R=>{we(this.playersByQueriedElement,R.element,[]).push(R),R.onDone(()=>sa(this.playersByQueriedElement,R.element,R))}),S.forEach(R=>Ne(R,pi));let z=it(Y);return z.onDestroy(()=>{S.forEach(R=>kt(R,pi)),We(x,e.toStyles)}),O.forEach(R=>{we(s,R,[]).push(z)}),z}_buildPlayer(t,e,n){return e.length>0?this.driver.animate(t.element,e,t.duration,t.delay,t.easing,n):new nt(t.duration,t.delay)}},Gt=class{namespaceId;triggerName;element;_player=new nt;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(t,e,n){this.namespaceId=t,this.triggerName=e,this.element=n}setRealPlayer(t){this._containsRealPlayer||(this._player=t,this._queuedCallbacks.forEach((e,n)=>{e.forEach(s=>sn(t,n,void 0,s))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(t.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(t){this.totalTime=t}syncPlayerEvents(t){let e=this._player;e.triggerCallback&&t.onStart(()=>e.triggerCallback("start")),t.onDone(()=>this.finish()),t.onDestroy(()=>this.destroy())}_queueEvent(t,e){we(this._queuedCallbacks,t,[]).push(e)}onDone(t){this.queued&&this._queueEvent("done",t),this._player.onDone(t)}onStart(t){this.queued&&this._queueEvent("start",t),this._player.onStart(t)}onDestroy(t){this.queued&&this._queueEvent("destroy",t),this._player.onDestroy(t)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(t){this.queued||this._player.setPosition(t)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(t){let e=this._player;e.triggerCallback&&e.triggerCallback(t)}};function sa(o,t,e){let n=o.get(t);if(n){if(n.length){let s=n.indexOf(e);n.splice(s,1)}n.length==0&&o.delete(t)}return n}function la(o){return o??null}function hn(o){return o&&o.nodeType===1}function ca(o){return o=="start"||o=="done"}function Zr(o,t){let e=o.style.display;return o.style.display=t??"none",e}function eo(o,t,e,n,s){let c=[];e.forEach(x=>c.push(Zr(x)));let d=[];n.forEach((x,M)=>{let S=new Map;x.forEach(O=>{let Y=t.computeStyle(M,O,s);S.set(O,Y),(!Y||Y.length==0)&&(M[$e]=aa,d.push(M))}),o.set(M,S)});let f=0;return e.forEach(x=>Zr(x,c[f++])),d}function to(o,t){let e=new Map;if(o.forEach(f=>e.set(f,[])),t.length==0)return e;let n=1,s=new Set(t),c=new Map;function d(f){if(!f)return n;let x=c.get(f);if(x)return x;let M=f.parentNode;return e.has(M)?x=M:s.has(M)?x=n:x=d(M),c.set(f,x),x}return t.forEach(f=>{let x=d(f);x!==n&&e.get(x).push(f)}),e}function Ne(o,t){o.classList?.add(t)}function kt(o,t){o.classList?.remove(t)}function da(o,t,e){it(e).onDone(()=>o.processLeaveNode(t))}function ma(o){let t=[];return lo(o,t),t}function lo(o,t){for(let e=0;e<o.length;e++){let n=o[e];n instanceof St?lo(n.players,t):t.push(n)}}function ga(o,t){let e=Object.keys(o),n=Object.keys(t);if(e.length!=n.length)return!1;for(let s=0;s<e.length;s++){let c=e[s];if(!t.hasOwnProperty(c)||o[c]!==t[c])return!1}return!0}function no(o,t,e){let n=e.get(o);if(!n)return!1;let s=t.get(o);return s?n.forEach(c=>s.add(c)):t.set(o,n),e.delete(o),!0}var It=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(t,e)=>{};constructor(t,e,n){this._driver=e,this._normalizer=n,this._transitionEngine=new ki(t.body,e,n),this._timelineEngine=new wi(t.body,e,n),this._transitionEngine.onRemovalComplete=(s,c)=>this.onRemovalComplete(s,c)}registerTrigger(t,e,n,s,c){let d=t+"-"+s,f=this._triggerCache[d];if(!f){let x=[],M=[],S=ro(this._driver,c,x,M);if(x.length)throw Tr(s,x);f=Jo(s,S,this._normalizer),this._triggerCache[d]=f}this._transitionEngine.registerTrigger(e,s,f)}register(t,e){this._transitionEngine.register(t,e)}destroy(t,e){this._transitionEngine.destroy(t,e)}onInsert(t,e,n,s){this._transitionEngine.insertNode(t,e,n,s)}onRemove(t,e,n){this._transitionEngine.removeNode(t,e,n)}disableAnimations(t,e){this._transitionEngine.markElementAsDisabled(t,e)}process(t,e,n,s){if(n.charAt(0)=="@"){let[c,d]=li(n),f=s;this._timelineEngine.command(c,e,d,f)}else this._transitionEngine.trigger(t,e,n,s)}listen(t,e,n,s,c){if(n.charAt(0)=="@"){let[d,f]=li(n);return this._timelineEngine.listen(d,e,f,c)}return this._transitionEngine.listen(t,e,n,s,c)}flush(t=-1){this._transitionEngine.flush(t)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(t){this._transitionEngine.afterFlushAnimationsDone(t)}};function pa(o,t){let e=null,n=null;return Array.isArray(t)&&t.length?(e=vi(t[0]),t.length>1&&(n=vi(t[t.length-1]))):t instanceof Map&&(e=vi(t)),e||n?new fa(o,e,n):null}var fa=(()=>{class o{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(e,n,s){this._element=e,this._startStyles=n,this._endStyles=s;let c=o.initialStylesByElement.get(e);c||o.initialStylesByElement.set(e,c=new Map),this._initialStyles=c}start(){this._state<1&&(this._startStyles&&We(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(We(this._element,this._initialStyles),this._endStyles&&(We(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(o.initialStylesByElement.delete(this._element),this._startStyles&&(st(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(st(this._element,this._endStyles),this._endStyles=null),We(this._element,this._initialStyles),this._state=3)}}return o})();function vi(o){let t=null;return o.forEach((e,n)=>{ua(n)&&(t=t||new Map,t.set(n,e))}),t}function ua(o){return o==="display"||o==="position"}var Pn=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(t,e,n,s){this.element=t,this.keyframes=e,this.options=n,this._specialStyles=s,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(t=>t()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let t=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,t,this.options),this._finalKeyframe=t.length?t[t.length-1]:new Map;let e=()=>this._onFinish();this.domPlayer.addEventListener("finish",e),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",e)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(t){let e=[];return t.forEach(n=>{e.push(Object.fromEntries(n))}),e}_triggerWebAnimation(t,e,n){return t.animate(this._convertKeyframesToObject(e),n)}onStart(t){this._originalOnStartFns.push(t),this._onStartFns.push(t)}onDone(t){this._originalOnDoneFns.push(t),this._onDoneFns.push(t)}onDestroy(t){this._onDestroyFns.push(t)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(t=>t()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(t=>t()),this._onDestroyFns=[])}setPosition(t){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=t*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let t=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,s)=>{s!=="offset"&&t.set(s,this._finished?n:pn(this.element,s))}),this.currentSnapshot=t}triggerCallback(t){let e=t==="start"?this._onStartFns:this._onDoneFns;e.forEach(n=>n()),e.length=0}},yn=class{validateStyleProperty(t){return!0}validateAnimatableStyleProperty(t){return!0}containsElement(t,e){return ci(t,e)}getParentElement(t){return cn(t)}query(t,e,n){return di(t,e,n)}computeStyle(t,e,n){return pn(t,e)}animate(t,e,n,s,c,d=[]){let f=s==0?"both":"forwards",x={duration:n,delay:s,fill:f};c&&(x.easing=c);let M=new Map,S=d.filter(z=>z instanceof Pn);Hr(n,s)&&S.forEach(z=>{z.currentSnapshot.forEach((R,V)=>M.set(V,R))});let O=Wr(e).map(z=>new Map(z));O=Gr(t,O,M);let Y=pa(t,O);return new Pn(t,O,x,Y)}};var _n="@",co="@.disabled",On=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(t,e,n,s){this.namespaceId=t,this.delegate=e,this.engine=n,this._onDestroy=s}get data(){return this.delegate.data}destroyNode(t){this.delegate.destroyNode?.(t)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}appendChild(t,e){this.delegate.appendChild(t,e),this.engine.onInsert(this.namespaceId,e,t,!1)}insertBefore(t,e,n,s=!0){this.delegate.insertBefore(t,e,n),this.engine.onInsert(this.namespaceId,e,t,s)}removeChild(t,e,n){this.parentNode(e)&&this.engine.onRemove(this.namespaceId,e,this.delegate)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,n,s){this.delegate.setAttribute(t,e,n,s)}removeAttribute(t,e,n){this.delegate.removeAttribute(t,e,n)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,n,s){this.delegate.setStyle(t,e,n,s)}removeStyle(t,e,n){this.delegate.removeStyle(t,e,n)}setProperty(t,e,n){e.charAt(0)==_n&&e==co?this.disableAnimations(t,!!n):this.delegate.setProperty(t,e,n)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,n,s){return this.delegate.listen(t,e,n,s)}disableAnimations(t,e){this.engine.disableAnimations(t,e)}},Ii=class extends On{factory;constructor(t,e,n,s,c){super(e,n,s,c),this.factory=t,this.namespaceId=e}setProperty(t,e,n){e.charAt(0)==_n?e.charAt(1)=="."&&e==co?(n=n===void 0?!0:!!n,this.disableAnimations(t,n)):this.engine.process(this.namespaceId,t,e.slice(1),n):this.delegate.setProperty(t,e,n)}listen(t,e,n,s){if(e.charAt(0)==_n){let c=ha(t),d=e.slice(1),f="";return d.charAt(0)!=_n&&([d,f]=_a(d)),this.engine.listen(this.namespaceId,c,d,f,x=>{let M=x._data||-1;this.factory.scheduleListenerCallback(M,n,x)})}return this.delegate.listen(t,e,n,s)}};function ha(o){switch(o){case"body":return document.body;case"document":return document;case"window":return window;default:return o}}function _a(o){let t=o.indexOf("."),e=o.substring(0,t),n=o.slice(t+1);return[e,n]}var Sn=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(t,e,n){this.delegate=t,this.engine=e,this._zone=n,e.onRemovalComplete=(s,c)=>{c?.removeChild(null,s)}}createRenderer(t,e){let n="",s=this.delegate.createRenderer(t,e);if(!t||!e?.data?.animation){let M=this._rendererCache,S=M.get(s);if(!S){let O=()=>M.delete(s);S=new On(n,s,this.engine,O),M.set(s,S)}return S}let c=e.id,d=e.id+"-"+this._currentId;this._currentId++,this.engine.register(d,t);let f=M=>{Array.isArray(M)?M.forEach(f):this.engine.registerTrigger(c,d,t,M.name,M)};return e.data.animation.forEach(f),new Ii(this,d,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,e,n){if(t>=0&&t<this._microtaskId){this._zone.run(()=>e(n));return}let s=this._animationCallbacksBuffer;s.length==0&&queueMicrotask(()=>{this._zone.run(()=>{s.forEach(c=>{let[d,f]=c;d(f)}),this._animationCallbacksBuffer=[]})}),s.push([e,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(t){this.engine.flush(),this.delegate.componentReplaced?.(t)}};var va=(()=>{class o extends It{constructor(e,n,s){super(e,n,s)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||o)(j(ir),j(bt),j(vt))};static \u0275prov=W({token:o,factory:o.\u0275fac})}return o})();function Ca(){return new bn}function xa(o,t,e){return new Sn(o,t,e)}var mo=[{provide:vt,useFactory:Ca},{provide:It,useClass:va},{provide:Qi,useFactory:xa,deps:[or,It,qi]}],C0=[{provide:bt,useClass:Ti},{provide:ei,useValue:"NoopAnimations"},...mo],Ma=[{provide:bt,useFactory:()=>new yn},{provide:ei,useFactory:()=>"BrowserAnimations"},...mo];function go(){return Ki("NgEagerAnimations"),[...Ma]}function Pa(o,t){if(o&1&&g(0,"i",6),o&2){let e=p();$(e.icon)}}function ya(o,t){o&1&&g(0,"div",7)}function Oa(o,t){o&1&&g(0,"div",8)}var lt=class o{text="";loadingText="Loading...";icon="";variant="primary";size="md";disabled=!1;loading=!1;type="button";showRipple=!0;onClick=new De;get buttonClasses(){let t=["btn",`btn-${this.variant}`];return this.size!=="md"&&t.push(`btn-${this.size}`),this.loading&&t.push("loading"),t.join(" ")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-modern-button"]],inputs:{text:"text",loadingText:"loadingText",icon:"icon",variant:"variant",size:"size",disabled:"disabled",loading:"loading",type:"type",showRipple:"showRipple"},outputs:{onClick:"onClick"},decls:7,vars:10,consts:[[3,"click","disabled","type"],[1,"button-content"],["class","button-icon",3,"class",4,"ngIf"],["class","spinner",4,"ngIf"],[1,"button-text"],["class","button-ripple",4,"ngIf"],[1,"button-icon"],[1,"spinner"],[1,"button-ripple"]],template:function(e,n){e&1&&(r(0,"button",0),b("click",function(c){return n.onClick.emit(c)}),r(1,"div",1),_(2,Pa,1,2,"i",2)(3,ya,1,0,"div",3),r(4,"span",4),a(5),i()(),_(6,Oa,1,0,"div",5),i()),e&2&&($(n.buttonClasses),m("disabled",n.disabled||n.loading)("type",n.type),l(),w("loading",n.loading),l(),m("ngIf",n.icon&&!n.loading),l(),m("ngIf",n.loading),l(2),C(" ",n.loading?n.loadingText:n.text," "),l(),m("ngIf",n.showRipple))},dependencies:[L,B],styles:['[_nghost-%COMP%]{display:inline-block}button[_ngcontent-%COMP%]{position:relative;overflow:hidden;border:none;cursor:pointer;font-family:Inter,sans-serif;font-weight:600;border-radius:12px;transition:all .3s cubic-bezier(.4,0,.2,1);display:inline-flex;align-items:center;justify-content:center;gap:8px;text-decoration:none;letter-spacing:.025em;font-size:14px;line-height:1}button[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .6s ease}button[_ngcontent-%COMP%]:hover:before{left:100%}button[_ngcontent-%COMP%]:active{transform:scale(.98)}button[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed;transform:none!important}.button-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;position:relative;z-index:1}.button-icon[_ngcontent-%COMP%]{font-size:16px}.spinner[_ngcontent-%COMP%]{width:16px;height:16px;border:2px solid rgba(255,255,255,.3);border-top:2px solid white;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#bfdaa4,#8fb370);color:#fff;padding:12px 24px;box-shadow:0 4px 15px #bfdaa44d}.btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #bfdaa466}.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#64748b,#475569);color:#fff;padding:12px 24px;box-shadow:0 4px 15px #64748b4d}.btn-secondary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #64748b66}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e,#16a34a);color:#fff;padding:12px 24px;box-shadow:0 4px 15px #22c55e4d}.btn-success[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #22c55e66}.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);color:#fff;padding:12px 24px;box-shadow:0 4px 15px #ef44444d}.btn-danger[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #ef444466}.btn-outline[_ngcontent-%COMP%]{background:transparent;border:2px solid #bfdaa4;color:#bfdaa4;padding:10px 22px}.btn-outline[_ngcontent-%COMP%]:hover{background:#bfdaa4;color:#fff;transform:translateY(-2px);box-shadow:0 6px 20px #bfdaa44d}.btn-lg[_ngcontent-%COMP%]{padding:16px 32px;font-size:16px;border-radius:16px}.btn-lg[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{font-size:18px}.btn-lg[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:18px;height:18px}.btn-sm[_ngcontent-%COMP%]{padding:8px 16px;font-size:12px;border-radius:8px}.btn-sm[_ngcontent-%COMP%]   .button-icon[_ngcontent-%COMP%]{font-size:14px}.btn-sm[_ngcontent-%COMP%]   .spinner[_ngcontent-%COMP%]{width:14px;height:14px}.button-ripple[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:#ffffff4d;transform:scale(0);animation:_ngcontent-%COMP%_ripple .6s linear;pointer-events:none}@keyframes _ngcontent-%COMP%_ripple{to{transform:scale(4);opacity:0}}']})};var Sa=["*",[["","card-actions",""]],[["","card-footer",""]]],wa=["*","[card-actions]","[card-footer]"];function Ea(o,t){if(o&1&&(r(0,"div",8),a(1),i()),o&2){let e=p(2);l(),v(e.title)}}function ka(o,t){if(o&1&&(r(0,"div",9),a(1),i()),o&2){let e=p(2);l(),v(e.subtitle)}}function Ia(o,t){o&1&&(r(0,"div",10),Jt(1,1),i())}function Ta(o,t){if(o&1&&(r(0,"div",4),_(1,Ea,2,1,"div",5)(2,ka,2,1,"div",6)(3,Ia,2,0,"div",7),i()),o&2){let e=p();l(),m("ngIf",e.title),l(),m("ngIf",e.subtitle),l(),m("ngIf",e.actions)}}function Fa(o,t){if(o&1&&(r(0,"div",14),a(1),i()),o&2){let e=p(2);l(),C(" ",e.imageOverlay," ")}}function Ra(o,t){if(o&1&&(r(0,"div",11),g(1,"img",12),_(2,Fa,2,1,"div",13),i()),o&2){let e=p();l(),m("src",e.image,ne)("alt",e.imageAlt||e.title),l(),m("ngIf",e.imageOverlay)}}function Da(o,t){o&1&&(r(0,"div",15),Jt(1,2),i())}var ct=class o{title="";subtitle="";header=!1;footer=!1;showHeader=!1;showFooter=!1;image="";imageAlt="";imageOverlay="";variant="default";size="md";hoverable=!0;elevated=!1;actions=!1;get cardClasses(){let t=["modern-card"];return this.variant!=="default"&&t.push(`card-${this.variant}`),this.size!=="md"&&t.push(`card-${this.size}`),this.hoverable&&t.push("hoverable"),this.elevated&&t.push("elevated"),t.join(" ")}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-modern-card"]],inputs:{title:"title",subtitle:"subtitle",header:"header",footer:"footer",showHeader:"showHeader",showFooter:"showFooter",image:"image",imageAlt:"imageAlt",imageOverlay:"imageOverlay",variant:"variant",size:"size",hoverable:"hoverable",elevated:"elevated",actions:"actions"},ngContentSelectors:wa,decls:6,vars:9,consts:[["class","card-header",4,"ngIf"],["class","card-image",4,"ngIf"],[1,"card-body"],["class","card-footer",4,"ngIf"],[1,"card-header"],["class","card-title",4,"ngIf"],["class","card-subtitle",4,"ngIf"],["class","card-actions",4,"ngIf"],[1,"card-title"],[1,"card-subtitle"],[1,"card-actions"],[1,"card-image"],[3,"src","alt"],["class","card-image-overlay",4,"ngIf"],[1,"card-image-overlay"],[1,"card-footer"]],template:function(e,n){e&1&&(Ji(Sa),r(0,"div"),_(1,Ta,4,3,"div",0)(2,Ra,3,3,"div",1),r(3,"div",2),Jt(4),i(),_(5,Da,2,0,"div",3),i()),e&2&&($(n.cardClasses),w("hoverable",n.hoverable)("elevated",n.elevated),l(),m("ngIf",n.header||n.showHeader),l(),m("ngIf",n.image),l(3),m("ngIf",n.footer||n.showFooter))},dependencies:[L,B],styles:['[_nghost-%COMP%]{display:block}.modern-card[_ngcontent-%COMP%]{background:#f5f5f5;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(0,0,0,.1);border-radius:20px;overflow:hidden;transition:all .4s cubic-bezier(.4,0,.2,1);position:relative}.modern-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(135deg,#bfdaa4,#8fb370);transform:scaleX(0);transition:transform .3s ease}.modern-card.hoverable[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 20px 40px #00000026;border-color:#0003}.modern-card.hoverable[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.modern-card.elevated[_ngcontent-%COMP%]{box-shadow:0 10px 30px #0000001a}.modern-card.elevated[_ngcontent-%COMP%]:hover{box-shadow:0 20px 50px #0003}.card-header[_ngcontent-%COMP%]{padding:24px 24px 16px;border-bottom:1px solid rgba(0,0,0,.1);display:flex;align-items:center;justify-content:space-between;gap:16px}.card-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:1.25rem;font-weight:700;color:#000;margin:0}.card-subtitle[_ngcontent-%COMP%]{font-size:.875rem;color:#000;margin-top:4px}.card-actions[_ngcontent-%COMP%]{display:flex;gap:8px}.card-image[_ngcontent-%COMP%]{position:relative;overflow:hidden}.card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;transition:transform .3s ease}.modern-card[_ngcontent-%COMP%]:hover   .card-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.05)}.card-image-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#00000080;color:#fff;display:flex;align-items:center;justify-content:center;font-weight:600;font-size:1.125rem}.card-body[_ngcontent-%COMP%]{padding:24px}.card-footer[_ngcontent-%COMP%]{padding:16px 24px 24px;border-top:1px solid rgba(0,0,0,.1);display:flex;align-items:center;justify-content:space-between;gap:16px}.card-primary[_ngcontent-%COMP%]{border-top:4px solid #3b82f6}.card-success[_ngcontent-%COMP%]{border-top:4px solid #22c55e}.card-warning[_ngcontent-%COMP%]{border-top:4px solid #f59e0b}.card-danger[_ngcontent-%COMP%]{border-top:4px solid #ef4444}.card-sm[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .card-sm[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .card-sm[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:16px}.card-sm[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1rem}.card-lg[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%], .card-lg[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%], .card-lg[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{padding:32px}.card-lg[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.5rem}@media (max-width: 768px){.card-header[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:12px}.card-actions[_ngcontent-%COMP%]{width:100%;justify-content:flex-end}.card-footer[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch;gap:12px}}']})};var wn=class o{constructor(t){this.http=t}apiUrl=X.apiUrl;emptyDashboardStats(){return{totalCars:0,availableCars:0,totalUsers:0,totalBookings:0,activeBookings:0,pendingBookings:0,confirmedBookings:0,completedBookings:0,cancelledBookings:0,totalRevenue:0,monthlyRevenue:0,averageBookingValue:0,fleetUtilizationRate:0,recentBookings:0,newUsersThisMonth:0}}getHomeData(){return Zn({featuredCars:this.getFeaturedCars().pipe(ze(()=>Ue([]))),popularCars:this.getPopularCars().pipe(ze(()=>Ue([]))),topRatedCars:this.getTopRatedCars().pipe(ze(()=>Ue([]))),branches:this.getAllBranches().pipe(ze(()=>Ue([]))),dashboardStats:this.getDashboardStats().pipe(ze(()=>Ue(this.emptyDashboardStats())))}).pipe(ot(t=>({stats:{totalCars:t.dashboardStats.totalCars||0,totalBranches:t.branches.length,totalCustomers:t.dashboardStats.totalUsers||0,totalBookings:t.dashboardStats.totalBookings||0,availableCars:t.dashboardStats.availableCars||0,featuredCars:t.featuredCars.length,popularCars:t.popularCars.length,averageRating:this.calculateAverageRating(t.featuredCars,t.popularCars),activeBookings:t.dashboardStats.activeBookings||0},featuredCars:t.featuredCars,popularCars:t.popularCars,topRatedCars:t.topRatedCars,branches:t.branches,totalRevenue:t.dashboardStats.totalRevenue||0,monthlyRevenue:t.dashboardStats.monthlyRevenue||0,activeBookings:t.dashboardStats.activeBookings||0,completedBookings:t.dashboardStats.completedBookings||0})))}getFeaturedCars(){return this.http.get(`${this.apiUrl}/cars/featured`)}getPopularCars(){return this.http.get(`${this.apiUrl}/cars/popular`)}getTopRatedCars(){return this.http.get(`${this.apiUrl}/cars`).pipe(ot(t=>{let e=t.filter(n=>n.availability&&n.averageRating&&n.averageRating>0).sort((n,s)=>(s.averageRating||0)-(n.averageRating||0)).slice(0,6);return e.length===0?t.filter(n=>n.availability).slice(0,6):e}),ze(()=>Ue([])))}getAllBranches(){return this.http.get(`${this.apiUrl}/branches`)}getDashboardStats(){return this.http.get(`${this.apiUrl}/dashboard/public`)}getCarCount(){return this.http.get(`${this.apiUrl}/cars`).pipe(ot(t=>t.length),ze(()=>Ue(0)))}getAvailableCarCount(){return this.http.get(`${this.apiUrl}/cars/available`).pipe(ot(t=>t.length),ze(()=>Ue(0)))}getBranchCount(){return this.http.get(`${this.apiUrl}/branches`).pipe(ot(t=>t.length),ze(()=>Ue(0)))}calculateAverageRating(t,e){let s=[...t,...e].filter(d=>d.averageRating&&d.averageRating>0);if(s.length===0)return 0;let c=s.reduce((d,f)=>d+(f.averageRating||0),0);return Math.round(c/s.length*10)/10}getHomeStats(){return this.getHomeData().pipe(ot(t=>t.stats))}getQuickStats(){return Zn({cars:this.getCarCount(),branches:this.getBranchCount(),dashboardStats:this.getDashboardStats().pipe(ze(()=>Ue(this.emptyDashboardStats())))}).pipe(ot(t=>({totalCars:t.cars,totalBranches:t.branches,totalCustomers:t.dashboardStats.totalUsers||0})))}static \u0275fac=function(e){return new(e||o)(j(Z))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var Ri=o=>["/cars",o];function Na(o,t){o&1&&(r(0,"div",69)(1,"div",70),g(2,"i",71),r(3,"p"),a(4,"Loading amazing content..."),i()()())}function Ba(o,t){if(o&1){let e=y();r(0,"div",72)(1,"div",73),g(2,"i",74),r(3,"h3"),a(4,"Oops! Something went wrong"),i(),r(5,"p"),a(6,"We couldn't load the dynamic content. Please try again."),i(),r(7,"app-modern-button",75),b("click",function(){u(e);let s=p();return h(s.retryLoadData())}),i()()()}o&2&&(l(7),m("showRipple",!0))}function La(o,t){if(o&1&&(r(0,"div",76)(1,"div",77),a(2),i(),r(3,"div",78),a(4),i()()),o&2){let e=t.$implicit;l(2),v(e.number),l(2),v(e.label)}}function Va(o,t){o&1&&g(0,"app-modern-button",79),o&2&&m("showRipple",!0)}function Ua(o,t){o&1&&g(0,"i",19)}function za(o,t){o&1&&g(0,"i",88)}function ja(o,t){o&1&&(r(0,"span"),a(1,"Highest "),r(2,"span",21),a(3,"Rated Cars"),i()())}function Wa(o,t){o&1&&(r(0,"span"),a(1,"Available "),r(2,"span",21),a(3,"Cars"),i()())}function $a(o,t){o&1&&(r(0,"span"),a(1,"Experience the best-rated vehicles that our customers love the most"),i())}function Ha(o,t){o&1&&(r(0,"span"),a(1,"Explore our available vehicles ready for your next adventure"),i())}function Ga(o,t){o&1&&(r(0,"span",115),a(1,"Available"),i())}function Ya(o,t){o&1&&(r(0,"span",116),a(1,"Unavailable"),i())}function qa(o,t){o&1&&(r(0,"span",117),a(1,"Top Rated"),i())}function Ka(o,t){if(o&1&&g(0,"i"),o&2){let e=t.$implicit,n=p(4);$(n.getStarClass(e))}}function Qa(o,t){if(o&1&&(r(0,"div",118)(1,"div",119),_(2,Ka,1,2,"i",120),i(),r(3,"span",121),a(4),i()()),o&2){let e=p().$implicit,n=p(2);l(2),m("ngForOf",n.getStarRating(e)),l(2),F("",n.getAverageRating(e)," (",n.getRatingCount(e)," reviews)")}}function Xa(o,t){if(o&1&&(r(0,"div",89)(1,"div",90)(2,"div",91),g(3,"img",92),r(4,"div",93),_(5,Ga,2,0,"span",94)(6,Ya,2,0,"span",95)(7,qa,2,0,"span",96),i(),r(8,"div",97)(9,"button",98),g(10,"i",99),i()()(),r(11,"div",100)(12,"h5",101)(13,"a",102),a(14),i()(),r(15,"p",103),g(16,"i",104),a(17),g(18,"i",105),a(19),i(),r(20,"p",106),g(21,"i",107),a(22),i(),_(23,Qa,5,3,"div",108),r(24,"div",109)(25,"div",110)(26,"span",111),a(27),i(),r(28,"span",112),a(29,"/day"),i()(),r(30,"button",113),g(31,"i",114),a(32),i()()()()()),o&2){let e=t.$implicit,n=t.index,s=p(2);ge("animation-delay",n*.1+"s"),l(3),m("src",s.getCarImageUrl(e),ne)("alt",e.brand+" "+e.model),l(2),m("ngIf",e.availability),l(),m("ngIf",!e.availability),l(),m("ngIf",s.hasRatedCars&&s.getAverageRating(e)>=4.5),l(6),m("routerLink",Ae(16,Ri,e.id)),l(),F(" ",e.brand," ",e.model," "),l(3),C("",e.year," \u2022 "),l(2),C("",e.type," "),l(3),C("",e.branchCity," "),l(),m("ngIf",s.hasRatedCars&&s.getAverageRating(e)>0),l(4),C("$",e.price,""),l(5),C(" ",s.hasRatedCars?"Book Now":"Rent Now"," ")}}function Ja(o,t){if(o&1&&(r(0,"section",80)(1,"div",14)(2,"div",49)(3,"div",50),_(4,Ua,1,0,"i",81)(5,za,1,0,"i",82),r(6,"span"),a(7),i()(),r(8,"h2",51),_(9,ja,4,0,"span",83)(10,Wa,4,0,"span",83),i(),r(11,"p",52),_(12,$a,2,0,"span",83)(13,Ha,2,0,"span",83),i()(),r(14,"div",84),_(15,Xa,33,18,"div",85),i(),r(16,"div",86),g(17,"app-modern-button",87),i()()()),o&2){let e=p();l(4),m("ngIf",e.hasRatedCars),l(),m("ngIf",!e.hasRatedCars),l(2),v(e.hasRatedCars?"Top Rated":"Available Cars"),l(2),m("ngIf",e.hasRatedCars),l(),m("ngIf",!e.hasRatedCars),l(2),m("ngIf",e.hasRatedCars),l(),m("ngIf",!e.hasRatedCars),l(2),m("ngForOf",e.topRatedCars),l(2),m("showRipple",!0)}}function Za(o,t){o&1&&(r(0,"span",115),a(1,"Available"),i())}function es(o,t){o&1&&(r(0,"span",116),a(1,"Unavailable"),i())}function ts(o,t){if(o&1&&g(0,"i"),o&2){let e=t.$implicit,n=p(4);$(n.getStarClass(e))}}function ns(o,t){if(o&1&&(r(0,"div",118)(1,"div",119),_(2,ts,1,2,"i",120),i(),r(3,"span",121),a(4),i()()),o&2){let e=p().$implicit,n=p(2);l(2),m("ngForOf",n.getStarRating(e)),l(2),F("",n.getAverageRating(e)," (",n.getRatingCount(e)," reviews)")}}function is(o,t){if(o&1&&(r(0,"div",89)(1,"div",90)(2,"div",91),g(3,"img",92),r(4,"div",93),_(5,Za,2,0,"span",94)(6,es,2,0,"span",95),i(),r(7,"div",97)(8,"button",98),g(9,"i",99),i()()(),r(10,"div",100)(11,"h5",101)(12,"a",102),a(13),i()(),r(14,"p",103),g(15,"i",104),a(16),g(17,"i",105),a(18),i(),r(19,"p",106),g(20,"i",107),a(21),i(),_(22,ns,5,3,"div",108),r(23,"div",109)(24,"div",110)(25,"span",111),a(26),i(),r(27,"span",112),a(28,"/day"),i()(),r(29,"button",113),g(30,"i",114),a(31," Book Now "),i()()()()()),o&2){let e=t.$implicit,n=t.index,s=p(2);ge("animation-delay",n*.1+"s"),l(3),m("src",s.getCarImageUrl(e),ne)("alt",e.brand+" "+e.model),l(2),m("ngIf",e.availability),l(),m("ngIf",!e.availability),l(6),m("routerLink",Ae(14,Ri,e.id)),l(),F(" ",e.brand," ",e.model," "),l(3),C("",e.year," \u2022 "),l(2),C("",e.type," "),l(3),C("",e.branchCity," "),l(),m("ngIf",s.getAverageRating(e)>0),l(4),C("$",e.price,"")}}function rs(o,t){if(o&1&&(r(0,"section",122)(1,"div",14)(2,"div",49)(3,"div",50),g(4,"i",19),r(5,"span"),a(6,"Featured Cars"),i()(),r(7,"h2",51),a(8," Our "),r(9,"span",21),a(10,"Featured Collection"),i()(),r(11,"p",52),a(12," Discover our handpicked premium vehicles for an extraordinary driving experience "),i()(),r(13,"div",84),_(14,is,32,16,"div",85),i(),r(15,"div",86),g(16,"app-modern-button",123),i()()()),o&2){let e=p();l(14),m("ngForOf",e.featuredCars.slice(0,6)),l(2),m("showRipple",!0)}}function os(o,t){o&1&&(r(0,"span",115),a(1,"Available"),i())}function as(o,t){o&1&&(r(0,"span",116),a(1,"Unavailable"),i())}function ss(o,t){if(o&1&&g(0,"i"),o&2){let e=t.$implicit,n=p(4);$(n.getStarClass(e))}}function ls(o,t){if(o&1&&(r(0,"div",118)(1,"div",119),_(2,ss,1,2,"i",120),i(),r(3,"span",121),a(4),i()()),o&2){let e=p().$implicit,n=p(2);l(2),m("ngForOf",n.getStarRating(e)),l(2),F("",n.getAverageRating(e)," (",n.getRatingCount(e)," reviews)")}}function cs(o,t){if(o&1&&(r(0,"div",89)(1,"div",90)(2,"div",91),g(3,"img",92),r(4,"div",93),_(5,os,2,0,"span",94)(6,as,2,0,"span",95),i(),r(7,"div",97)(8,"button",98),g(9,"i",99),i()()(),r(10,"div",100)(11,"h5",101)(12,"a",102),a(13),i()(),r(14,"p",103),g(15,"i",104),a(16),g(17,"i",105),a(18),i(),r(19,"p",106),g(20,"i",107),a(21),i(),_(22,ls,5,3,"div",108),r(23,"div",109)(24,"div",110)(25,"span",111),a(26),i(),r(27,"span",112),a(28,"/day"),i()(),r(29,"button",113),g(30,"i",114),a(31," Book Now "),i()()()()()),o&2){let e=t.$implicit,n=t.index,s=p(2);ge("animation-delay",n*.1+"s"),l(3),m("src",s.getCarImageUrl(e),ne)("alt",e.brand+" "+e.model),l(2),m("ngIf",e.availability),l(),m("ngIf",!e.availability),l(6),m("routerLink",Ae(14,Ri,e.id)),l(),F(" ",e.brand," ",e.model," "),l(3),C("",e.year," \u2022 "),l(2),C("",e.type," "),l(3),C("",e.branchCity," "),l(),m("ngIf",s.getAverageRating(e)>0),l(4),C("$",e.price,"")}}function ds(o,t){if(o&1&&(r(0,"section",124)(1,"div",14)(2,"div",49)(3,"div",50),g(4,"i",125),r(5,"span"),a(6,"Popular Choices"),i()(),r(7,"h2",51),a(8," Most "),r(9,"span",21),a(10,"Popular Cars"),i()(),r(11,"p",52),a(12," Our customers' favorite vehicles that are always in high demand "),i()(),r(13,"div",84),_(14,cs,32,16,"div",85),i()()()),o&2){let e=p();l(14),m("ngForOf",e.popularCars.slice(0,6))}}function ms(o,t){if(o&1&&(r(0,"div",132)(1,"span",133),a(2),i()()),o&2){let e=p().$implicit;l(2),v(e.dynamicValue)}}function gs(o,t){if(o&1&&(r(0,"app-modern-card",126)(1,"div",127)(2,"div",128),g(3,"i"),i(),r(4,"h3",129),a(5),i(),r(6,"p",130),a(7),i(),_(8,ms,3,1,"div",131),i()()),o&2){let e=t.$implicit;m("hoverable",!0)("elevated",!0),l(3),$(e.icon),l(2),v(e.title),l(2),v(e.description),l(),m("ngIf",e.dynamicValue)}}function ps(o,t){if(o&1&&(r(0,"app-modern-card",134)(1,"div",135)(2,"div",136),g(3,"i"),i(),r(4,"div",137)(5,"div",77),a(6),i(),r(7,"div",78),a(8),i()()()()),o&2){let e=t.$implicit;m("hoverable",!0),l(3),$(e.icon),l(3),v(e.number),l(2),v(e.label)}}function fs(o,t){o&1&&g(0,"app-modern-button",138),o&2&&m("showRipple",!0)}var En=class o{constructor(t,e){this.authService=t;this.homeService=e}isLoggedIn=!1;isLoading=!0;homeData=null;stats=null;features=[{icon:"fas fa-car fa-3x text-primary",title:"Premium Fleet",description:"Choose from our extensive collection of well-maintained, modern vehicles for every occasion.",dynamicValue:0},{icon:"fas fa-clock fa-3x text-success",title:"24/7 Support",description:"Our dedicated customer support team is available round the clock to assist you.",dynamicValue:"24/7"},{icon:"fas fa-shield-alt fa-3x text-warning",title:"Fully Insured",description:"All our vehicles come with comprehensive insurance coverage for your peace of mind.",dynamicValue:"100%"},{icon:"fas fa-dollar-sign fa-3x text-info",title:"Best Prices",description:"Competitive rates with no hidden fees. Get the best value for your money.",dynamicValue:"$0"},{icon:"fas fa-map-marker-alt fa-3x text-danger",title:"Multiple Locations",description:"Convenient pickup and drop-off locations across the city for your convenience.",dynamicValue:0},{icon:"fas fa-mobile-alt fa-3x text-secondary",title:"Easy Booking",description:"Simple and quick online booking process. Reserve your car in just a few clicks.",dynamicValue:"100%"}];dynamicStats=[{number:"0",label:"Premium Vehicles",icon:"fas fa-car"},{number:"0",label:"Global Locations",icon:"fas fa-map-marker-alt"},{number:"0",label:"Satisfied Customers",icon:"fas fa-smile"},{number:"0",label:"Active Bookings",icon:"fas fa-calendar-check"}];featuredCars=[];popularCars=[];topRatedCars=[];hasRatedCars=!1;ngOnInit(){this.authService.currentUser$.subscribe(t=>{this.isLoggedIn=!!t}),this.loadHomeData()}loadHomeData(){this.isLoading=!0,this.homeService.getHomeData().subscribe({next:t=>{this.homeData=t,this.stats=t.stats,this.featuredCars=t.featuredCars,this.popularCars=t.popularCars,this.topRatedCars=t.topRatedCars,this.hasRatedCars=this.topRatedCars.some(e=>e.averageRating&&e.averageRating>0),this.updateDynamicContent(),this.isLoading=!1},error:t=>{console.error("Error loading home data:",t),this.isLoading=!1,this.setFallbackValues(),setTimeout(()=>{alert("Unable to load dynamic content. Showing default values.")},1e3)}})}retryLoadData(){this.loadHomeData()}updateDynamicContent(){if(this.stats&&(this.dynamicStats[0].number=`${this.stats.totalCars}+`,this.dynamicStats[1].number=`${this.stats.totalBranches}+`,this.dynamicStats[2].number=`${this.stats.totalCustomers}+`,this.dynamicStats[3].number=`${this.stats.activeBookings}`,this.features[0].dynamicValue=this.stats.totalCars,this.features[4].dynamicValue=this.stats.totalBranches,this.homeData&&this.homeData.totalRevenue>0)){let t=Math.round(this.homeData.totalRevenue/Math.max(this.stats.totalBookings,1));this.features[3].dynamicValue=`$${t}`}}setFallbackValues(){this.dynamicStats[0].number="50+",this.dynamicStats[1].number="10+",this.dynamicStats[2].number="1000+",this.dynamicStats[3].number="25",this.features[0].dynamicValue=50,this.features[4].dynamicValue=10,this.features[3].dynamicValue="$75"}getCarImageUrl(t){if(t.images&&t.images.length>0){let e=t.images.find(n=>n.isPrimary)||t.images[0];return`${X.baseUrl}/uploads/${e.fileName}`}return"assets/images/default-car.jpg"}formatPrice(t){return`$${t.toFixed(2)}`}getAverageRating(t){return t.averageRating||0}getRatingCount(t){return t.ratingCount||0}getStarRating(t){let e=this.getAverageRating(t),n=Math.floor(e),s=e%1>=.5,c=[];for(let d=1;d<=5;d++)d<=n?c.push(1):d===n+1&&s?c.push(.5):c.push(0);return c}getStarClass(t){return t===1?"fas fa-star":t===.5?"fas fa-star-half-alt":"far fa-star"}static \u0275fac=function(e){return new(e||o)(P(ee),P(wn))};static \u0275cmp=A({type:o,selectors:[["app-home"]],decls:96,vars:12,consts:[["class","loading-overlay",4,"ngIf"],["class","error-overlay",4,"ngIf"],[1,"modern-hero"],[1,"hero-background"],[1,"floating-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"shape","shape-4"],[1,"shape","shape-5"],[1,"shape","shape-6"],[1,"gradient-mesh"],[1,"particle-field"],[1,"hero-content"],[1,"container"],[1,"row","align-items-center","min-vh-100"],[1,"col-lg-6"],[1,"hero-text","slide-in-left"],[1,"hero-badge"],[1,"fas","fa-star"],[1,"hero-title"],[1,"text-gradient"],[1,"hero-description"],[1,"hero-stats"],["class","stat-item",4,"ngFor","ngForOf"],[1,"hero-actions"],["text","Search Cars","icon","fas fa-search","variant","primary","size","lg","routerLink","/cars",1,"hero-btn",3,"showRipple"],["text","Get Started","icon","fas fa-user-plus","variant","outline","size","lg","routerLink","/register","class","hero-btn",3,"showRipple",4,"ngIf"],[1,"hero-visual","slide-in-right"],[1,"car-showcase"],[1,"car-model"],[1,"car-body"],[1,"car-window"],[1,"car-wheel","wheel-front"],[1,"car-wheel","wheel-back"],[1,"car-headlight"],[1,"car-taillight"],[1,"car-glow"],[1,"floating-cards"],[1,"floating-card","card-1"],[1,"fas","fa-shield-alt"],[1,"floating-card","card-2"],[1,"fas","fa-clock"],[1,"floating-card","card-3"],[1,"fas","fa-award"],["class","top-rated-cars-section",4,"ngIf"],["class","featured-cars-section",4,"ngIf"],["class","popular-cars-section",4,"ngIf"],[1,"features-section"],[1,"section-header","text-center"],[1,"section-badge"],[1,"section-title"],[1,"section-description"],[1,"features-grid"],["class","feature-card","size","lg",3,"hoverable","elevated",4,"ngFor","ngForOf"],[1,"stats-section"],[1,"stats-grid"],["class","stat-card","variant","glass","size","md",3,"hoverable",4,"ngFor","ngForOf"],[1,"cta-section"],[1,"cta-content"],[1,"cta-text"],[1,"cta-title"],[1,"cta-description"],[1,"cta-actions"],["text","Book Your Car Now","icon","fas fa-car","variant","primary","size","lg","routerLink","/cars",3,"showRipple"],["text","Create Account","icon","fas fa-user-plus","variant","outline","size","lg","routerLink","/register",3,"showRipple",4,"ngIf"],[1,"cta-visual"],[1,"cta-image"],[1,"fas","fa-road"],[1,"loading-overlay"],[1,"loading-spinner"],[1,"fas","fa-spinner","fa-spin","fa-3x"],[1,"error-overlay"],[1,"error-content"],[1,"fas","fa-exclamation-triangle","fa-3x"],["text","Retry","icon","fas fa-redo","variant","primary","size","md",3,"click","showRipple"],[1,"stat-item"],[1,"stat-number"],[1,"stat-label"],["text","Get Started","icon","fas fa-user-plus","variant","outline","size","lg","routerLink","/register",1,"hero-btn",3,"showRipple"],[1,"top-rated-cars-section"],["class","fas fa-star",4,"ngIf"],["class","fas fa-car",4,"ngIf"],[4,"ngIf"],[1,"row","g-4"],["class","col-lg-4 col-md-6",3,"animation-delay",4,"ngFor","ngForOf"],[1,"section-actions","text-center"],["text","View All Available Cars","icon","fas fa-car","variant","primary","size","lg","routerLink","/cars",3,"showRipple"],[1,"fas","fa-car"],[1,"col-lg-4","col-md-6"],[1,"car-card","card","h-100","bounce-in"],[1,"car-image"],[1,"card-img-top",3,"src","alt"],[1,"car-badge"],["class","badge bg-success",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],["class","badge bg-warning",4,"ngIf"],[1,"favorite-overlay"],[1,"btn","btn-light","btn-sm","favorite-btn"],[1,"far","fa-heart"],[1,"card-body","d-flex","flex-column"],[1,"card-title","fw-bold"],[1,"text-decoration-none","text-dark",3,"routerLink"],[1,"card-text","text-muted","mb-2"],[1,"fas","fa-calendar","me-2"],[1,"fas","fa-car","me-2"],[1,"card-text","text-muted","mb-3"],[1,"fas","fa-map-marker-alt","me-2"],["class","rating-section mb-3",4,"ngIf"],[1,"mt-auto"],[1,"price-section","mb-3"],[1,"price-amount"],[1,"price-period"],[1,"btn","btn-primary","w-100"],[1,"fas","fa-calendar-plus","me-2"],[1,"badge","bg-success"],[1,"badge","bg-danger"],[1,"badge","bg-warning"],[1,"rating-section","mb-3"],[1,"stars"],[3,"class",4,"ngFor","ngForOf"],[1,"rating-text"],[1,"featured-cars-section"],["text","View All Cars","icon","fas fa-car","variant","primary","size","lg","routerLink","/cars",3,"showRipple"],[1,"popular-cars-section"],[1,"fas","fa-fire"],["size","lg",1,"feature-card",3,"hoverable","elevated"],[1,"feature-content"],[1,"feature-icon"],[1,"feature-title"],[1,"feature-description"],["class","feature-value",4,"ngIf"],[1,"feature-value"],[1,"value-number"],["variant","glass","size","md",1,"stat-card",3,"hoverable"],[1,"stat-content"],[1,"stat-icon"],[1,"stat-info"],["text","Create Account","icon","fas fa-user-plus","variant","outline","size","lg","routerLink","/register",3,"showRipple"]],template:function(e,n){e&1&&(_(0,Na,5,0,"div",0)(1,Ba,8,1,"div",1),r(2,"div",2)(3,"div",3)(4,"div",4),g(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"div",9)(10,"div",10),i(),g(11,"div",11)(12,"div",12),i(),r(13,"div",13)(14,"div",14)(15,"div",15)(16,"div",16)(17,"div",17)(18,"div",18),g(19,"i",19),r(20,"span"),a(21,"Premium Car Rental Service"),i()(),r(22,"h1",20),a(23," Experience Freedom with "),r(24,"span",21),a(25,"WheelDeal Premium"),i()(),r(26,"p",22),a(27," Unlock the road with our curated collection of premium vehicles. From sleek sedans to powerful SUVs, every journey becomes extraordinary. "),i(),r(28,"div",23),_(29,La,5,2,"div",24),i(),r(30,"div",25),g(31,"app-modern-button",26),_(32,Va,1,1,"app-modern-button",27),i()()(),r(33,"div",16)(34,"div",28)(35,"div",29)(36,"div",30)(37,"div",31),g(38,"div",32)(39,"div",33)(40,"div",34)(41,"div",35)(42,"div",36),i()(),g(43,"div",37),i(),r(44,"div",38)(45,"div",39),g(46,"i",40),r(47,"span"),a(48,"Secure"),i()(),r(49,"div",41),g(50,"i",42),r(51,"span"),a(52,"24/7"),i()(),r(53,"div",43),g(54,"i",44),r(55,"span"),a(56,"Premium"),i()()()()()()()()(),_(57,Ja,18,9,"section",45)(58,rs,17,2,"section",46)(59,ds,15,1,"section",47),r(60,"section",48)(61,"div",14)(62,"div",49)(63,"div",50),g(64,"i",19),r(65,"span"),a(66,"Why Choose Us"),i()(),r(67,"h2",51),a(68," Why Choose "),r(69,"span",21),a(70,"WheelDeal"),i()(),r(71,"p",52),a(72," Experience the perfect blend of luxury, convenience, and innovation "),i()(),r(73,"div",53),_(74,gs,9,7,"app-modern-card",54),i()()(),r(75,"section",55)(76,"div",14)(77,"div",56),_(78,ps,9,5,"app-modern-card",57),i()()(),r(79,"section",58)(80,"div",14)(81,"div",59)(82,"div",60)(83,"h2",61),a(84," Ready to "),r(85,"span",21),a(86,"Drive Your Dreams"),i(),a(87,"? "),i(),r(88,"p",62),a(89," Join thousands of satisfied drivers who choose WheelDeal for their premium transportation experience. "),i(),r(90,"div",63),g(91,"app-modern-button",64),_(92,fs,1,1,"app-modern-button",65),i()(),r(93,"div",66)(94,"div",67),g(95,"i",68),i()()()()()),e&2&&(m("ngIf",n.isLoading),l(),m("ngIf",!n.isLoading&&!n.homeData),l(28),m("ngForOf",n.dynamicStats),l(2),m("showRipple",!0),l(),m("ngIf",!n.isLoggedIn),l(25),m("ngIf",n.topRatedCars.length>0),l(),m("ngIf",n.featuredCars.length>0),l(),m("ngIf",n.popularCars.length>0),l(15),m("ngForOf",n.features),l(4),m("ngForOf",n.dynamicStats),l(13),m("showRipple",!0),l(),m("ngIf",!n.isLoggedIn))},dependencies:[L,J,B,se,xe,lt,ct],styles:['.modern-hero[_ngcontent-%COMP%]{position:relative;min-height:100vh;background:linear-gradient(135deg,#bfdaa4,#a8c88a);overflow:hidden;display:flex;align-items:center}.hero-background[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1}.floating-shapes[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden}.shape[_ngcontent-%COMP%]{position:absolute;background:#ffffff26;border-radius:50%;animation:_ngcontent-%COMP%_float 6s ease-in-out infinite}.shape-1[_ngcontent-%COMP%]{width:80px;height:80px;top:20%;left:10%;animation-delay:0s}.shape-2[_ngcontent-%COMP%]{width:120px;height:120px;top:60%;right:15%;animation-delay:2s}.shape-3[_ngcontent-%COMP%]{width:60px;height:60px;bottom:30%;left:20%;animation-delay:4s}.shape-4[_ngcontent-%COMP%]{width:100px;height:100px;top:10%;right:30%;animation-delay:1s}.shape-5[_ngcontent-%COMP%]{width:90px;height:90px;top:50%;left:5%;animation-delay:3s}.shape-6[_ngcontent-%COMP%]{width:70px;height:70px;top:70%;right:5%;animation-delay:5s}.gradient-mesh[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,rgba(191,218,164,.3) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(143,179,112,.3) 0%,transparent 50%),radial-gradient(circle at 40% 40%,rgba(168,200,138,.2) 0%,transparent 50%);animation:_ngcontent-%COMP%_meshMove 20s ease-in-out infinite}@keyframes _ngcontent-%COMP%_meshMove{0%,to{transform:scale(1) rotate(0)}50%{transform:scale(1.1) rotate(180deg)}}.particle-field[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:radial-gradient(circle at 25% 25%,rgba(255,255,255,.1) 1px,transparent 1px),radial-gradient(circle at 75% 75%,rgba(255,255,255,.1) 1px,transparent 1px);background-size:50px 50px;animation:_ngcontent-%COMP%_particleFloat 15s linear infinite}@keyframes _ngcontent-%COMP%_particleFloat{0%{transform:translateY(0)}to{transform:translateY(-50px)}}.hero-content[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%}.hero-text[_ngcontent-%COMP%]{color:#1a1a1a;max-width:600px}.hero-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(0,0,0,.1);border-radius:50px;padding:12px 20px;margin-bottom:32px;font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:.1em;color:#1a1a1a}.hero-badge[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8fb370;font-size:16px}.hero-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:4rem;font-weight:900;line-height:1.1;margin-bottom:24px;letter-spacing:-.025em}.text-gradient[_ngcontent-%COMP%]{background:linear-gradient(135deg,#8fb370,#729a5a);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.hero-description[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.6;margin-bottom:40px;color:#333;font-weight:400}.hero-stats[_ngcontent-%COMP%]{display:flex;gap:48px;margin-bottom:48px}.stat-item[_ngcontent-%COMP%]{text-align:center}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:900;color:#8fb370;line-height:1;margin-bottom:8px;font-family:Poppins,sans-serif}.stat-label[_ngcontent-%COMP%]{font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:.1em;color:#333}.hero-actions[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.hero-btn[_ngcontent-%COMP%]{min-width:160px}.hero-visual[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;position:relative}.car-showcase[_ngcontent-%COMP%]{position:relative;width:400px;height:300px}.car-model[_ngcontent-%COMP%]{position:relative;width:100%;height:100%;display:flex;align-items:center;justify-content:center}.car-body[_ngcontent-%COMP%]{width:200px;height:80px;background:linear-gradient(135deg,#1f2937,#374151);border-radius:40px 40px 20px 20px;position:relative;box-shadow:0 8px 32px #0000004d;animation:_ngcontent-%COMP%_float 4s ease-in-out infinite}.car-window[_ngcontent-%COMP%]{position:absolute;top:15px;left:30px;right:30px;height:25px;background:linear-gradient(135deg,#bfdaa4,#8fb370);border-radius:15px}.car-wheel[_ngcontent-%COMP%]{position:absolute;width:30px;height:30px;background:#111827;border-radius:50%;border:3px solid #6b7280;bottom:-15px}.wheel-front[_ngcontent-%COMP%]{left:30px}.wheel-back[_ngcontent-%COMP%]{right:30px}.car-headlight[_ngcontent-%COMP%]{position:absolute;width:15px;height:15px;background:#8fb370;border-radius:50%;left:10px;top:20px;box-shadow:0 0 10px #8fb370;animation:_ngcontent-%COMP%_pulse 2s infinite}.car-taillight[_ngcontent-%COMP%]{position:absolute;width:12px;height:12px;background:#ef4444;border-radius:50%;right:10px;top:25px;box-shadow:0 0 8px #ef4444}.car-glow[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;background:radial-gradient(circle,rgba(143,179,112,.3) 0%,transparent 70%);animation:_ngcontent-%COMP%_pulse 3s infinite}.floating-cards[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.floating-card[_ngcontent-%COMP%]{position:absolute;display:flex;flex-direction:column;align-items:center;gap:8px;background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(0,0,0,.1);border-radius:16px;padding:16px;color:#1a1a1a;font-weight:600;animation:_ngcontent-%COMP%_float 4s ease-in-out infinite}.floating-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#8fb370}.card-1[_ngcontent-%COMP%]{top:20%;right:10%;animation-delay:0s}.card-2[_ngcontent-%COMP%]{bottom:30%;left:10%;animation-delay:2s}.card-3[_ngcontent-%COMP%]{top:60%;right:20%;animation-delay:4s}.features-section[_ngcontent-%COMP%]{padding:120px 0;background:#f8fafc}.section-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:80px}.section-badge[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:8px;background:linear-gradient(135deg,#bfdaa4,#8fb370);color:#fff;border-radius:50px;padding:12px 24px;margin-bottom:24px;font-size:14px;font-weight:600;text-transform:uppercase;letter-spacing:.1em}.section-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:3rem;font-weight:800;color:#1f2937;margin-bottom:24px;letter-spacing:-.025em}.section-description[_ngcontent-%COMP%]{font-size:1.25rem;color:#6b7280;max-width:600px;margin:0 auto;line-height:1.6}.features-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(300px,1fr));gap:32px;margin-top:60px}.feature-card[_ngcontent-%COMP%]{height:100%}.feature-content[_ngcontent-%COMP%]{text-align:center;padding:20px}.feature-icon[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#bfdaa4,#8fb370);border-radius:20px;display:flex;align-items:center;justify-content:center;margin:0 auto 24px;color:#fff;font-size:32px;transition:all .3s ease}.feature-card[_ngcontent-%COMP%]:hover   .feature-icon[_ngcontent-%COMP%]{transform:scale(1.1) rotate(5deg)}.feature-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:1.5rem;font-weight:700;color:#1f2937;margin-bottom:16px}.feature-description[_ngcontent-%COMP%]{color:#6b7280;line-height:1.6;font-size:1rem;margin-bottom:16px}.feature-value[_ngcontent-%COMP%]{margin-top:auto;padding-top:16px;border-top:1px solid #e5e7eb}.value-number[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#8fb370;background:linear-gradient(135deg,#8fb370,#bfdaa4);-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-clip:text}.feature-decoration[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,rgba(59,130,246,.3),transparent);opacity:0;transition:opacity .3s ease}.feature-card[_ngcontent-%COMP%]:hover   .feature-decoration[_ngcontent-%COMP%]{opacity:1}.stats-section[_ngcontent-%COMP%]{padding:80px 0;background:linear-gradient(135deg,#1f2937,#374151);color:#fff}.stats-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fit,minmax(250px,1fr));gap:32px}.stat-card[_ngcontent-%COMP%]{height:100%}.stat-content[_ngcontent-%COMP%]{display:flex;align-items:center;gap:20px;padding:20px}.stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;background:linear-gradient(135deg,#bfdaa4,#8fb370);border-radius:16px;display:flex;align-items:center;justify-content:center;font-size:24px;color:#fff;flex-shrink:0}.stat-info[_ngcontent-%COMP%]{flex:1}.stat-number[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:2.5rem;font-weight:900;color:#bfdaa4;line-height:1;margin-bottom:8px}.stat-label[_ngcontent-%COMP%]{font-size:1rem;font-weight:600;text-transform:uppercase;letter-spacing:.1em;opacity:.8}.stat-decoration[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:2px;background:linear-gradient(90deg,transparent,#fbbf24,transparent);opacity:0;transition:opacity .3s ease}.stat-card[_ngcontent-%COMP%]:hover   .stat-decoration[_ngcontent-%COMP%]{opacity:1}.cta-section[_ngcontent-%COMP%]{padding:120px 0;background:linear-gradient(135deg,#bfdaa4,#a8c88a);color:#1a1a1a}.cta-content[_ngcontent-%COMP%]{display:grid;grid-template-columns:1fr 1fr;gap:80px;align-items:center}.cta-title[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:3rem;font-weight:800;margin-bottom:24px;letter-spacing:-.025em}.cta-description[_ngcontent-%COMP%]{font-size:1.25rem;line-height:1.6;margin-bottom:40px;color:#333}.cta-actions[_ngcontent-%COMP%]{display:flex;gap:16px;flex-wrap:wrap}.cta-visual[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.cta-image[_ngcontent-%COMP%]{width:200px;height:200px;background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(0,0,0,.1);border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:64px;color:#8fb370;animation:_ngcontent-%COMP%_float 4s ease-in-out infinite}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0)}50%{transform:translateY(-20px)}}@keyframes _ngcontent-%COMP%_pulse{0%,to{opacity:1}50%{opacity:.5}}.slide-in-left[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInLeft .8s ease-out forwards}.slide-in-right[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInRight .8s ease-out forwards}@keyframes _ngcontent-%COMP%_slideInLeft{0%{opacity:0;transform:translate(-60px)}to{opacity:1;transform:translate(0)}}@keyframes _ngcontent-%COMP%_slideInRight{0%{opacity:0;transform:translate(60px)}to{opacity:1;transform:translate(0)}}@media (max-width: 768px){.hero-title[_ngcontent-%COMP%]{font-size:2.5rem}.section-title[_ngcontent-%COMP%], .cta-title[_ngcontent-%COMP%]{font-size:2rem}.hero-stats[_ngcontent-%COMP%]{flex-direction:column;gap:24px}.hero-actions[_ngcontent-%COMP%]{flex-direction:column}.cta-content[_ngcontent-%COMP%]{grid-template-columns:1fr;gap:40px;text-align:center}.features-grid[_ngcontent-%COMP%], .stats-grid[_ngcontent-%COMP%]{grid-template-columns:1fr}.car-showcase[_ngcontent-%COMP%]{width:300px;height:200px}.car-body[_ngcontent-%COMP%]{width:150px;height:60px}.stat-content[_ngcontent-%COMP%]{flex-direction:column;text-align:center}}.loading-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffffff2;display:flex;align-items:center;justify-content:center;z-index:9999;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.loading-spinner[_ngcontent-%COMP%]{text-align:center;color:#1f2937}.loading-spinner[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8fb370;margin-bottom:16px}.loading-spinner[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:500;margin:0}.error-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background:#fffffff2;display:flex;align-items:center;justify-content:center;z-index:9999;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.error-content[_ngcontent-%COMP%]{text-align:center;color:#1f2937;max-width:400px;padding:40px}.error-content[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ef4444;margin-bottom:24px}.error-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;margin-bottom:16px;color:#1f2937}.error-content[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;color:#6b7280;margin-bottom:32px;line-height:1.6}.featured-cars-section[_ngcontent-%COMP%]{padding:80px 0;background:linear-gradient(135deg,#f8fafc,#e2e8f0)}.popular-cars-section[_ngcontent-%COMP%]{padding:80px 0;background:linear-gradient(135deg,#1f2937,#374151);color:#fff}.top-rated-cars-section[_ngcontent-%COMP%]{padding:80px 0;background:linear-gradient(135deg,#fef3c7,#fde68a);color:#1f2937}.car-card[_ngcontent-%COMP%]{border:none;border-radius:20px;overflow:hidden;transition:all .4s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);background:#fffffff2;position:relative}.car-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(135deg,#bfdaa4,#8fb370);transform:scaleX(0);transition:transform .3s ease}.car-card[_ngcontent-%COMP%]:hover{transform:translateY(-12px) scale(1.03);box-shadow:0 25px 50px #0003}.car-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.car-image[_ngcontent-%COMP%]{position:relative;overflow:hidden}.car-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;transition:transform .3s ease}.car-card[_ngcontent-%COMP%]:hover   .car-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.1)}.car-badge[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;z-index:2}.favorite-overlay[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1rem;z-index:10}.rating-badge[_ngcontent-%COMP%]{position:absolute;top:12px;left:12px;background:#000c;color:#fff;padding:6px 12px;border-radius:20px;font-size:.9rem;font-weight:600;display:flex;align-items:center;gap:4px}.stars[_ngcontent-%COMP%]{display:flex;gap:2px;margin-bottom:8px}.stars[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fbbf24;font-size:.9rem}.rating-text[_ngcontent-%COMP%]{font-size:.9rem;color:#6b7280;font-weight:500}.top-rated-cars-section[_ngcontent-%COMP%]   .rating-text[_ngcontent-%COMP%]{color:#374151}.car-info[_ngcontent-%COMP%]{margin-bottom:16px}.top-rated-cars-section[_ngcontent-%COMP%]   .car-type[_ngcontent-%COMP%], .top-rated-cars-section[_ngcontent-%COMP%]   .car-fuel[_ngcontent-%COMP%]{color:#374151}.availability-badge[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:#10b981;font-size:.9rem;font-weight:600;margin-top:8px;padding:4px 8px;background:#10b9811a;border-radius:12px;width:fit-content}.top-rated-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px) scale(1.02);box-shadow:0 20px 40px #fbbf244d}.price-section[_ngcontent-%COMP%]{text-align:center}.price-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#667eea}.price-period[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.rating-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.rating-section[_ngcontent-%COMP%]   .rating-info[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d}.card-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:color .3s ease}.card-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff!important}.car-info[_ngcontent-%COMP%]{margin-bottom:1rem}.car-type[_ngcontent-%COMP%], .car-fuel[_ngcontent-%COMP%]{display:flex;align-items:center;gap:6px;color:#6b7280;font-size:.9rem;margin-bottom:8px}.popular-cars-section[_ngcontent-%COMP%]   .car-type[_ngcontent-%COMP%], .popular-cars-section[_ngcontent-%COMP%]   .car-fuel[_ngcontent-%COMP%]{color:#d1d5db}.car-type[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .car-fuel[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#8fb370;font-size:.8rem}.top-rated-card[_ngcontent-%COMP%]{border:2px solid transparent;background:linear-gradient(#fff,#fff) padding-box,linear-gradient(135deg,#fbbf24,#f59e0b) border-box}.top-rated-card[_ngcontent-%COMP%]:hover{transform:translateY(-12px) scale(1.03);box-shadow:0 25px 50px #fbbf244d}.section-actions[_ngcontent-%COMP%]{margin-top:60px}@media (max-width: 768px){.car-card[_ngcontent-%COMP%]{margin-bottom:2rem}.car-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:180px}.card-body[_ngcontent-%COMP%]{padding:1rem}.card-title[_ngcontent-%COMP%]{font-size:1.2rem}.price-amount[_ngcontent-%COMP%]{font-size:1.3rem}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .6s ease-out}.bounce-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounceIn .8s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}to{opacity:1;transform:scale(1)}}.btn[_ngcontent-%COMP%]{position:relative;overflow:hidden;transition:all .3s ease}.btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.btn[_ngcontent-%COMP%]:hover:before{left:100%}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}']})};function us(o,t){if(o&1&&g(0,"i",8),o&2){let e=p();$(e.icon)}}function hs(o,t){if(o&1){let e=y();r(0,"button",9),b("click",function(){u(e);let s=p();return h(s.togglePassword())}),g(1,"i"),i()}if(o&2){let e=p();Xi("aria-label",e.showPassword?"Hide password":"Show password"),l(),$(e.showPassword?"fas fa-eye-slash":"fas fa-eye")}}function _s(o,t){if(o&1&&(r(0,"label",10),a(1),i()),o&2){let e=p();l(),v(e.label)}}function bs(o,t){if(o&1&&(r(0,"div",11),a(1),i()),o&2){let e=p();l(),v(e.errorMessage)}}var Tt=class o{label="";placeholder="";type="text";icon="";disabled=!1;showPasswordToggle=!0;size="md";variant="default";errorMessage="";value="";isFocused=!1;showPassword=!1;hasError=!1;onChange=t=>{};onTouched=()=>{};get hasValue(){return this.value.length>0}onInput(t){let e=t.target;this.value=e.value,this.onChange(this.value),this.hasError=!1}onFocus(){this.isFocused=!0,this.onTouched()}onBlur(){this.isFocused=!1}togglePassword(){this.showPassword=!this.showPassword,this.type=this.showPassword?"text":"password"}writeValue(t){this.value=t||""}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-modern-input"]],inputs:{label:"label",placeholder:"placeholder",type:"type",icon:"icon",disabled:"disabled",showPasswordToggle:"showPasswordToggle",size:"size",variant:"variant",errorMessage:"errorMessage"},features:[er([{provide:gr,useExisting:Hi(()=>o),multi:!0}])],decls:8,vars:16,consts:[[1,"input-container"],[1,"input-wrapper"],["class","input-icon",3,"class",4,"ngIf"],[1,"modern-input",3,"input","focus","blur","type","placeholder","value","disabled"],["type","button","class","password-toggle",3,"click",4,"ngIf"],[1,"input-border"],["class","input-label",4,"ngIf"],["class","input-error",4,"ngIf"],[1,"input-icon"],["type","button",1,"password-toggle",3,"click"],[1,"input-label"],[1,"input-error"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),_(2,us,1,2,"i",2),r(3,"input",3),b("input",function(c){return n.onInput(c)})("focus",function(){return n.onFocus()})("blur",function(){return n.onBlur()}),i(),_(4,hs,2,3,"button",4),i(),g(5,"div",5),_(6,_s,2,1,"label",6)(7,bs,2,1,"div",7),i()),e&2&&(w("focused",n.isFocused)("has-value",n.hasValue)("error",n.hasError),l(2),m("ngIf",n.icon),l(),w("has-icon",n.icon),m("type",n.type)("placeholder",n.placeholder)("value",n.value)("disabled",n.disabled),l(),m("ngIf",n.type==="password"&&n.showPasswordToggle),l(2),m("ngIf",n.label),l(),m("ngIf",n.errorMessage))},dependencies:[L,B],styles:[".input-container[_ngcontent-%COMP%]{position:relative;margin-bottom:24px}.input-wrapper[_ngcontent-%COMP%]{position:relative;display:flex;align-items:center}.input-icon[_ngcontent-%COMP%]{position:absolute;left:16px;top:50%;transform:translateY(-50%);color:#000;font-size:16px;z-index:2;transition:color .3s ease}.modern-input[_ngcontent-%COMP%]{width:100%;padding:16px 16px 16px 48px;border:2px solid rgba(191,218,164,.2);border-radius:12px;background:#fff;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);font-family:Inter,sans-serif;font-size:16px;color:#000;transition:all .3s ease;outline:none}.modern-input[_ngcontent-%COMP%]:not(.has-icon){padding-left:16px}.modern-input[_ngcontent-%COMP%]::placeholder{color:#666;transition:color .3s ease}.modern-input[_ngcontent-%COMP%]:focus{border-color:#bfdaa4;background:#fff;box-shadow:0 0 0 3px #bfdaa41a;transform:translateY(-2px)}.modern-input[_ngcontent-%COMP%]:focus::placeholder{color:#999}.modern-input[_ngcontent-%COMP%]:disabled{background:#f5f5f5;color:#666;cursor:not-allowed;transform:none}.input-border[_ngcontent-%COMP%]{position:absolute;bottom:0;left:0;right:0;height:2px;background:linear-gradient(135deg,#bfdaa4,#8fb370);transform:scaleX(0);transition:transform .3s ease}.input-label[_ngcontent-%COMP%]{position:absolute;top:-8px;left:12px;background:#fff;padding:0 8px;font-size:12px;font-weight:600;color:#000;text-transform:uppercase;letter-spacing:.05em;opacity:0;transform:translateY(8px);transition:all .3s ease}.password-toggle[_ngcontent-%COMP%]{position:absolute;right:16px;top:50%;transform:translateY(-50%);background:none;border:none;color:#000;cursor:pointer;padding:4px;border-radius:4px;transition:all .3s ease;z-index:2}.password-toggle[_ngcontent-%COMP%]:hover{color:#8fb370;background:#bfdaa41a}.input-error[_ngcontent-%COMP%]{margin-top:8px;font-size:12px;color:#ef4444;font-weight:500}.input-container.focused[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{color:#8fb370}.input-container.focused[_ngcontent-%COMP%]   .input-border[_ngcontent-%COMP%]{transform:scaleX(1)}.input-container.focused[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{opacity:1;transform:translateY(0);color:#8fb370}.input-container.has-value[_ngcontent-%COMP%]   .input-label[_ngcontent-%COMP%]{opacity:1;transform:translateY(0)}.input-container.error[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]{border-color:#ef4444;box-shadow:0 0 0 3px #ef44441a}.input-container.error[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{color:#ef4444}.input-container.error[_ngcontent-%COMP%]   .input-border[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ef4444,#dc2626);transform:scaleX(1)}.input-container.success[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]{border-color:#22c55e;box-shadow:0 0 0 3px #22c55e1a}.input-container.success[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{color:#22c55e}.input-container.success[_ngcontent-%COMP%]   .input-border[_ngcontent-%COMP%]{background:linear-gradient(135deg,#22c55e,#16a34a);transform:scaleX(1)}.input-sm[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]{padding:12px;font-size:14px}.input-sm[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{left:12px;font-size:14px}.input-lg[_ngcontent-%COMP%]   .modern-input[_ngcontent-%COMP%]{padding:20px;font-size:18px}.input-lg[_ngcontent-%COMP%]   .input-icon[_ngcontent-%COMP%]{left:20px;font-size:18px}@media (max-width: 768px){.modern-input[_ngcontent-%COMP%]{font-size:16px}}"]})};function vs(o,t){o&1&&(r(0,"div",9),g(1,"div")(2,"div")(3,"div")(4,"div"),i())}function Cs(o,t){o&1&&(r(0,"div",10),g(1,"div")(2,"div")(3,"div"),i())}function xs(o,t){o&1&&g(0,"div",11)}function Ms(o,t){o&1&&(r(0,"div",12),g(1,"div")(2,"div")(3,"div")(4,"div")(5,"div"),i())}function Ps(o,t){if(o&1&&(r(0,"div",13),a(1),i()),o&2){let e=p();l(),v(e.text)}}function ys(o,t){if(o&1&&(r(0,"div",14),a(1),i()),o&2){let e=p();l(),v(e.subtext)}}var Ft=class o{text="";subtext="";spinnerType="ring";size="md";variant="primary";overlay=!1;fullscreen=!1;static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-modern-loading"]],inputs:{text:"text",subtext:"subtext",spinnerType:"spinnerType",size:"size",variant:"variant",overlay:"overlay",fullscreen:"fullscreen"},decls:9,vars:12,consts:[[1,"loading-container"],[1,"loading-content"],[1,"loading-spinner"],["class","spinner-ring",4,"ngIf"],["class","spinner-dots",4,"ngIf"],["class","spinner-pulse",4,"ngIf"],["class","spinner-bars",4,"ngIf"],["class","loading-text",4,"ngIf"],["class","loading-subtext",4,"ngIf"],[1,"spinner-ring"],[1,"spinner-dots"],[1,"spinner-pulse"],[1,"spinner-bars"],[1,"loading-text"],[1,"loading-subtext"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),_(3,vs,5,0,"div",3)(4,Cs,4,0,"div",4)(5,xs,1,0,"div",5)(6,Ms,6,0,"div",6),i(),_(7,Ps,2,1,"div",7)(8,ys,2,1,"div",8),i()()),e&2&&(w("overlay",n.overlay)("fullscreen",n.fullscreen),l(2),$(n.spinnerType),l(),m("ngIf",n.spinnerType==="ring"),l(),m("ngIf",n.spinnerType==="dots"),l(),m("ngIf",n.spinnerType==="pulse"),l(),m("ngIf",n.spinnerType==="bars"),l(),m("ngIf",n.text),l(),m("ngIf",n.subtext))},dependencies:[L,B],styles:[".loading-container[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:center;padding:2rem}.loading-container.overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);z-index:1000}.loading-container.fullscreen[_ngcontent-%COMP%]{position:fixed;inset:0;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);z-index:9999}.loading-content[_ngcontent-%COMP%]{text-align:center}.loading-spinner[_ngcontent-%COMP%]{margin-bottom:1rem}.loading-text[_ngcontent-%COMP%]{font-family:Inter,sans-serif;font-size:1.125rem;font-weight:600;color:#1f2937;margin-bottom:.5rem}.loading-subtext[_ngcontent-%COMP%]{font-size:.875rem;color:#6b7280}.spinner-ring[_ngcontent-%COMP%]{display:inline-block;position:relative;width:80px;height:80px}.spinner-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{box-sizing:border-box;display:block;position:absolute;width:64px;height:64px;margin:8px;border:8px solid #3b82f6;border-radius:50%;animation:_ngcontent-%COMP%_spinner-ring 1.2s cubic-bezier(.5,0,.5,1) infinite;border-color:#3b82f6 transparent transparent transparent}.spinner-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.45s}.spinner-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.3s}.spinner-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){animation-delay:-.15s}@keyframes _ngcontent-%COMP%_spinner-ring{0%{transform:rotate(0)}to{transform:rotate(360deg)}}.spinner-dots[_ngcontent-%COMP%]{display:inline-flex;gap:8px}.spinner-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:12px;height:12px;border-radius:50%;background:#3b82f6;animation:_ngcontent-%COMP%_spinner-dots 1.4s ease-in-out infinite both}.spinner-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){animation-delay:-.32s}.spinner-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){animation-delay:-.16s}@keyframes _ngcontent-%COMP%_spinner-dots{0%,80%,to{transform:scale(0)}40%{transform:scale(1)}}.spinner-pulse[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;background:linear-gradient(135deg,#3b82f6,#1d4ed8);animation:_ngcontent-%COMP%_spinner-pulse 1.2s ease-in-out infinite}@keyframes _ngcontent-%COMP%_spinner-pulse{0%{transform:scale(.8);opacity:1}50%{transform:scale(1.2);opacity:.5}to{transform:scale(.8);opacity:1}}.spinner-bars[_ngcontent-%COMP%]{display:inline-flex;gap:4px;align-items:flex-end;height:40px}.spinner-bars[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:6px;background:#3b82f6;border-radius:3px;animation:_ngcontent-%COMP%_spinner-bars 1.2s ease-in-out infinite}.spinner-bars[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(1){height:20px;animation-delay:-.4s}.spinner-bars[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(2){height:30px;animation-delay:-.3s}.spinner-bars[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(3){height:40px;animation-delay:-.2s}.spinner-bars[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(4){height:30px;animation-delay:-.1s}.spinner-bars[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]:nth-child(5){height:20px;animation-delay:0s}@keyframes _ngcontent-%COMP%_spinner-bars{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}.spinner-sm[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]{width:40px;height:40px}.spinner-sm[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:32px;height:32px;margin:4px;border-width:4px}.spinner-sm[_ngcontent-%COMP%]   .spinner-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:8px;height:8px}.spinner-sm[_ngcontent-%COMP%]   .spinner-pulse[_ngcontent-%COMP%]{width:30px;height:30px}.spinner-sm[_ngcontent-%COMP%]   .spinner-bars[_ngcontent-%COMP%]{height:20px}.spinner-sm[_ngcontent-%COMP%]   .spinner-bars[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:4px}.spinner-lg[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]{width:120px;height:120px}.spinner-lg[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:96px;height:96px;margin:12px;border-width:12px}.spinner-lg[_ngcontent-%COMP%]   .spinner-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:16px;height:16px}.spinner-lg[_ngcontent-%COMP%]   .spinner-pulse[_ngcontent-%COMP%]{width:90px;height:90px}.spinner-lg[_ngcontent-%COMP%]   .spinner-bars[_ngcontent-%COMP%]{height:60px}.spinner-lg[_ngcontent-%COMP%]   .spinner-bars[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{width:8px}.spinner-primary[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .spinner-primary[_ngcontent-%COMP%]   .spinner-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .spinner-primary[_ngcontent-%COMP%]   .spinner-pulse[_ngcontent-%COMP%], .spinner-primary[_ngcontent-%COMP%]   .spinner-bars[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#3b82f6;border-color:#3b82f6 transparent transparent transparent}.spinner-success[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .spinner-success[_ngcontent-%COMP%]   .spinner-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .spinner-success[_ngcontent-%COMP%]   .spinner-pulse[_ngcontent-%COMP%], .spinner-success[_ngcontent-%COMP%]   .spinner-bars[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#22c55e;border-color:#22c55e transparent transparent transparent}.spinner-warning[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .spinner-warning[_ngcontent-%COMP%]   .spinner-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .spinner-warning[_ngcontent-%COMP%]   .spinner-pulse[_ngcontent-%COMP%], .spinner-warning[_ngcontent-%COMP%]   .spinner-bars[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#f59e0b;border-color:#f59e0b transparent transparent transparent}.spinner-danger[_ngcontent-%COMP%]   .spinner-ring[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .spinner-danger[_ngcontent-%COMP%]   .spinner-dots[_ngcontent-%COMP%]   div[_ngcontent-%COMP%], .spinner-danger[_ngcontent-%COMP%]   .spinner-pulse[_ngcontent-%COMP%], .spinner-danger[_ngcontent-%COMP%]   .spinner-bars[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{background:#ef4444;border-color:#ef4444 transparent transparent transparent}@media (max-width: 768px){.loading-text[_ngcontent-%COMP%]{font-size:1rem}.loading-subtext[_ngcontent-%COMP%]{font-size:.8rem}}"]})};function Os(o,t){if(o&1&&(r(0,"div",51)(1,"div",52),g(2,"i",53),r(3,"span"),a(4),i()()()),o&2){let e=p();l(4),v(e.errorMessage)}}function Ss(o,t){o&1&&g(0,"app-modern-loading",54),o&2&&m("overlay",!0)("fullscreen",!0)}var kn=class o{constructor(t,e,n){this.fb=t;this.authService=e;this.router=n}loginForm;isLoading=!1;showPassword=!1;errorMessage="";ngOnInit(){this.initializeForm()}initializeForm(){this.loginForm=this.fb.group({email:["",[q.required,q.email]],password:["",[q.required,q.minLength(6)]]})}onSubmit(){if(this.loginForm.valid){this.isLoading=!0,this.errorMessage="";let t=this.loginForm.value;this.authService.login(t).subscribe({next:e=>{this.isLoading=!1,this.router.navigate(["/home"])},error:e=>{this.isLoading=!1,this.errorMessage=e.error?.message||"Login failed. Please try again.",console.error("Login error:",e)}})}else this.markFormGroupTouched()}loginWithGoogle(){console.log("Google login clicked")}loginWithFacebook(){console.log("Facebook login clicked")}togglePassword(){this.showPassword=!this.showPassword}getFieldError(t){let e=this.loginForm.get(t);if(e&&e.invalid&&(e.dirty||e.touched)){if(e.errors?.required)return`${t.charAt(0).toUpperCase()+t.slice(1)} is required`;if(e.errors?.email)return"Please enter a valid email address";if(e.errors?.minlength)return`${t.charAt(0).toUpperCase()+t.slice(1)} must be at least ${e.errors.minlength.requiredLength} characters`}return""}isFieldInvalid(t){let e=this.loginForm.get(t);return!!(e&&e.invalid&&(e.dirty||e.touched))}markFormGroupTouched(){Object.keys(this.loginForm.controls).forEach(t=>{this.loginForm.get(t)?.markAsTouched()})}static \u0275fac=function(e){return new(e||o)(P(he),P(ee),P(ue))};static \u0275cmp=A({type:o,selectors:[["app-login"]],decls:62,vars:13,consts:[[1,"login-container"],[1,"login-background"],[1,"animated-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"shape","shape-4"],[1,"shape","shape-5"],[1,"shape","shape-6"],[1,"gradient-mesh"],[1,"particle-field"],[1,"login-content"],[1,"container"],[1,"row","justify-content-center","align-items-center","min-vh-100"],[1,"col-lg-6","col-md-8","col-sm-10"],["variant","glass","size","lg",1,"login-card-wrapper",3,"hoverable","elevated"],["header","",1,"login-header"],[1,"brand-section"],[1,"brand-icon"],[1,"icon-wrapper"],[1,"fas","fa-car-side"],[1,"brand-text"],[1,"brand-title"],[1,"brand-subtitle"],[1,"login-form",3,"ngSubmit","formGroup"],[1,"form-field"],["label","Email Address","type","email","placeholder","Enter your email address","icon","fas fa-envelope","formControlName","email","size","lg","variant","outline",3,"errorMessage"],["label","Password","type","password","placeholder","Enter your password","icon","fas fa-lock","formControlName","password","size","lg","variant","outline",3,"errorMessage","showPasswordToggle"],[1,"form-options"],[1,"remember-me"],[1,"checkbox-wrapper"],["type","checkbox","id","rememberMe",1,"modern-checkbox"],[1,"checkmark"],[1,"label-text"],["href","#",1,"forgot-link"],[1,"submit-section"],["text","Sign In","loadingText","Signing In...","icon","fas fa-sign-in-alt","variant","primary","size","lg","type","submit",3,"onClick","loading","disabled","showRipple"],["class","error-section",4,"ngIf"],[1,"divider-section"],[1,"divider-line"],[1,"divider-text"],[1,"social-section"],["text","Continue with Google","icon","fab fa-google","variant","outline","size","lg",1,"social-btn","google-btn",3,"onClick","showRipple"],["text","Continue with Facebook","icon","fab fa-facebook-f","variant","outline","size","lg",1,"social-btn","facebook-btn",3,"onClick","showRipple"],["footer","",1,"login-footer"],[1,"footer-content"],[1,"signup-text"],["routerLink","/register",1,"signup-link"],["routerLink","/home",1,"back-link"],[1,"fas","fa-arrow-left"],["text","Authenticating...","subtext","Please wait while we verify your credentials","spinnerType","ring","variant","primary",3,"overlay","fullscreen",4,"ngIf"],[1,"error-section"],[1,"error-card"],[1,"fas","fa-exclamation-triangle"],["text","Authenticating...","subtext","Please wait while we verify your credentials","spinnerType","ring","variant","primary",3,"overlay","fullscreen"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),g(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),i(),g(9,"div",9)(10,"div",10),i(),r(11,"div",11)(12,"div",12)(13,"div",13)(14,"div",14)(15,"app-modern-card",15)(16,"div",16)(17,"div",17)(18,"div",18)(19,"div",19),g(20,"i",20),i()(),r(21,"div",21)(22,"h1",22),a(23,"Welcome Back"),i(),r(24,"p",23),a(25,"Sign in to your WheelDeal Premium account"),i()()()(),r(26,"form",24),b("ngSubmit",function(){return n.onSubmit()}),r(27,"div",25),g(28,"app-modern-input",26),i(),r(29,"div",25),g(30,"app-modern-input",27),i(),r(31,"div",28)(32,"div",29)(33,"label",30),g(34,"input",31)(35,"span",32),r(36,"span",33),a(37,"Remember me"),i()()(),r(38,"a",34),a(39,"Forgot password?"),i()(),r(40,"div",35)(41,"app-modern-button",36),b("onClick",function(){return n.onSubmit()}),i()(),_(42,Os,5,1,"div",37),i(),r(43,"div",38),g(44,"div",39),r(45,"span",40),a(46,"or continue with"),i(),g(47,"div",39),i(),r(48,"div",41)(49,"app-modern-button",42),b("onClick",function(){return n.loginWithGoogle()}),i(),r(50,"app-modern-button",43),b("onClick",function(){return n.loginWithFacebook()}),i()(),r(51,"div",44)(52,"div",45)(53,"p",46),a(54," Don't have an account? "),r(55,"a",47),a(56,"Create one here"),i()(),r(57,"a",48),g(58,"i",49),r(59,"span"),a(60,"Back to Home"),i()()()()()()()()(),_(61,Ss,1,2,"app-modern-loading",50),i()),e&2&&(l(15),m("hoverable",!0)("elevated",!0),l(11),m("formGroup",n.loginForm),l(2),m("errorMessage",n.getFieldError("email")),l(2),m("errorMessage",n.getFieldError("password"))("showPasswordToggle",!0),l(11),m("loading",n.isLoading)("disabled",n.loginForm.invalid)("showRipple",!0),l(),m("ngIf",n.errorMessage),l(7),m("showRipple",!0),l(),m("showRipple",!0),l(11),m("ngIf",n.isLoading))},dependencies:[L,B,se,xe,ae,de,le,ce,Pe,ye,lt,ct,Tt,Ft],styles:['@charset "UTF-8";.login-container[_ngcontent-%COMP%]{min-height:100vh;position:relative;overflow:hidden;background:linear-gradient(135deg,#bfdaa4,#a8c88a);display:flex;align-items:center;justify-content:center;padding:2rem}.login-background[_ngcontent-%COMP%]{position:absolute;inset:0;z-index:1}.animated-shapes[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%;overflow:hidden}.shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:linear-gradient(45deg,#ffffff26,#ffffff14);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);animation:_ngcontent-%COMP%_float 8s ease-in-out infinite}.shape-1[_ngcontent-%COMP%]{width:120px;height:120px;top:15%;left:10%;animation-delay:0s}.shape-2[_ngcontent-%COMP%]{width:80px;height:80px;top:65%;right:15%;animation-delay:2s}.shape-3[_ngcontent-%COMP%]{width:100px;height:100px;bottom:25%;left:20%;animation-delay:4s}.shape-4[_ngcontent-%COMP%]{width:60px;height:60px;top:10%;right:35%;animation-delay:1s}.shape-5[_ngcontent-%COMP%]{width:90px;height:90px;bottom:10%;right:5%;animation-delay:3s}.shape-6[_ngcontent-%COMP%]{width:70px;height:70px;top:45%;left:5%;animation-delay:5s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0) scale(1);opacity:.7}33%{transform:translateY(-30px) rotate(120deg) scale(1.1);opacity:1}66%{transform:translateY(-15px) rotate(240deg) scale(.9);opacity:.8}}.gradient-mesh[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle at 20% 30%,rgba(255,255,255,.1) 0%,transparent 50%),radial-gradient(circle at 80% 70%,rgba(255,255,255,.08) 0%,transparent 50%),radial-gradient(circle at 40% 80%,rgba(255,255,255,.06) 0%,transparent 50%)}.particle-field[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:radial-gradient(circle at 25% 25%,rgba(255,255,255,.1) 1px,transparent 1px),radial-gradient(circle at 75% 75%,rgba(255,255,255,.1) 1px,transparent 1px);background-size:50px 50px,30px 30px;background-position:0 0,25px 25px;animation:_ngcontent-%COMP%_particleMove 20s linear infinite}@keyframes _ngcontent-%COMP%_particleMove{0%{transform:translate(0)}to{transform:translate(-50px,-50px)}}.login-content[_ngcontent-%COMP%]{position:relative;z-index:2;width:100%;max-width:1200px;margin:0 auto}.login-card-wrapper[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .8s cubic-bezier(.4,0,.2,1)}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(40px) scale(.95)}to{opacity:1;transform:translateY(0) scale(1)}}.login-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1.5rem}.brand-icon[_ngcontent-%COMP%]{position:relative}.icon-wrapper[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#bfdaa4,#8fb370);border-radius:24px;display:flex;align-items:center;justify-content:center;box-shadow:0 20px 40px #bfdaa44d,0 0 0 1px #fff3;position:relative;overflow:hidden;animation:_ngcontent-%COMP%_iconPulse 3s ease-in-out infinite}.icon-wrapper[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent);animation:_ngcontent-%COMP%_shimmer 2s infinite}@keyframes _ngcontent-%COMP%_iconPulse{0%,to{transform:scale(1) rotate(0)}50%{transform:scale(1.05) rotate(5deg)}}@keyframes _ngcontent-%COMP%_shimmer{0%{left:-100%}to{left:100%}}.icon-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:2rem;color:#fff;z-index:1}.brand-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;color:#000;margin:0;letter-spacing:-.02em}.brand-subtitle[_ngcontent-%COMP%]{color:#000;font-size:1.1rem;margin:0;font-weight:400;letter-spacing:.01em}.login-form[_ngcontent-%COMP%]{margin-bottom:2rem}.form-field[_ngcontent-%COMP%]{margin-bottom:1.5rem}.form-options[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:2rem;flex-wrap:wrap;gap:1rem}.remember-me[_ngcontent-%COMP%]{display:flex;align-items:center}.checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;cursor:pointer;-webkit-user-select:none;user-select:none}.modern-checkbox[_ngcontent-%COMP%]{display:none}.checkmark[_ngcontent-%COMP%]{width:20px;height:20px;border:2px solid rgba(255,255,255,.3);border-radius:6px;position:relative;transition:all .3s ease;background:#ffffff1a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.modern-checkbox[_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);border-color:transparent}.modern-checkbox[_ngcontent-%COMP%]:checked + .checkmark[_ngcontent-%COMP%]:after{content:"\\2713";position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);color:#fff;font-size:12px;font-weight:700}.label-text[_ngcontent-%COMP%]{color:#000;font-size:.9rem;font-weight:500}.forgot-link[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-size:.9rem;font-weight:500;transition:all .3s ease;position:relative}.forgot-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:0;height:1px;background:linear-gradient(135deg,#bfdaa4,#8fb370);transition:width .3s ease}.forgot-link[_ngcontent-%COMP%]:hover{color:#333}.forgot-link[_ngcontent-%COMP%]:hover:after{width:100%}.submit-section[_ngcontent-%COMP%]{margin-bottom:1.5rem;display:flex;justify-content:center}.submit-section[_ngcontent-%COMP%]   app-modern-button[_ngcontent-%COMP%]{width:100%;max-width:100%}.error-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.error-card[_ngcontent-%COMP%]{background:#ef44441a;border:1px solid rgba(239,68,68,.3);border-radius:12px;padding:1rem;display:flex;align-items:center;gap:.75rem;color:#fca5a5;font-size:.9rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);animation:_ngcontent-%COMP%_shake .5s ease-in-out}@keyframes _ngcontent-%COMP%_shake{0%,to{transform:translate(0)}25%{transform:translate(-5px)}75%{transform:translate(5px)}}.error-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem;color:#ef4444}.divider-section[_ngcontent-%COMP%]{display:flex;align-items:center;margin:2rem 0;gap:1rem}.divider-line[_ngcontent-%COMP%]{flex:1;height:1px;background:linear-gradient(90deg,transparent,rgba(255,255,255,.3),transparent)}.divider-text[_ngcontent-%COMP%]{color:#fff9;font-size:.9rem;font-weight:500;white-space:nowrap}.social-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;margin-bottom:2rem;align-items:center}.social-section[_ngcontent-%COMP%]   app-modern-button[_ngcontent-%COMP%]{width:100%;max-width:100%}.social-btn[_ngcontent-%COMP%]{transition:all .3s ease}.social-btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.google-btn[_ngcontent-%COMP%]{border-color:#ef44444d!important}.google-btn[_ngcontent-%COMP%]:hover{border-color:#ef444480!important;background:#ef44441a!important}.facebook-btn[_ngcontent-%COMP%]{border-color:#3b82f64d!important}.facebook-btn[_ngcontent-%COMP%]:hover{border-color:#3b82f680!important;background:#3b82f61a!important}.login-footer[_ngcontent-%COMP%]{text-align:center;padding-top:1.5rem;border-top:1px solid rgba(255,255,255,.1)}.footer-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.signup-text[_ngcontent-%COMP%]{color:#000;font-size:.9rem;margin:0}.signup-link[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-weight:600;transition:all .3s ease;position:relative}.signup-link[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:-2px;left:0;width:0;height:1px;background:linear-gradient(135deg,#bfdaa4,#8fb370);transition:width .3s ease}.signup-link[_ngcontent-%COMP%]:hover{color:#333}.signup-link[_ngcontent-%COMP%]:hover:after{width:100%}.back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:#000;text-decoration:none;font-size:.9rem;transition:all .3s ease;padding:.5rem 1rem;border-radius:8px;background:#0000000d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.back-link[_ngcontent-%COMP%]:hover{color:#333;background:#0000001a;transform:translate(-4px)}.back-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;transition:transform .3s ease}.back-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:translate(-2px)}@media (max-width: 768px){.login-container[_ngcontent-%COMP%]{padding:1rem}.brand-title[_ngcontent-%COMP%]{font-size:2rem}.brand-subtitle[_ngcontent-%COMP%]{font-size:1rem}.icon-wrapper[_ngcontent-%COMP%]{width:64px;height:64px}.icon-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.form-options[_ngcontent-%COMP%]{flex-direction:column;align-items:flex-start;gap:1rem}.social-section[_ngcontent-%COMP%]{gap:.75rem}}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{padding:.5rem}.brand-title[_ngcontent-%COMP%]{font-size:1.75rem}.icon-wrapper[_ngcontent-%COMP%]{width:56px;height:56px}.icon-wrapper[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.footer-content[_ngcontent-%COMP%]{gap:.75rem}}']})};function ws(o,t){if(o&1&&(r(0,"div",52)(1,"div",53),g(2,"div",54),i(),r(3,"small",55),a(4),i()()),o&2){let e=p();l(2),$(e.getPasswordStrengthClass()),l(2),v(e.getPasswordStrengthText())}}function Es(o,t){o&1&&(r(0,"div",56),a(1," You must agree to the terms and conditions "),i())}function ks(o,t){if(o&1&&(r(0,"div",57)(1,"div",58),g(2,"i",59),r(3,"span"),a(4),i()()()),o&2){let e=p();l(4),v(e.errorMessage)}}function Is(o,t){o&1&&g(0,"app-modern-loading",60),o&2&&m("overlay",!0)("fullscreen",!0)}var In=class o{constructor(t,e,n){this.fb=t;this.authService=e;this.router=n}registerForm;isLoading=!1;showPassword=!1;errorMessage="";ngOnInit(){this.initializeForm()}initializeForm(){this.registerForm=this.fb.group({fullName:["",[q.required,q.minLength(2)]],email:["",[q.required,q.email]],password:["",[q.required,q.minLength(6)]],confirmPassword:["",[q.required]],agreeTerms:[!1,[q.requiredTrue]]},{validators:this.passwordMatchValidator})}passwordMatchValidator(t){let e=t.get("password"),n=t.get("confirmPassword");return e&&n&&e.value!==n.value?(n.setErrors({mismatch:!0}),{mismatch:!0}):null}onSubmit(){if(this.registerForm.valid){this.isLoading=!0,this.errorMessage="";let t={fullName:this.registerForm.value.fullName,email:this.registerForm.value.email,password:this.registerForm.value.password};this.authService.register(t).subscribe({next:e=>{this.isLoading=!1,this.router.navigate(["/home"])},error:e=>{this.isLoading=!1,this.errorMessage=e.error?.message||"Registration failed. Please try again.",console.error("Registration error:",e)}})}else this.markFormGroupTouched()}registerWithGoogle(){console.log("Google registration clicked")}togglePassword(){this.showPassword=!this.showPassword}isFieldInvalid(t){let e=this.registerForm.get(t);return!!(e&&e.invalid&&(e.dirty||e.touched))}getFieldError(t){let e=this.registerForm.get(t);if(e&&e.invalid&&(e.dirty||e.touched)){if(e.errors?.required)return`${t.charAt(0).toUpperCase()+t.slice(1)} is required`;if(e.errors?.email)return"Please enter a valid email address";if(e.errors?.minlength)return`${t.charAt(0).toUpperCase()+t.slice(1)} must be at least ${e.errors.minlength.requiredLength} characters`;if(e.errors?.mismatch)return"Passwords do not match"}return""}getPasswordStrengthClass(){let t=this.registerForm.get("password")?.value||"",e=this.calculatePasswordStrength(t);return e<2?"strength-weak":e<4?"strength-medium":"strength-strong"}getPasswordStrengthText(){let t=this.registerForm.get("password")?.value||"",e=this.calculatePasswordStrength(t);return e<2?"Weak password":e<4?"Medium password":"Strong password"}calculatePasswordStrength(t){let e=0;return t.length>=6&&e++,t.length>=10&&e++,/[a-z]/.test(t)&&e++,/[A-Z]/.test(t)&&e++,/[0-9]/.test(t)&&e++,/[^A-Za-z0-9]/.test(t)&&e++,e}markFormGroupTouched(){Object.keys(this.registerForm.controls).forEach(t=>{this.registerForm.get(t)?.markAsTouched()})}static \u0275fac=function(e){return new(e||o)(P(he),P(ee),P(ue))};static \u0275cmp=A({type:o,selectors:[["app-register"]],decls:69,vars:17,consts:[[1,"register-container"],[1,"register-background"],[1,"animated-shapes"],[1,"shape","shape-1"],[1,"shape","shape-2"],[1,"shape","shape-3"],[1,"shape","shape-4"],[1,"shape","shape-5"],[1,"shape","shape-6"],[1,"gradient-mesh"],[1,"particle-field"],[1,"container"],[1,"row","justify-content-center","align-items-center","min-vh-100"],[1,"col-lg-6","col-md-8","col-sm-10"],["size","lg",1,"register-card-wrapper",3,"hoverable","elevated"],["header","",1,"register-header"],[1,"brand-section"],[1,"brand-icon"],[1,"icon-wrapper"],[1,"fas","fa-user-plus"],[1,"brand-text"],[1,"brand-title"],[1,"brand-subtitle"],[1,"register-form",3,"ngSubmit","formGroup"],[1,"form-field"],["label","Full Name","type","text","placeholder","Enter your full name","icon","fas fa-user","formControlName","fullName","size","lg",3,"errorMessage"],["label","Email Address","type","email","placeholder","Enter your email address","icon","fas fa-envelope","formControlName","email","size","lg",3,"errorMessage"],["label","Password","type","password","placeholder","Create a strong password","icon","fas fa-lock","formControlName","password","size","lg",3,"errorMessage","showPasswordToggle"],["class","password-strength",4,"ngIf"],["label","Confirm Password","type","password","placeholder","Confirm your password","icon","fas fa-lock","formControlName","confirmPassword","size","lg",3,"errorMessage","showPasswordToggle"],[1,"terms-agreement"],[1,"checkbox-wrapper"],["type","checkbox","id","agreeTerms","formControlName","agreeTerms",1,"modern-checkbox"],[1,"checkmark"],[1,"label-text"],["href","#",1,"terms-link"],["class","error-message",4,"ngIf"],[1,"submit-section"],["text","Create Account","loadingText","Creating Account...","icon","fas fa-user-plus","variant","primary","size","lg","type","submit",3,"onClick","loading","disabled","showRipple"],["class","error-section",4,"ngIf"],[1,"divider-section"],[1,"divider-line"],[1,"divider-text"],[1,"social-section"],["text","Sign up with Google","icon","fab fa-google","variant","outline","size","lg",1,"social-btn","google-btn",3,"onClick","showRipple"],["footer","",1,"register-footer"],[1,"footer-content"],[1,"signin-text"],["routerLink","/login",1,"signin-link"],["routerLink","/home",1,"back-link"],[1,"fas","fa-arrow-left"],["text","Creating Account...","subtext","Please wait while we set up your account","spinnerType","ring","variant","primary",3,"overlay","fullscreen",4,"ngIf"],[1,"password-strength"],[1,"strength-meter"],[1,"strength-bar"],[1,"strength-text"],[1,"error-message"],[1,"error-section"],[1,"error-card"],[1,"fas","fa-exclamation-triangle"],["text","Creating Account...","subtext","Please wait while we set up your account","spinnerType","ring","variant","primary",3,"overlay","fullscreen"]],template:function(e,n){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2),g(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8),i(),g(9,"div",9)(10,"div",10),i(),r(11,"div",11)(12,"div",12)(13,"div",13)(14,"app-modern-card",14)(15,"div",15)(16,"div",16)(17,"div",17)(18,"div",18),g(19,"i",19),i()(),r(20,"div",20)(21,"h1",21),a(22,"Join WheelDeal"),i(),r(23,"p",22),a(24,"Create your WheelDeal Premium account"),i()()()(),r(25,"form",23),b("ngSubmit",function(){return n.onSubmit()}),r(26,"div",24),g(27,"app-modern-input",25),i(),r(28,"div",24),g(29,"app-modern-input",26),i(),r(30,"div",24),g(31,"app-modern-input",27),_(32,ws,5,3,"div",28),i(),r(33,"div",24),g(34,"app-modern-input",29),i(),r(35,"div",24)(36,"div",30)(37,"label",31),g(38,"input",32)(39,"span",33),r(40,"span",34),a(41," I agree to the "),r(42,"a",35),a(43,"Terms of Service"),i(),a(44," and "),r(45,"a",35),a(46,"Privacy Policy"),i()()(),_(47,Es,2,0,"div",36),i()(),r(48,"div",37)(49,"app-modern-button",38),b("onClick",function(){return n.onSubmit()}),i()(),_(50,ks,5,1,"div",39),i(),r(51,"div",40),g(52,"div",41),r(53,"span",42),a(54,"or continue with"),i(),g(55,"div",41),i(),r(56,"div",43)(57,"app-modern-button",44),b("onClick",function(){return n.registerWithGoogle()}),i()(),r(58,"div",45)(59,"div",46)(60,"p",47),a(61," Already have an account? "),r(62,"a",48),a(63,"Sign in here"),i()(),r(64,"a",49),g(65,"i",50),r(66,"span"),a(67,"Back to Home"),i()()()()()()()(),_(68,Is,1,2,"app-modern-loading",51),i()),e&2){let s;l(14),m("hoverable",!0)("elevated",!0),l(11),m("formGroup",n.registerForm),l(2),m("errorMessage",n.getFieldError("fullName")),l(2),m("errorMessage",n.getFieldError("email")),l(2),m("errorMessage",n.getFieldError("password"))("showPasswordToggle",!0),l(),m("ngIf",(s=n.registerForm.get("password"))==null?null:s.value),l(2),m("errorMessage",n.getFieldError("confirmPassword"))("showPasswordToggle",!0),l(13),m("ngIf",n.isFieldInvalid("agreeTerms")),l(2),m("loading",n.isLoading)("disabled",n.registerForm.invalid)("showRipple",!0),l(),m("ngIf",n.errorMessage),l(7),m("showRipple",!0),l(11),m("ngIf",n.isLoading)}},dependencies:[L,B,se,xe,ae,de,at,le,ce,Pe,ye,lt,ct,Tt,Ft],styles:['.register-container[_ngcontent-%COMP%]{min-height:100vh;position:relative;overflow:hidden;background:linear-gradient(135deg,#bfdaa4,#a8c88a);display:flex;align-items:center;justify-content:center;padding:2rem}.register-background[_ngcontent-%COMP%]{position:absolute;inset:0;overflow:hidden;z-index:0}.animated-shapes[_ngcontent-%COMP%]{position:absolute;width:100%;height:100%}.shape[_ngcontent-%COMP%]{position:absolute;border-radius:50%;background:linear-gradient(45deg,#ffffff26,#ffffff14);-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.3);animation:_ngcontent-%COMP%_float 8s ease-in-out infinite}.shape-1[_ngcontent-%COMP%]{width:120px;height:120px;top:10%;left:10%;animation-delay:0s}.shape-2[_ngcontent-%COMP%]{width:80px;height:80px;top:20%;right:15%;animation-delay:2s}.shape-3[_ngcontent-%COMP%]{width:100px;height:100px;bottom:20%;left:20%;animation-delay:4s}.shape-4[_ngcontent-%COMP%]{width:60px;height:60px;bottom:30%;right:10%;animation-delay:6s}.shape-5[_ngcontent-%COMP%]{width:90px;height:90px;top:50%;left:5%;animation-delay:1s}.shape-6[_ngcontent-%COMP%]{width:70px;height:70px;top:60%;right:5%;animation-delay:3s}@keyframes _ngcontent-%COMP%_float{0%,to{transform:translateY(0) rotate(0)}33%{transform:translateY(-20px) rotate(120deg)}66%{transform:translateY(-10px) rotate(240deg)}}.gradient-mesh[_ngcontent-%COMP%]{position:absolute;inset:0;background:radial-gradient(circle at 20% 80%,rgba(191,218,164,.3) 0%,transparent 50%),radial-gradient(circle at 80% 20%,rgba(143,179,112,.3) 0%,transparent 50%),radial-gradient(circle at 40% 40%,rgba(168,200,138,.2) 0%,transparent 50%);animation:_ngcontent-%COMP%_meshMove 20s ease-in-out infinite}@keyframes _ngcontent-%COMP%_meshMove{0%,to{transform:scale(1) rotate(0)}50%{transform:scale(1.1) rotate(180deg)}}.particle-field[_ngcontent-%COMP%]{position:absolute;inset:0;background-image:radial-gradient(circle at 25% 25%,rgba(255,255,255,.1) 1px,transparent 1px),radial-gradient(circle at 75% 75%,rgba(255,255,255,.1) 1px,transparent 1px);background-size:50px 50px;animation:_ngcontent-%COMP%_particleFloat 15s linear infinite}@keyframes _ngcontent-%COMP%_particleFloat{0%{transform:translateY(0)}to{transform:translateY(-50px)}}.register-card-wrapper[_ngcontent-%COMP%]{position:relative;z-index:1;width:100%;max-width:600px;margin:0 auto}.register-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.brand-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem}.brand-icon[_ngcontent-%COMP%]{width:80px;height:80px;background:linear-gradient(135deg,#bfdaa4,#8fb370);border-radius:24px;display:flex;align-items:center;justify-content:center;box-shadow:0 20px 40px #bfdaa44d,0 0 0 1px #fff3;position:relative}.icon-wrapper[_ngcontent-%COMP%]{width:100%;height:100%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:2rem}.brand-title[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:800;color:#000;margin:0;letter-spacing:-.02em}.brand-subtitle[_ngcontent-%COMP%]{color:#000;font-size:1.1rem;margin:0;font-weight:400;letter-spacing:.01em}.register-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.form-field[_ngcontent-%COMP%]{position:relative}.password-strength[_ngcontent-%COMP%]{margin-top:.75rem;padding:.75rem;background:#fffc;border-radius:8px;border:1px solid rgba(0,0,0,.1)}.strength-meter[_ngcontent-%COMP%]{height:6px;background:#0000001a;border-radius:3px;overflow:hidden;margin-bottom:.5rem}.strength-bar[_ngcontent-%COMP%]{height:100%;transition:all .3s ease;border-radius:3px}.strength-weak[_ngcontent-%COMP%]{width:33%;background:linear-gradient(90deg,#ef4444,#dc2626)}.strength-medium[_ngcontent-%COMP%]{width:66%;background:linear-gradient(90deg,#f59e0b,#d97706)}.strength-strong[_ngcontent-%COMP%]{width:100%;background:linear-gradient(90deg,#22c55e,#16a34a)}.strength-text[_ngcontent-%COMP%]{color:#000;font-size:.875rem;font-weight:500}.terms-agreement[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.checkbox-wrapper[_ngcontent-%COMP%]{display:flex;align-items:flex-start;gap:.75rem;cursor:pointer;position:relative}.modern-checkbox[_ngcontent-%COMP%]{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.checkmark[_ngcontent-%COMP%]{height:20px;width:20px;background:#fff;border:2px solid rgba(0,0,0,.2);border-radius:4px;position:relative;flex-shrink:0;margin-top:2px;transition:all .3s ease}.modern-checkbox[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]{background:#bfdaa4;border-color:#8fb370}.checkmark[_ngcontent-%COMP%]:after{content:"";position:absolute;display:none;left:6px;top:2px;width:4px;height:8px;border:solid white;border-width:0 2px 2px 0;transform:rotate(45deg)}.modern-checkbox[_ngcontent-%COMP%]:checked ~ .checkmark[_ngcontent-%COMP%]:after{display:block}.label-text[_ngcontent-%COMP%]{color:#000;font-size:.9rem;font-weight:500;line-height:1.4}.terms-link[_ngcontent-%COMP%]{color:#8fb370;text-decoration:none;font-weight:600;transition:all .3s ease}.terms-link[_ngcontent-%COMP%]:hover{color:#729a5a;text-decoration:underline}.error-message[_ngcontent-%COMP%]{color:#ef4444;font-size:.875rem;font-weight:500;margin-top:.25rem}.submit-section[_ngcontent-%COMP%]{margin-top:1rem;display:flex;justify-content:center}.submit-section[_ngcontent-%COMP%]   app-modern-button[_ngcontent-%COMP%]{width:100%;max-width:100%}.error-section[_ngcontent-%COMP%]{margin-top:1rem}.error-card[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:1rem;background:#ef44441a;border:1px solid rgba(239,68,68,.2);border-radius:12px;color:#ef4444;font-weight:500}.error-card[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.divider-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin:2rem 0}.divider-line[_ngcontent-%COMP%]{flex:1;height:1px;background:#0000001a}.divider-text[_ngcontent-%COMP%]{color:#000;font-size:.875rem;font-weight:500;text-transform:uppercase;letter-spacing:.05em}.social-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem;align-items:center}.social-section[_ngcontent-%COMP%]   app-modern-button[_ngcontent-%COMP%]{width:100%;max-width:100%}.social-btn[_ngcontent-%COMP%]{width:100%}.google-btn[_ngcontent-%COMP%]{border-color:#ea4335;color:#ea4335}.google-btn[_ngcontent-%COMP%]:hover{background:#ea4335;color:#fff}.register-footer[_ngcontent-%COMP%]{margin-top:2rem}.footer-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;gap:1rem;text-align:center}.signin-text[_ngcontent-%COMP%]{color:#000;font-size:.9rem;margin:0}.signin-link[_ngcontent-%COMP%]{color:#000;text-decoration:none;font-weight:600;transition:all .3s ease}.signin-link[_ngcontent-%COMP%]:hover{color:#333;text-decoration:underline}.back-link[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;color:#000;text-decoration:none;font-size:.9rem;transition:all .3s ease;padding:.5rem 1rem;border-radius:8px;background:#0000000d;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.back-link[_ngcontent-%COMP%]:hover{color:#333;background:#0000001a;transform:translate(-4px)}@media (max-width: 768px){.register-container[_ngcontent-%COMP%]{padding:1rem}.brand-title[_ngcontent-%COMP%]{font-size:2rem}.brand-subtitle[_ngcontent-%COMP%]{font-size:1rem}.brand-icon[_ngcontent-%COMP%]{width:60px;height:60px}.icon-wrapper[_ngcontent-%COMP%]{font-size:1.5rem}}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.register-card-wrapper[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .6s ease-out}']})};function Ts(o,t){if(o&1){let e=y();r(0,"i",4),b("click",function(){let s=u(e).$implicit,c=p();return h(c.onStarClick(s))})("mouseenter",function(){let s=u(e).$implicit,c=p();return h(c.onStarHover(s))})("mouseleave",function(){u(e);let s=p();return h(s.onStarLeave())}),i()}if(o&2){let e=t.$implicit,n=p();$(n.getStarIcon(e)),w("clickable",!n.readonly),m("ngClass",n.getStarClass(e))}}function Fs(o,t){if(o&1&&(r(0,"span",8),a(1),i()),o&2){let e=p(2);l(),C(" ",e.rating.toFixed(1)," ")}}function Rs(o,t){if(o&1&&(r(0,"span",9),a(1),i()),o&2){let e=p(2);l(),F(" (",e.ratingCount," ",e.ratingCount===1?"review":"reviews",") ")}}function Ds(o,t){if(o&1&&(r(0,"div",5),_(1,Fs,2,1,"span",6)(2,Rs,2,2,"span",7),i()),o&2){let e=p();l(),m("ngIf",e.showValue),l(),m("ngIf",e.showCount&&e.ratingCount>0)}}var Be=class o{rating=0;maxRating=5;readonly=!1;size="md";showValue=!1;showCount=!1;ratingCount=0;ratingChange=new De;ratingHover=new De;stars=[];hoveredRating=0;ngOnInit(){this.stars=Array(this.maxRating).fill(0).map((t,e)=>e+1)}onStarClick(t){this.readonly||(this.rating=t,this.ratingChange.emit(t))}onStarHover(t){this.readonly||(this.hoveredRating=t,this.ratingHover.emit(t))}onStarLeave(){this.readonly||(this.hoveredRating=0,this.ratingHover.emit(0))}getStarClass(t){let e=this.hoveredRating||this.rating;return t<=e?"star-filled":t-e<1?"star-partial":"star-empty"}getStarIcon(t){let e=this.hoveredRating||this.rating;return t<=e?"fas fa-star":t-e<1?"fas fa-star-half-alt":"far fa-star"}getSizeClass(){switch(this.size){case"sm":return"star-rating-sm";case"lg":return"star-rating-lg";default:return"star-rating-md"}}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-star-rating"]],inputs:{rating:"rating",maxRating:"maxRating",readonly:"readonly",size:"size",showValue:"showValue",showCount:"showCount",ratingCount:"ratingCount"},outputs:{ratingChange:"ratingChange",ratingHover:"ratingHover"},decls:4,vars:3,consts:[[1,"star-rating",3,"ngClass"],[1,"stars-container"],[3,"class","ngClass","clickable","click","mouseenter","mouseleave",4,"ngFor","ngForOf"],["class","rating-info",4,"ngIf"],[3,"click","mouseenter","mouseleave","ngClass"],[1,"rating-info"],["class","rating-value",4,"ngIf"],["class","rating-count",4,"ngIf"],[1,"rating-value"],[1,"rating-count"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),_(2,Ts,1,5,"i",2),i(),_(3,Ds,3,2,"div",3),i()),e&2&&(m("ngClass",n.getSizeClass()),l(2),m("ngForOf",n.stars),l(),m("ngIf",n.showValue||n.showCount))},dependencies:[L,Ce,J,B],styles:['.star-rating[_ngcontent-%COMP%]{display:inline-flex;align-items:center;gap:.5rem;font-family:"Font Awesome 5 Free",sans-serif}.stars-container[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.125rem}.stars-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .2s ease;cursor:default}.stars-container[_ngcontent-%COMP%]   i.clickable[_ngcontent-%COMP%]{cursor:pointer}.stars-container[_ngcontent-%COMP%]   i.clickable[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.star-filled[_ngcontent-%COMP%], .star-partial[_ngcontent-%COMP%]{color:#ffc107;font-weight:900}.star-empty[_ngcontent-%COMP%]{color:#e4e5e9;font-weight:400}.rating-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.25rem;font-size:.875rem;color:#6c757d}.rating-value[_ngcontent-%COMP%]{font-weight:600;color:#495057}.rating-count[_ngcontent-%COMP%]{color:#6c757d}.star-rating-sm[_ngcontent-%COMP%]   .stars-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.875rem}.star-rating-sm[_ngcontent-%COMP%]   .rating-info[_ngcontent-%COMP%]{font-size:.75rem}.star-rating-md[_ngcontent-%COMP%]   .stars-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.star-rating-md[_ngcontent-%COMP%]   .rating-info[_ngcontent-%COMP%]{font-size:.875rem}.star-rating-lg[_ngcontent-%COMP%]   .stars-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem}.star-rating-lg[_ngcontent-%COMP%]   .rating-info[_ngcontent-%COMP%]{font-size:1rem}.stars-container[_ngcontent-%COMP%]   i.clickable[_ngcontent-%COMP%]:hover{color:#ffc107;transform:scale(1.1)}.stars-container[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_starPop .3s ease-out}@keyframes _ngcontent-%COMP%_starPop{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}@media (max-width: 768px){.star-rating[_ngcontent-%COMP%]{gap:.25rem}.stars-container[_ngcontent-%COMP%]{gap:.0625rem}.rating-info[_ngcontent-%COMP%]{font-size:.75rem}}']})};var _e=class o{constructor(t){this.http=t}apiUrl=X.apiUrl+"/cars";searchCars(t){let e=new Pt;return t&&(t.brand&&(e=e.set("brand",t.brand)),t.model&&(e=e.set("model",t.model)),t.type&&(e=e.set("type",t.type)),t.minPrice&&(e=e.set("minPrice",t.minPrice.toString())),t.maxPrice&&(e=e.set("maxPrice",t.maxPrice.toString())),t.branchId&&(e=e.set("branchId",t.branchId.toString())),t.city&&(e=e.set("city",t.city))),this.http.get(`${this.apiUrl}/search`,{params:e})}getCarById(t){return this.http.get(`${this.apiUrl}/${t}`)}getAllCars(){return this.http.get(this.apiUrl)}createCar(t){return this.http.post(this.apiUrl,t)}updateCar(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteCar(t){return this.http.delete(`${this.apiUrl}/${t}`)}getAvailableCars(){return this.http.get(`${this.apiUrl}/available`)}advancedSearch(t){return this.http.post(`${this.apiUrl}/advanced-search`,t)}getDistinctBrands(){return this.http.get(`${this.apiUrl}/filters/brands`)}getDistinctTypes(){return this.http.get(`${this.apiUrl}/filters/types`)}getDistinctFuelTypes(){return this.http.get(`${this.apiUrl}/filters/fuel-types`)}getDistinctTransmissions(){return this.http.get(`${this.apiUrl}/filters/transmissions`)}getDistinctColors(){return this.http.get(`${this.apiUrl}/filters/colors`)}getDistinctEngineSizes(){return this.http.get(`${this.apiUrl}/filters/engine-sizes`)}getAllFilterOptions(){return this.http.get(`${this.apiUrl}/filters/all`)}getFeaturedCars(){return this.http.get(`${this.apiUrl}/featured`)}getNewArrivals(){return this.http.get(`${this.apiUrl}/new-arrivals`)}getPopularCars(){return this.http.get(`${this.apiUrl}/popular`)}getCarSpecifications(t){return this.http.get(`${this.apiUrl}/${t}/specifications`)}static \u0275fac=function(e){return new(e||o)(j(Z))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};function As(o,t){if(o&1&&(r(0,"option",33),a(1),i()),o&2){let e=t.$implicit;m("value",e),l(),C(" ",e," ")}}function Ns(o,t){if(o&1&&(r(0,"option",33),a(1),i()),o&2){let e=t.$implicit;m("value",e),l(),C(" ",e," ")}}function Bs(o,t){if(o&1&&(r(0,"option",33),a(1),i()),o&2){let e=t.$implicit;m("value",e.value),l(),C(" ",e.label," ")}}function Ls(o,t){if(o&1&&(r(0,"option",33),a(1),i()),o&2){let e=t.$implicit;m("value",e.value),l(),C(" ",e.label," ")}}function Vs(o,t){if(o&1&&(r(0,"option",33),a(1),i()),o&2){let e=t.$implicit;m("value",e),l(),C(" ",e," ")}}function Us(o,t){if(o&1&&(r(0,"option",33),a(1),i()),o&2){let e=t.$implicit;m("value",e),l(),C(" ",e," ")}}function zs(o,t){if(o&1&&(r(0,"option",33),a(1),i()),o&2){let e=t.$implicit;m("value",e),l(),C(" ",e," ")}}function js(o,t){if(o&1&&(r(0,"option",33),a(1),i()),o&2){let e=t.$implicit;m("value",e),l(),C(" ",e," ")}}function Ws(o,t){if(o&1&&(r(0,"div",34)(1,"div",35)(2,"h6",2),g(3,"i",36),a(4," Advanced Filters "),i()(),r(5,"div",9)(6,"div",10)(7,"label",11),a(8,"Fuel Type"),i(),r(9,"select",37)(10,"option",13),a(11,"All Fuel Types"),i(),_(12,Vs,2,2,"option",14),i()(),r(13,"div",10)(14,"label",11),a(15,"Transmission"),i(),r(16,"select",38)(17,"option",13),a(18,"All Transmissions"),i(),_(19,Us,2,2,"option",14),i()(),r(20,"div",10)(21,"label",11),a(22,"Color"),i(),r(23,"select",39)(24,"option",13),a(25,"All Colors"),i(),_(26,zs,2,2,"option",14),i()(),r(27,"div",10)(28,"label",11),a(29,"Engine Size"),i(),r(30,"select",40)(31,"option",13),a(32,"All Engine Sizes"),i(),_(33,js,2,2,"option",14),i()()(),r(34,"div",9)(35,"div",10)(36,"label",11),a(37,"Min Year"),i(),g(38,"input",41),i(),r(39,"div",10)(40,"label",11),a(41,"Max Year"),i(),g(42,"input",42),i(),r(43,"div",10)(44,"label",11),a(45,"Min Seating Capacity"),i(),g(46,"input",43),i(),r(47,"div",10)(48,"label",11),a(49,"Max Seating Capacity"),i(),g(50,"input",44),i()(),r(51,"div",9)(52,"div",10)(53,"label",11),a(54,"Min Rating"),i(),g(55,"input",45),i(),r(56,"div",10)(57,"label",11),a(58,"Min Rating Count"),i(),g(59,"input",46),i(),r(60,"div",47)(61,"div",48),g(62,"input",49),r(63,"label",50),a(64," Show only available cars "),i()()()()()),o&2){let e=p();l(12),m("ngForOf",e.filterOptions.fuelTypes),l(7),m("ngForOf",e.filterOptions.transmissions),l(7),m("ngForOf",e.filterOptions.colors),l(7),m("ngForOf",e.filterOptions.engineSizes)}}function $s(o,t){if(o&1&&(r(0,"span",51),a(1),i()),o&2){let e=p();l(),F(" ",e.getActiveFilterCount()," Active Filter",e.getActiveFilterCount()!==1?"s":""," ")}}function Hs(o,t){o&1&&g(0,"span",52)}function Gs(o,t){o&1&&g(0,"i",53)}var Tn=class o{constructor(t,e){this.fb=t;this.carService=e}searchResults=new De;searchForm;filterOptions={brands:[],types:[],fuelTypes:[],transmissions:[],colors:[],engineSizes:[]};isLoading=!1;showAdvancedFilters=!1;sortOptions=[{value:"price",label:"Price"},{value:"rating",label:"Rating"},{value:"year",label:"Year"},{value:"mileage",label:"Mileage"}];sortOrderOptions=[{value:"asc",label:"Low to High"},{value:"desc",label:"High to Low"}];ngOnInit(){this.initForm(),this.loadFilterOptions()}initForm(){this.searchForm=this.fb.group({brand:[""],model:[""],type:[""],city:[""],minPrice:[""],maxPrice:[""],fuelType:[""],transmission:[""],minSeatingCapacity:[""],maxSeatingCapacity:[""],minYear:[""],maxYear:[""],color:[""],engineSize:[""],minRating:[""],minRatingCount:[""],sortBy:[""],sortOrder:[""],availableOnly:[!0]})}loadFilterOptions(){this.isLoading=!0,Promise.all([this.carService.getDistinctBrands().toPromise(),this.carService.getDistinctTypes().toPromise(),this.carService.getDistinctFuelTypes().toPromise(),this.carService.getDistinctTransmissions().toPromise(),this.carService.getDistinctColors().toPromise(),this.carService.getDistinctEngineSizes().toPromise()]).then(([t,e,n,s,c,d])=>{this.filterOptions={brands:t||[],types:e||[],fuelTypes:n||[],transmissions:s||[],colors:c||[],engineSizes:d||[]},this.isLoading=!1}).catch(t=>{console.error("Error loading filter options:",t),this.isLoading=!1})}onSubmit(){if(this.searchForm.valid){let t=this.buildSearchFilters();this.searchResults.emit(t)}}onClearFilters(){this.searchForm.reset({availableOnly:!0})}toggleAdvancedFilters(){this.showAdvancedFilters=!this.showAdvancedFilters}buildSearchFilters(){let t=this.searchForm.value;return{brand:t.brand||void 0,model:t.model||void 0,type:t.type||void 0,city:t.city||void 0,minPrice:t.minPrice?Number(t.minPrice):void 0,maxPrice:t.maxPrice?Number(t.maxPrice):void 0,fuelType:t.fuelType||void 0,transmission:t.transmission||void 0,minSeatingCapacity:t.minSeatingCapacity?Number(t.minSeatingCapacity):void 0,maxSeatingCapacity:t.maxSeatingCapacity?Number(t.maxSeatingCapacity):void 0,minYear:t.minYear?Number(t.minYear):void 0,maxYear:t.maxYear?Number(t.maxYear):void 0,color:t.color||void 0,engineSize:t.engineSize||void 0,minRating:t.minRating?Number(t.minRating):void 0,minRatingCount:t.minRatingCount?Number(t.minRatingCount):void 0,sortBy:t.sortBy||void 0,sortOrder:t.sortOrder||void 0,availableOnly:t.availableOnly}}hasActiveFilters(){let t=this.searchForm.value;return!!(t.brand||t.model||t.type||t.city||t.minPrice||t.maxPrice||t.fuelType||t.transmission||t.minSeatingCapacity||t.maxSeatingCapacity||t.minYear||t.maxYear||t.color||t.engineSize||t.minRating||t.minRatingCount||t.sortBy)}getActiveFilterCount(){let t=this.searchForm.value,e=0;return t.brand&&e++,t.model&&e++,t.type&&e++,t.city&&e++,(t.minPrice||t.maxPrice)&&e++,t.fuelType&&e++,t.transmission&&e++,(t.minSeatingCapacity||t.maxSeatingCapacity)&&e++,(t.minYear||t.maxYear)&&e++,t.color&&e++,t.engineSize&&e++,(t.minRating||t.minRatingCount)&&e++,t.sortBy&&e++,e}static \u0275fac=function(e){return new(e||o)(P(he),P(_e))};static \u0275cmp=A({type:o,selectors:[["app-advanced-search"]],outputs:{searchResults:"searchResults"},decls:70,vars:17,consts:[[1,"advanced-search-container"],[1,"search-header"],[1,"mb-3"],[1,"fas","fa-search","me-2"],[1,"filter-toggle"],["type","button",1,"btn","btn-outline-primary","btn-sm",3,"click"],[1,"fas"],[1,"search-form",3,"ngSubmit","formGroup"],[1,"basic-filters"],[1,"row"],[1,"col-md-3","mb-3"],[1,"form-label","fw-semibold"],["formControlName","brand",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],["type","text","formControlName","model","placeholder","Enter model name",1,"form-control"],["formControlName","type",1,"form-select"],["type","text","formControlName","city","placeholder","Enter city name",1,"form-control"],["type","number","formControlName","minPrice","placeholder","0","min","0",1,"form-control"],["type","number","formControlName","maxPrice","placeholder","1000","min","0",1,"form-control"],["formControlName","sortBy",1,"form-select"],["formControlName","sortOrder",1,"form-select"],["class","advanced-filters",4,"ngIf"],[1,"form-actions"],[1,"d-flex","justify-content-between","align-items-center"],[1,"filter-info"],["class","badge bg-primary me-2",4,"ngIf"],[1,"action-buttons"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"click","disabled"],[1,"fas","fa-times","me-1"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","fas fa-search me-1",4,"ngIf"],[3,"value"],[1,"advanced-filters"],[1,"advanced-filters-header"],[1,"fas","fa-cogs","me-2"],["formControlName","fuelType",1,"form-select"],["formControlName","transmission",1,"form-select"],["formControlName","color",1,"form-select"],["formControlName","engineSize",1,"form-select"],["type","number","formControlName","minYear","placeholder","2000","min","1900","max","2030",1,"form-control"],["type","number","formControlName","maxYear","placeholder","2024","min","1900","max","2030",1,"form-control"],["type","number","formControlName","minSeatingCapacity","placeholder","2","min","1","max","20",1,"form-control"],["type","number","formControlName","maxSeatingCapacity","placeholder","8","min","1","max","20",1,"form-control"],["type","number","formControlName","minRating","placeholder","3.0","min","0","max","5","step","0.1",1,"form-control"],["type","number","formControlName","minRatingCount","placeholder","5","min","0",1,"form-control"],[1,"col-md-6","mb-3"],[1,"form-check","mt-4"],["type","checkbox","formControlName","availableOnly","id","availableOnly",1,"form-check-input"],["for","availableOnly",1,"form-check-label"],[1,"badge","bg-primary","me-2"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fas","fa-search","me-1"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h4",2),g(3,"i",3),a(4," Advanced Car Search "),i(),r(5,"div",4)(6,"button",5),b("click",function(){return n.toggleAdvancedFilters()}),g(7,"i",6),a(8),i()()(),r(9,"form",7),b("ngSubmit",function(){return n.onSubmit()}),r(10,"div",8)(11,"div",9)(12,"div",10)(13,"label",11),a(14,"Brand"),i(),r(15,"select",12)(16,"option",13),a(17,"All Brands"),i(),_(18,As,2,2,"option",14),i()(),r(19,"div",10)(20,"label",11),a(21,"Model"),i(),g(22,"input",15),i(),r(23,"div",10)(24,"label",11),a(25,"Type"),i(),r(26,"select",16)(27,"option",13),a(28,"All Types"),i(),_(29,Ns,2,2,"option",14),i()(),r(30,"div",10)(31,"label",11),a(32,"City"),i(),g(33,"input",17),i()(),r(34,"div",9)(35,"div",10)(36,"label",11),a(37,"Min Price ($)"),i(),g(38,"input",18),i(),r(39,"div",10)(40,"label",11),a(41,"Max Price ($)"),i(),g(42,"input",19),i(),r(43,"div",10)(44,"label",11),a(45,"Sort By"),i(),r(46,"select",20)(47,"option",13),a(48,"No Sorting"),i(),_(49,Bs,2,2,"option",14),i()(),r(50,"div",10)(51,"label",11),a(52,"Sort Order"),i(),r(53,"select",21)(54,"option",13),a(55,"Default"),i(),_(56,Ls,2,2,"option",14),i()()()(),_(57,Ws,65,4,"div",22),r(58,"div",23)(59,"div",24)(60,"div",25),_(61,$s,2,2,"span",26),i(),r(62,"div",27)(63,"button",28),b("click",function(){return n.onClearFilters()}),g(64,"i",29),a(65," Clear Filters "),i(),r(66,"button",30),_(67,Hs,1,0,"span",31)(68,Gs,1,0,"i",32),a(69),i()()()()()()),e&2&&(l(7),w("fa-chevron-down",!n.showAdvancedFilters)("fa-chevron-up",n.showAdvancedFilters),l(),C(" ",n.showAdvancedFilters?"Hide":"Show"," Advanced Filters "),l(),m("formGroup",n.searchForm),l(9),m("ngForOf",n.filterOptions.brands),l(11),m("ngForOf",n.filterOptions.types),l(20),m("ngForOf",n.sortOptions),l(7),m("ngForOf",n.sortOrderOptions),l(),m("ngIf",n.showAdvancedFilters),l(4),m("ngIf",n.hasActiveFilters()),l(2),m("disabled",!n.hasActiveFilters()),l(3),m("disabled",n.isLoading),l(),m("ngIf",n.isLoading),l(),m("ngIf",!n.isLoading),l(),C(" ",n.isLoading?"Searching...":"Search Cars"," "))},dependencies:[L,J,B,ae,de,Xe,Je,Me,yt,at,Qe,le,ce,an,on,Pe,ye],styles:[`.advanced-search-container[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 4px 20px #0000001a;border:1px solid #e9ecef;margin-bottom:2rem}.search-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;margin-bottom:1.5rem;padding-bottom:1rem;border-bottom:2px solid #f8f9fa}.search-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{color:#495057;margin:0;font-weight:600}.search-header[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff}.search-header[_ngcontent-%COMP%]   .filter-toggle[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:500;transition:all .3s ease}.search-header[_ngcontent-%COMP%]   .filter-toggle[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #007bff33}.search-form[_ngcontent-%COMP%]   .basic-filters[_ngcontent-%COMP%]{margin-bottom:1.5rem}.search-form[_ngcontent-%COMP%]   .advanced-filters[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:8px;padding:1.5rem;margin-bottom:1.5rem;border:1px solid #e9ecef}.search-form[_ngcontent-%COMP%]   .advanced-filters[_ngcontent-%COMP%]   .advanced-filters-header[_ngcontent-%COMP%]{margin-bottom:1rem}.search-form[_ngcontent-%COMP%]   .advanced-filters[_ngcontent-%COMP%]   .advanced-filters-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;margin:0}.search-form[_ngcontent-%COMP%]   .advanced-filters[_ngcontent-%COMP%]   .advanced-filters-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6c757d}.search-form[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{color:#495057;font-weight:600;margin-bottom:.5rem}.search-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .search-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:8px;transition:all .3s ease}.search-form[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .search-form[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40}.search-form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#007bff;border-color:#007bff}.search-form[_ngcontent-%COMP%]   .form-check[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{color:#495057;font-weight:500}.form-actions[_ngcontent-%COMP%]{padding-top:1.5rem;border-top:1px solid #e9ecef}.form-actions[_ngcontent-%COMP%]   .filter-info[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem .75rem;border-radius:20px}.form-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:600;padding:.5rem 1rem;transition:all .3s ease}.form-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.form-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{transform:none;box-shadow:none}.form-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);border:none}.form-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#0056b3,#004085)}.form-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{border:2px solid #6c757d;color:#6c757d}.form-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#6c757d;border-color:#6c757d;color:#fff}.advanced-filters[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-10px)}to{opacity:1;transform:translateY(0)}}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}@media (max-width: 768px){.advanced-search-container[_ngcontent-%COMP%]{padding:1rem}.search-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.form-actions[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start!important}.form-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{width:100%}.form-actions[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%;margin-bottom:.5rem}.advanced-filters[_ngcontent-%COMP%]{padding:1rem}}@media (max-width: 576px){.advanced-search-container[_ngcontent-%COMP%]{padding:.75rem}.search-form[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{margin:0}.search-form[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]{padding:0 .25rem;margin-bottom:1rem}}.form-control[_ngcontent-%COMP%]:focus, .form-select[_ngcontent-%COMP%]:focus{outline:none}.form-select[_ngcontent-%COMP%]{background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m1 6 7 7 7-7'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px}.form-control[_ngcontent-%COMP%]:hover, .form-select[_ngcontent-%COMP%]:hover{border-color:#007bff}.form-control[_ngcontent-%COMP%]:disabled, .form-select[_ngcontent-%COMP%]:disabled{background-color:#e9ecef;opacity:.65}`]})};var mt=class o{constructor(t){this.http=t}apiUrl=X.apiUrl+"/favorites";addToFavorites(t){return this.http.post(`${this.apiUrl}/cars/${t}`,{})}removeFromFavorites(t){return this.http.delete(`${this.apiUrl}/cars/${t}`)}toggleFavorite(t){return this.http.post(`${this.apiUrl}/cars/${t}/toggle`,{})}getUserFavorites(){return this.http.get(this.apiUrl)}getUserFavoriteCars(){return this.http.get(`${this.apiUrl}/cars`)}isCarFavorited(t){return this.http.get(`${this.apiUrl}/cars/${t}/check`)}getFavoriteCount(){return this.http.get(`${this.apiUrl}/count`)}static \u0275fac=function(e){return new(e||o)(j(Z))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};function Ys(o,t){if(o&1&&(r(0,"span",2),a(1),i()),o&2){let e=p();l(),v(e.getButtonText())}}var Rt=class o{constructor(t){this.favoriteService=t}carId;size="md";showText=!1;favoriteToggled=new De;isFavorited=!1;isLoading=!1;ngOnInit(){this.checkFavoriteStatus()}checkFavoriteStatus(){this.favoriteService.isCarFavorited(this.carId).subscribe({next:t=>{this.isFavorited=t},error:t=>{console.error("Error checking favorite status:",t)}})}toggleFavorite(t){t.preventDefault(),t.stopPropagation(),!this.isLoading&&(this.isLoading=!0,this.favoriteService.toggleFavorite(this.carId).subscribe({next:e=>{this.isFavorited=e.favorite!==void 0,this.favoriteToggled.emit(this.isFavorited),this.isLoading=!1},error:e=>{console.error("Error toggling favorite:",e),this.isLoading=!1}}))}getButtonClass(){let t="favorite-btn",e=`favorite-btn-${this.size}`,n=this.isFavorited?"favorited":"not-favorited",s=this.isLoading?"loading":"";return`${t} ${e} ${n} ${s}`.trim()}getIconClass(){return this.isLoading?"fas fa-spinner fa-spin":this.isFavorited?"fas fa-heart":"far fa-heart"}getButtonText(){return this.isLoading?"Loading...":this.isFavorited?"Remove from Favorites":"Add to Favorites"}static \u0275fac=function(e){return new(e||o)(P(mt))};static \u0275cmp=A({type:o,selectors:[["app-favorite-button"]],inputs:{carId:"carId",size:"size",showText:"showText"},outputs:{favoriteToggled:"favoriteToggled"},decls:3,vars:7,consts:[["type","button",3,"click","disabled","title"],["class","favorite-text",4,"ngIf"],[1,"favorite-text"]],template:function(e,n){e&1&&(r(0,"button",0),b("click",function(c){return n.toggleFavorite(c)}),g(1,"i"),_(2,Ys,2,1,"span",1),i()),e&2&&($(n.getButtonClass()),m("disabled",n.isLoading)("title",n.getButtonText()),l(),$(n.getIconClass()),l(),m("ngIf",n.showText))},dependencies:[L,B],styles:[".favorite-btn[_ngcontent-%COMP%]{display:inline-flex;align-items:center;justify-content:center;gap:.5rem;border:none;border-radius:50%;cursor:pointer;transition:all .3s ease;background:transparent;position:relative;overflow:hidden}.favorite-btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.favorite-btn[_ngcontent-%COMP%]:disabled{cursor:not-allowed;opacity:.6}.favorite-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{transition:all .3s ease}.favorite-btn[_ngcontent-%COMP%]   .favorite-text[_ngcontent-%COMP%]{font-size:.875rem;font-weight:500;white-space:nowrap}.favorite-btn.favorite-btn-sm[_ngcontent-%COMP%]{width:32px;height:32px;font-size:.875rem}.favorite-btn.favorite-btn-sm[_ngcontent-%COMP%]   .favorite-text[_ngcontent-%COMP%]{font-size:.75rem}.favorite-btn.favorite-btn-md[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1rem}.favorite-btn.favorite-btn-md[_ngcontent-%COMP%]   .favorite-text[_ngcontent-%COMP%]{font-size:.875rem}.favorite-btn.favorite-btn-lg[_ngcontent-%COMP%]{width:48px;height:48px;font-size:1.25rem}.favorite-btn.favorite-btn-lg[_ngcontent-%COMP%]   .favorite-text[_ngcontent-%COMP%]{font-size:1rem}.favorite-btn.not-favorited[_ngcontent-%COMP%]{color:#6c757d;border:2px solid #e9ecef}.favorite-btn.not-favorited[_ngcontent-%COMP%]:hover{color:#dc3545;border-color:#dc3545;background-color:#dc35451a}.favorite-btn.not-favorited[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6c757d}.favorite-btn.favorited[_ngcontent-%COMP%]{color:#dc3545;border:2px solid #dc3545;background-color:#dc35451a}.favorite-btn.favorited[_ngcontent-%COMP%]:hover{background-color:#dc354533;box-shadow:0 4px 12px #dc35454d}.favorite-btn.favorited[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#dc3545;animation:_ngcontent-%COMP%_heartBeat .3s ease-in-out}.favorite-btn.loading[_ngcontent-%COMP%]{cursor:wait}.favorite-btn.loading[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6c757d}@keyframes _ngcontent-%COMP%_heartBeat{0%{transform:scale(1)}50%{transform:scale(1.2)}to{transform:scale(1)}}@media (max-width: 768px){.favorite-btn.favorite-btn-lg[_ngcontent-%COMP%]{width:40px;height:40px;font-size:1rem}.favorite-btn[_ngcontent-%COMP%]   .favorite-text[_ngcontent-%COMP%]{display:none}}.favorite-btn[_ngcontent-%COMP%]:focus{outline:none;box-shadow:0 0 0 3px #dc354540}.favorite-btn[_ngcontent-%COMP%]:active{transform:scale(.95)}"]})};var Le=class o{constructor(t){this.http=t}apiUrl=X.apiUrl+"/bookings";createBooking(t){return console.log("Creating booking with data:",t),this.http.post(this.apiUrl,t)}getUserBookings(){return this.http.get(`${this.apiUrl}/user`)}getBookingById(t){return this.http.get(`${this.apiUrl}/${t}`)}getAllBookings(){return this.http.get(this.apiUrl)}updateBooking(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}updateStatus(t,e){return this.http.put(`${this.apiUrl}/${t}/status`,{status:e})}activate(t){return this.http.put(`${this.apiUrl}/${t}/activate`,{})}complete(t){return this.http.put(`${this.apiUrl}/${t}/complete`,{})}cancelAsManager(t){return this.http.put(`${this.apiUrl}/${t}/cancel`,{})}cancelBooking(t){return this.http.delete(`${this.apiUrl}/${t}`)}getBranchBookings(t){return this.http.get(`${this.apiUrl}/branch/${t}`)}checkAvailability(t,e,n){return this.http.get(`${this.apiUrl}/availability/${t}`,{params:{startDate:e,endDate:n}})}static \u0275fac=function(e){return new(e||o)(j(Z))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var Ve=class o{backendUrl=X.baseUrl;constructor(){}getCarImageUrl(t){if(t.images&&t.images.length>0){let e=t.images.find(s=>s.isPrimary);if(e)return this.getImageUrl(e.filePath);let n=t.images[0];return this.getImageUrl(n.filePath)}return this.getPlaceholderImage(t.brand||t.carBrand)}getCarImageByType(t,e){if(t.images&&t.images.length>0){let n=t.images.find(s=>s.imageType===e);if(n)return this.getImageUrl(n.filePath)}return this.getPlaceholderImage(t.brand||t.carBrand)}getGalleryImages(t){return t.images&&t.images.length>0?t.images.filter(e=>e.imageType==="GALLERY").map(e=>this.getImageUrl(e.filePath)):[]}getImageUrl(t){if(t.startsWith("http"))return t;let e=t.split("/").pop();if(!e)return this.getPlaceholderImage("Car");let n=`${this.backendUrl}${t}`,s=`${this.backendUrl}/api/images/${e}`;return n}getPlaceholderImage(t){return{Toyota:"https://via.placeholder.com/300x200/4CAF50/white?text=Toyota",Honda:"https://via.placeholder.com/300x200/2196F3/white?text=Honda",BMW:"https://via.placeholder.com/300x200/9C27B0/white?text=BMW",Mercedes:"https://via.placeholder.com/300x200/FF9800/white?text=Mercedes",Audi:"https://via.placeholder.com/300x200/F44336/white?text=Audi",Ford:"https://via.placeholder.com/300x200/607D8B/white?text=Ford",Chevrolet:"https://via.placeholder.com/300x200/795548/white?text=Chevrolet",Nissan:"https://via.placeholder.com/300x200/E91E63/white?text=Nissan"}[t]||"https://via.placeholder.com/300x200/757575/white?text=Car"}static \u0275fac=function(e){return new(e||o)};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var po=o=>["/cars",o],qs=(o,t,e)=>({"alert-success":o,"alert-danger":t,"alert-info":e}),Ks=(o,t,e)=>({"fa-check-circle":o,"fa-times-circle":t,"fa-clock":e});function Qs(o,t){if(o&1&&(r(0,"option",51),a(1),i()),o&2){let e=t.$implicit;m("value",e),l(),v(e)}}function Xs(o,t){if(o&1&&(r(0,"option",51),a(1),i()),o&2){let e=t.$implicit;m("value",e),l(),v(e)}}function Js(o,t){if(o&1&&(r(0,"option",51),a(1),i()),o&2){let e=t.$implicit;m("value",e),l(),v(e)}}function Zs(o,t){o&1&&g(0,"span",52)}function el(o,t){o&1&&g(0,"i",53)}function tl(o,t){o&1&&(r(0,"div",54),g(1,"div",55),r(2,"p",56),a(3,"Loading cars..."),i()())}function nl(o,t){o&1&&(r(0,"div",57)(1,"div",58),g(2,"i",59),i(),r(3,"h4",60),a(4,"No cars found"),i(),r(5,"p",61),a(6,"Try adjusting your search filters"),i()())}function il(o,t){o&1&&(r(0,"span",86),a(1,"Available"),i())}function rl(o,t){o&1&&(r(0,"span",87),a(1,"Unavailable"),i())}function ol(o,t){if(o&1&&(r(0,"div",88),g(1,"app-star-rating",89),i()),o&2){let e=p().$implicit;l(),m("rating",e.averageRating)("readonly",!0)("showValue",!0)("showCount",!0)("ratingCount",e.ratingCount||0)}}function al(o,t){if(o&1){let e=y();r(0,"div",64)(1,"div",65)(2,"div",66),g(3,"img",67),r(4,"div",68),_(5,il,2,0,"span",69)(6,rl,2,0,"span",70),i(),r(7,"div",71),g(8,"app-favorite-button",72),i()(),r(9,"div",73)(10,"h5",74)(11,"a",75),a(12),i()(),r(13,"p",76),g(14,"i",77),a(15),g(16,"i",16),a(17),i(),r(18,"p",78),g(19,"i",22),a(20),i(),_(21,ol,2,5,"div",79),r(22,"div",80)(23,"div",81)(24,"span",82),a(25),i(),r(26,"span",83),a(27,"/day"),i()(),r(28,"button",84),b("click",function(){let s=u(e).$implicit,c=p(2);return h(c.bookCar(s))}),g(29,"i",85),a(30),i()()()()()}if(o&2){let e=t.$implicit,n=t.index,s=p(2);ge("animation-delay",n*.1+"s"),l(3),m("src",s.getCarImage(e),ne)("alt",e.brand+" "+e.model),l(2),m("ngIf",e.availability),l(),m("ngIf",!e.availability),l(2),m("carId",e.id),l(3),m("routerLink",Ae(18,po,e.id)),l(),F(" ",e.brand," ",e.model," "),l(3),C("",e.year," \u2022 "),l(2),C("",e.type," "),l(3),F("",e.branchName,", ",e.branchCity," "),l(),m("ngIf",e.averageRating),l(4),C("$",e.price,""),l(3),m("disabled",!e.availability),l(2),C(" ",e.availability?"Book Now":"Unavailable"," ")}}function sl(o,t){if(o&1&&(r(0,"div",62),_(1,al,31,20,"div",63),i()),o&2){let e=p();l(),m("ngForOf",e.cars)}}function ll(o,t){if(o&1&&(r(0,"div",107),g(1,"app-star-rating",89),i()),o&2){let e=p().$implicit;l(),m("rating",e.averageRating)("readonly",!0)("showValue",!0)("showCount",!0)("ratingCount",e.ratingCount||0)}}function cl(o,t){o&1&&(r(0,"span",86),a(1,"Available"),i())}function dl(o,t){o&1&&(r(0,"span",87),a(1,"Unavailable"),i())}function ml(o,t){if(o&1){let e=y();r(0,"div",92)(1,"div",93)(2,"div",94)(3,"div",95),g(4,"img",96),i(),r(5,"div",97)(6,"h5",98)(7,"a",75),a(8),i()(),r(9,"p",99),g(10,"i",77),a(11),g(12,"i",16),a(13),i(),r(14,"p",100),g(15,"i",22),a(16),i(),_(17,ll,2,5,"div",101),i(),r(18,"div",102)(19,"div",103)(20,"span",82),a(21),i(),r(22,"span",83),a(23,"/day"),i()()(),r(24,"div",104)(25,"div",105),g(26,"app-favorite-button",72),_(27,cl,2,0,"span",69)(28,dl,2,0,"span",70),r(29,"button",106),b("click",function(){let s=u(e).$implicit,c=p(2);return h(c.bookCar(s))}),g(30,"i",85),a(31,"Book "),i()()()()()()}if(o&2){let e=t.$implicit,n=t.index,s=p(2);ge("animation-delay",n*.05+"s"),l(4),m("src",s.getCarImage(e),ne)("alt",e.brand+" "+e.model),l(3),m("routerLink",Ae(17,po,e.id)),l(),F(" ",e.brand," ",e.model," "),l(3),C("",e.year," \u2022 "),l(2),C("",e.type," "),l(3),F("",e.branchName,", ",e.branchCity," "),l(),m("ngIf",e.averageRating),l(4),C("$",e.price,""),l(5),m("carId",e.id),l(),m("ngIf",e.availability),l(),m("ngIf",!e.availability),l(),m("disabled",!e.availability)}}function gl(o,t){if(o&1&&(r(0,"div",90),_(1,ml,32,19,"div",91),i()),o&2){let e=p();l(),m("ngForOf",e.cars)}}function pl(o,t){o&1&&g(0,"div",52)}function fl(o,t){o&1&&(r(0,"span"),a(1,"\u2713 Available for selected dates"),i())}function ul(o,t){o&1&&(r(0,"span"),a(1,"\u2717 Not available for selected dates"),i())}function hl(o,t){o&1&&(r(0,"span"),a(1,"Checking availability..."),i())}function _l(o,t){if(o&1&&(r(0,"div",128)(1,"div",129)(2,"div",130),_(3,pl,1,0,"div",33),g(4,"i",131),_(5,fl,2,0,"span",132)(6,ul,2,0,"span",132)(7,hl,2,0,"span",132),i()()()),o&2){let e=p(2);l(),m("ngClass",ni(6,qs,e.availabilityStatus==="available",e.availabilityStatus==="unavailable",e.availabilityStatus==="checking")),l(2),m("ngIf",e.availabilityStatus==="checking"),l(),m("ngClass",ni(10,Ks,e.availabilityStatus==="available",e.availabilityStatus==="unavailable",e.availabilityStatus==="checking")),l(),m("ngIf",e.availabilityStatus==="available"),l(),m("ngIf",e.availabilityStatus==="unavailable"),l(),m("ngIf",e.availabilityStatus==="checking")}}function bl(o,t){if(o&1&&(r(0,"div",121)(1,"span"),a(2,"Duration:"),i(),r(3,"span"),a(4),i()()),o&2){let e=p(2);l(4),C("",e.bookingDays," day(s)")}}function vl(o,t){o&1&&g(0,"span",52)}function Cl(o,t){o&1&&g(0,"i",133)}function xl(o,t){if(o&1){let e=y();r(0,"div",108)(1,"div",109)(2,"div",110)(3,"div",111)(4,"h5",112),g(5,"i",85),a(6),i(),g(7,"button",113),i(),r(8,"div",114)(9,"form",12),b("ngSubmit",function(){u(e);let s=p();return h(s.submitBooking())}),r(10,"div",115)(11,"div",97)(12,"label",15),a(13,"Start Date"),i(),g(14,"input",116),i(),r(15,"div",97)(16,"label",15),a(17,"End Date"),i(),g(18,"input",117),i()(),_(19,_l,8,14,"div",118),r(20,"div",119)(21,"h6",120),a(22,"Booking Summary"),i(),r(23,"div",121)(24,"span"),a(25,"Daily Rate:"),i(),r(26,"span"),a(27),i()(),_(28,bl,5,1,"div",122),g(29,"hr"),r(30,"div",123)(31,"span"),a(32,"Total:"),i(),r(33,"span"),a(34),i()()()()(),r(35,"div",124)(36,"button",125),a(37,"Cancel"),i(),r(38,"button",126),b("click",function(){u(e);let s=p();return h(s.submitBooking())}),_(39,vl,1,0,"span",33)(40,Cl,1,0,"i",127),a(41),i()()()()()}if(o&2){let e=p();l(6),F(" Book ",e.selectedCar.brand," ",e.selectedCar.model," "),l(3),m("formGroup",e.bookingForm),l(5),m("min",e.minDate),l(4),m("min",e.minDate),l(),m("ngIf",e.availabilityStatus),l(8),C("$",e.selectedCar.price,""),l(),m("ngIf",e.bookingDays>0),l(6),C("$",e.totalPrice,""),l(4),m("disabled",e.bookingForm.invalid||e.isBooking||e.availabilityStatus==="unavailable"),l(),m("ngIf",e.isBooking),l(),m("ngIf",!e.isBooking),l(),C(" ",e.isBooking?"Booking...":"Confirm Booking"," ")}}var Fn=class o{constructor(t,e,n,s,c,d){this.fb=t;this.carService=e;this.bookingService=n;this.authService=s;this.imageService=c;this.router=d}searchForm;bookingForm;cars=[];selectedCar=null;isLoading=!1;isBooking=!1;isCheckingAvailability=!1;availabilityStatus=null;viewMode="grid";minDate=new Date().toISOString().split("T")[0];carBrands=["Toyota","Honda","BMW","Mercedes","Audi","Ford","Chevrolet","Nissan"];carTypes=["Sedan","SUV","Hatchback","Convertible","Truck","Coupe"];cities=["New York","Los Angeles","Chicago","Houston","Phoenix","Philadelphia"];ngOnInit(){this.initializeForms(),this.searchCars()}initializeForms(){this.searchForm=this.fb.group({brand:[""],type:[""],city:[""],maxPrice:[""]}),this.bookingForm=this.fb.group({startDate:["",[q.required]],endDate:["",[q.required]]}),this.bookingForm.valueChanges.subscribe(()=>{this.checkAvailabilityOnDateChange()})}searchCars(){this.isLoading=!0;let t=this.searchForm.value;Object.keys(t).forEach(e=>{t[e]===""&&(t[e]=null)}),this.carService.searchCars(t).subscribe({next:e=>{this.cars=e,this.isLoading=!1},error:e=>{console.error("Error searching cars:",e),this.isLoading=!1}})}onAdvancedSearch(t){this.isLoading=!0,this.carService.advancedSearch(t).subscribe({next:e=>{this.cars=e,this.isLoading=!1},error:e=>{console.error("Error in advanced search:",e),this.isLoading=!1}})}clearFilters(){this.searchForm.reset(),this.searchCars()}setViewMode(t){this.viewMode=t}bookCar(t){if(!this.authService.isLoggedIn()){this.router.navigate(["/login"]);return}this.selectedCar=t,this.bookingForm.reset(),this.availabilityStatus=null;let e=document.getElementById("bookingModal");e&&new window.bootstrap.Modal(e).show()}submitBooking(){if(!this.selectedCar||!this.bookingForm.valid){console.log("Form validation failed:",this.bookingForm.errors);return}let t=this.bookingForm.value.startDate,e=this.bookingForm.value.endDate;if(new Date(e)<=new Date(t)){alert("End date must be after start date");return}this.isBooking=!0;let n={carId:this.selectedCar.id,startDate:this.bookingForm.value.startDate,endDate:this.bookingForm.value.endDate};this.checkAvailabilityAndBook(n)}checkAvailabilityAndBook(t){this.bookingService.checkAvailability(t.carId,t.startDate,t.endDate).subscribe({next:e=>{e.isAvailable?this.createBooking(t):(this.showAvailabilityConflict(e),this.isBooking=!1)},error:e=>{console.error("Error checking availability:",e),this.isBooking=!1,alert("Error checking availability. Please try again.")}})}createBooking(t){this.bookingService.createBooking(t).subscribe({next:e=>{this.isBooking=!1;let n=document.getElementById("bookingModal");n&&window.bootstrap.Modal.getInstance(n).hide(),alert("Booking created successfully!"),this.router.navigate(["/bookings"])},error:e=>{this.isBooking=!1,console.error("Booking error:",e),e.status===409?alert("This car is not available for the selected dates. Please choose different dates."):alert("Failed to create booking. Please try again.")}})}showAvailabilityConflict(t){let e=`This car is not available for the selected dates.

Conflicting bookings:
`+t.conflictingBookings.map(n=>`- ${n.startDate} to ${n.endDate}`).join(`
`);alert(e)}checkAvailabilityOnDateChange(){let t=this.bookingForm.get("startDate")?.value,e=this.bookingForm.get("endDate")?.value;t&&e&&this.selectedCar?(this.isCheckingAvailability=!0,this.availabilityStatus="checking",this.bookingService.checkAvailability(this.selectedCar.id,t,e).subscribe({next:n=>{this.isCheckingAvailability=!1,this.availabilityStatus=n.isAvailable?"available":"unavailable"},error:n=>{this.isCheckingAvailability=!1,this.availabilityStatus=null,console.error("Error checking availability:",n)}})):this.availabilityStatus=null}getCarImage(t){return this.imageService.getCarImageUrl(t)}get bookingDays(){let t=this.bookingForm.get("startDate")?.value,e=this.bookingForm.get("endDate")?.value;if(t&&e){let n=new Date(t),s=new Date(e),c=Math.abs(s.getTime()-n.getTime());return Math.ceil(c/(1e3*60*60*24))}return 0}get totalPrice(){return this.selectedCar&&this.bookingDays>0?this.selectedCar.price*this.bookingDays:0}static \u0275fac=function(e){return new(e||o)(P(he),P(_e),P(Le),P(ee),P(Ve),P(ue))};static \u0275cmp=A({type:o,selectors:[["app-car-search"]],decls:84,vars:18,consts:[[1,"car-search-container"],[1,"container","py-4"],[1,"search-header","text-center","mb-5","fade-in"],[1,"display-5","fw-bold","text-white","mb-3"],[1,"lead","text-white-50"],[3,"searchResults"],[1,"search-filters","card","mb-4","slide-up"],[1,"card-body","p-4"],[1,"d-flex","justify-content-between","align-items-center","mb-3"],[1,"mb-0"],[1,"fas","fa-filter","me-2"],[1,"text-muted"],[3,"ngSubmit","formGroup"],[1,"row","g-3"],[1,"col-md-3"],[1,"form-label","fw-semibold"],[1,"fas","fa-car","me-2"],["formControlName","brand",1,"form-select"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"fas","fa-cogs","me-2"],["formControlName","type",1,"form-select"],[1,"fas","fa-map-marker-alt","me-2"],["formControlName","city",1,"form-select"],[1,"fas","fa-dollar-sign","me-2"],["formControlName","maxPrice",1,"form-select"],["value","50"],["value","100"],["value","200"],["value","500"],[1,"row","mt-3"],[1,"col-12","text-center"],["type","submit",1,"btn","btn-primary","btn-lg","me-3",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","fas fa-search me-2",4,"ngIf"],["type","button",1,"btn","btn-outline-secondary","btn-lg",3,"click"],[1,"fas","fa-times","me-2"],[1,"search-results"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"text-white","mb-0"],[1,"badge","bg-primary","ms-2"],[1,"view-toggle"],["role","group",1,"btn-group"],["type","button",1,"btn","btn-outline-light",3,"click"],[1,"fas","fa-th"],[1,"fas","fa-list"],["class","text-center py-5",4,"ngIf"],["class","no-results text-center py-5",4,"ngIf"],["class","row g-4",4,"ngIf"],["class","list-view",4,"ngIf"],["class","modal fade","id","bookingModal","tabindex","-1",4,"ngIf"],[3,"value"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fas","fa-search","me-2"],[1,"text-center","py-5"],[1,"spinner"],[1,"text-white","mt-3"],[1,"no-results","text-center","py-5"],[1,"no-results-icon","mb-3"],[1,"fas","fa-car-crash","fa-4x","text-white-50"],[1,"text-white"],[1,"text-white-50"],[1,"row","g-4"],["class","col-lg-4 col-md-6",3,"animation-delay",4,"ngFor","ngForOf"],[1,"col-lg-4","col-md-6"],[1,"car-card","card","h-100","bounce-in"],[1,"car-image"],[1,"card-img-top",3,"src","alt"],[1,"car-badge"],["class","badge bg-success",4,"ngIf"],["class","badge bg-danger",4,"ngIf"],[1,"favorite-overlay"],["size","sm",3,"carId"],[1,"card-body","d-flex","flex-column"],[1,"card-title","fw-bold"],[1,"text-decoration-none","text-dark",3,"routerLink"],[1,"card-text","text-muted","mb-2"],[1,"fas","fa-calendar","me-2"],[1,"card-text","text-muted","mb-3"],["class","rating-section mb-3",4,"ngIf"],[1,"mt-auto"],[1,"price-section","mb-3"],[1,"price-amount"],[1,"price-period"],[1,"btn","btn-primary","w-100",3,"click","disabled"],[1,"fas","fa-calendar-plus","me-2"],[1,"badge","bg-success"],[1,"badge","bg-danger"],[1,"rating-section","mb-3"],["size","sm",3,"rating","readonly","showValue","showCount","ratingCount"],[1,"list-view"],["class","car-list-item card mb-3 slide-up",3,"animation-delay",4,"ngFor","ngForOf"],[1,"car-list-item","card","mb-3","slide-up"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-md-2"],[1,"car-list-image",3,"src","alt"],[1,"col-md-6"],[1,"fw-bold","mb-1"],[1,"text-muted","mb-1"],[1,"text-muted","mb-0"],["class","rating-section mt-2",4,"ngIf"],[1,"col-md-2","text-center"],[1,"price-section"],[1,"col-md-2","text-end"],[1,"d-flex","flex-column","align-items-end","gap-2"],[1,"btn","btn-primary",3,"click","disabled"],[1,"rating-section","mt-2"],["id","bookingModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"row","mb-3"],["type","date","formControlName","startDate",1,"form-control",3,"min"],["type","date","formControlName","endDate",1,"form-control",3,"min"],["class","availability-status mb-3",4,"ngIf"],[1,"booking-summary","p-3","bg-light","rounded"],[1,"fw-bold","mb-2"],[1,"d-flex","justify-content-between"],["class","d-flex justify-content-between",4,"ngIf"],[1,"d-flex","justify-content-between","fw-bold"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary",3,"click","disabled"],["class","fas fa-check me-2",4,"ngIf"],[1,"availability-status","mb-3"],[1,"alert",3,"ngClass"],[1,"d-flex","align-items-center"],[1,"fas","me-2",3,"ngClass"],[4,"ngIf"],[1,"fas","fa-check","me-2"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"Discover Your Perfect Ride"),i(),r(5,"p",4),a(6,"Explore WheelDeal's curated collection of premium vehicles"),i()(),r(7,"app-advanced-search",5),b("searchResults",function(c){return n.onAdvancedSearch(c)}),i(),r(8,"div",6)(9,"div",7)(10,"div",8)(11,"h5",9),g(12,"i",10),a(13," Quick Search "),i(),r(14,"small",11),a(15,"Use advanced search above for more options"),i()(),r(16,"form",12),b("ngSubmit",function(){return n.searchCars()}),r(17,"div",13)(18,"div",14)(19,"label",15),g(20,"i",16),a(21,"Brand "),i(),r(22,"select",17)(23,"option",18),a(24,"All Brands"),i(),_(25,Qs,2,2,"option",19),i()(),r(26,"div",14)(27,"label",15),g(28,"i",20),a(29,"Type "),i(),r(30,"select",21)(31,"option",18),a(32,"All Types"),i(),_(33,Xs,2,2,"option",19),i()(),r(34,"div",14)(35,"label",15),g(36,"i",22),a(37,"City "),i(),r(38,"select",23)(39,"option",18),a(40,"All Cities"),i(),_(41,Js,2,2,"option",19),i()(),r(42,"div",14)(43,"label",15),g(44,"i",24),a(45,"Max Price "),i(),r(46,"select",25)(47,"option",18),a(48,"Any Price"),i(),r(49,"option",26),a(50,"Under $50"),i(),r(51,"option",27),a(52,"Under $100"),i(),r(53,"option",28),a(54,"Under $200"),i(),r(55,"option",29),a(56,"Under $500"),i()()()(),r(57,"div",30)(58,"div",31)(59,"button",32),_(60,Zs,1,0,"span",33)(61,el,1,0,"i",34),a(62),i(),r(63,"button",35),b("click",function(){return n.clearFilters()}),g(64,"i",36),a(65,"Clear Filters "),i()()()()()(),r(66,"div",37)(67,"div",38)(68,"h3",39),g(69,"i",16),a(70," Premium Vehicles "),r(71,"span",40),a(72),i()(),r(73,"div",41)(74,"div",42)(75,"button",43),b("click",function(){return n.setViewMode("grid")}),g(76,"i",44),i(),r(77,"button",43),b("click",function(){return n.setViewMode("list")}),g(78,"i",45),i()()()(),_(79,tl,4,0,"div",46)(80,nl,7,0,"div",47)(81,sl,2,1,"div",48)(82,gl,2,1,"div",49),i()()(),_(83,xl,42,13,"div",50)),e&2&&(l(16),m("formGroup",n.searchForm),l(9),m("ngForOf",n.carBrands),l(8),m("ngForOf",n.carTypes),l(8),m("ngForOf",n.cities),l(18),m("disabled",n.isLoading),l(),m("ngIf",n.isLoading),l(),m("ngIf",!n.isLoading),l(),C(" ",n.isLoading?"Searching...":"Quick Search"," "),l(10),v(n.cars.length),l(3),w("active",n.viewMode==="grid"),l(2),w("active",n.viewMode==="list"),l(2),m("ngIf",n.isLoading),l(),m("ngIf",!n.isLoading&&n.cars.length===0),l(),m("ngIf",!n.isLoading&&n.cars.length>0&&n.viewMode==="grid"),l(),m("ngIf",!n.isLoading&&n.cars.length>0&&n.viewMode==="list"),l(),m("ngIf",n.selectedCar))},dependencies:[L,Ce,J,B,se,xe,ae,de,Xe,Je,Me,Qe,le,ce,Pe,ye,Be,Tn,Rt],styles:[`.car-search-container[_ngcontent-%COMP%]{min-height:100vh;background:linear-gradient(135deg,#bfdaa4,#a8c88a);background-attachment:fixed;position:relative;overflow:hidden}.car-search-container[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');opacity:.3}.search-header[_ngcontent-%COMP%]{padding:2rem 0}.search-filters[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);background:#fffffff2;border:1px solid rgba(255,255,255,.3);border-radius:24px;box-shadow:0 20px 40px #0000001a;transition:all .3s ease}.search-filters[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 25px 50px #00000026}.form-select[_ngcontent-%COMP%], .form-control[_ngcontent-%COMP%]{border-radius:12px;border:2px solid rgba(191,218,164,.2);transition:all .3s ease;background:#ffffffe6;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.form-select[_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:focus{border-color:#bfdaa4;box-shadow:0 0 0 3px #bfdaa41a;transform:translateY(-2px);background:#fff}.view-toggle[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:.5rem;transition:all .3s ease}.view-toggle[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background-color:#fff3;border-color:#ffffff4d}.car-card[_ngcontent-%COMP%]{border:none;border-radius:20px;overflow:hidden;transition:all .4s cubic-bezier(.4,0,.2,1);-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);background:#fffffff2;position:relative}.car-card[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:0;right:0;height:4px;background:linear-gradient(135deg,#bfdaa4,#8fb370);transform:scaleX(0);transition:transform .3s ease}.car-card[_ngcontent-%COMP%]:hover{transform:translateY(-12px) scale(1.03);box-shadow:0 25px 50px #0003}.car-card[_ngcontent-%COMP%]:hover:before{transform:scaleX(1)}.car-image[_ngcontent-%COMP%]{position:relative;overflow:hidden}.car-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;transition:transform .3s ease}.car-card[_ngcontent-%COMP%]:hover   .car-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.1)}.car-badge[_ngcontent-%COMP%]{position:absolute;top:1rem;right:1rem;z-index:2}.favorite-overlay[_ngcontent-%COMP%]{position:absolute;top:1rem;left:1rem;z-index:10}.price-section[_ngcontent-%COMP%]{text-align:center}.price-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#667eea}.price-period[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem}.car-list-item[_ngcontent-%COMP%]{-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fffffff2;border:none;transition:all .3s ease}.car-list-item[_ngcontent-%COMP%]:hover{transform:translate(10px);box-shadow:0 10px 30px #0000001a}.car-list-image[_ngcontent-%COMP%]{width:100%;height:80px;object-fit:cover;border-radius:.5rem}.no-results[_ngcontent-%COMP%]{padding:4rem 0}.no-results-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(255,255,255,.3);border-top:5px solid #fff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.7}to{transform:scale(1);opacity:1}}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:1rem;box-shadow:0 20px 40px #00000026}.modal-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-bottom:none;border-radius:1rem 1rem 0 0}.btn-close[_ngcontent-%COMP%]{filter:invert(1)}.rating-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.rating-section[_ngcontent-%COMP%]   .rating-info[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d}.booking-summary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border:1px solid #dee2e6}@media (max-width: 768px){.search-header[_ngcontent-%COMP%]{padding:1rem 0}.search-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.car-card[_ngcontent-%COMP%]{margin-bottom:2rem}.view-toggle[_ngcontent-%COMP%]{margin-top:1rem}.car-list-item[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:1rem}.car-list-item[_ngcontent-%COMP%]   .col-md-2[_ngcontent-%COMP%]:last-child{text-align:center!important}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .6s ease-out}.bounce-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounceIn .8s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}to{opacity:1;transform:scale(1)}}.card-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:color .3s ease}.card-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#007bff!important}.btn[_ngcontent-%COMP%]{position:relative;overflow:hidden;transition:all .3s ease}.btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.btn[_ngcontent-%COMP%]:hover:before{left:100%}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.form-select[_ngcontent-%COMP%]:focus, .form-control[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #667eea40}.badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.car-card.loading[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}`]})};var Dt=class o{constructor(t){this.http=t}apiUrl=X.apiUrl+"/reviews";addOrUpdateReview(t,e,n){return this.http.post(`${this.apiUrl}/cars/${t}`,{carId:t,rating:e,comment:n})}getApprovedReviews(t){return this.http.get(`${this.apiUrl}/cars/${t}`)}getAllCarReviews(t){return this.http.get(`${this.apiUrl}/cars/${t}/all`)}getUserReview(t){return this.http.get(`${this.apiUrl}/cars/${t}/user`)}getPendingReviews(){return this.http.get(`${this.apiUrl}/pending`)}moderateReview(t,e,n){let s={status:e};return n&&(s.moderatorNotes=n),this.http.put(`${this.apiUrl}/${t}/moderate`,null,{params:s})}getAverageRating(t){return this.http.get(`${this.apiUrl}/cars/${t}/average`)}hasUserReviewed(t){return this.http.get(`${this.apiUrl}/cars/${t}/has-reviewed`)}deleteReview(t){return this.http.delete(`${this.apiUrl}/cars/${t}`)}static \u0275fac=function(e){return new(e||o)(j(Z))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};function Ml(o,t){if(o&1&&(r(0,"div",21),g(1,"i",22),a(2),i()),o&2){let e=p();l(2),C(" ",e.getRatingError()," ")}}function Pl(o,t){if(o&1&&(r(0,"div",21),g(1,"i",22),a(2),i()),o&2){let e=p();l(2),C(" ",e.getCommentError()," ")}}function yl(o,t){if(o&1&&(r(0,"div",23),g(1,"i",24),a(2),i()),o&2){let e=p();l(2),C(" ",e.error," ")}}function Ol(o,t){o&1&&g(0,"span",25)}function Sl(o,t){o&1&&g(0,"i",26)}var Rn=class o{constructor(t,e){this.fb=t;this.reviewService=e}carId;existingReview;reviewSubmitted=new De;reviewCancelled=new De;reviewForm;isSubmitting=!1;error=null;selectedRating=0;ngOnInit(){this.initForm(),this.existingReview&&this.loadExistingReview()}initForm(){this.reviewForm=this.fb.group({rating:[0,[q.required,q.min(1),q.max(5)]],comment:["",[q.required,q.minLength(10),q.maxLength(1e3)]]})}loadExistingReview(){this.existingReview&&(this.selectedRating=this.existingReview.rating,this.reviewForm.patchValue({rating:this.existingReview.rating,comment:this.existingReview.comment}))}onRatingChange(t){this.selectedRating=t,this.reviewForm.patchValue({rating:t})}onSubmit(){if(this.reviewForm.valid){this.isSubmitting=!0,this.error=null;let t=this.reviewForm.value;this.reviewService.addOrUpdateReview(this.carId,t.rating,t.comment).subscribe({next:e=>{this.isSubmitting=!1,this.reviewSubmitted.emit(e),this.reviewForm.reset(),this.selectedRating=0},error:e=>{this.isSubmitting=!1,this.error=e.error?.message||"Failed to submit review. Please try again."}})}else this.markFormGroupTouched()}onCancel(){this.reviewCancelled.emit()}markFormGroupTouched(){Object.keys(this.reviewForm.controls).forEach(t=>{this.reviewForm.get(t)?.markAsTouched()})}getRatingError(){let t=this.reviewForm.get("rating");if(t?.errors&&t.touched){if(t.errors.required)return"Please select a rating";if(t.errors.min||t.errors.max)return"Rating must be between 1 and 5"}return null}getCommentError(){let t=this.reviewForm.get("comment");if(t?.errors&&t.touched){if(t.errors.required)return"Please enter a comment";if(t.errors.minlength)return"Comment must be at least 10 characters long";if(t.errors.maxlength)return"Comment must not exceed 1000 characters"}return null}static \u0275fac=function(e){return new(e||o)(P(he),P(Dt))};static \u0275cmp=A({type:o,selectors:[["app-review-form"]],inputs:{carId:"carId",existingReview:"existingReview"},outputs:{reviewSubmitted:"reviewSubmitted",reviewCancelled:"reviewCancelled"},decls:32,vars:16,consts:[[1,"review-form"],[1,"form-header"],[1,"mb-3"],[1,"fas","fa-edit","me-2"],[3,"ngSubmit","formGroup"],[1,"form-group","mb-3"],[1,"form-label","fw-semibold"],[1,"rating-section"],["size","lg",3,"ratingChange","rating","readonly"],[1,"rating-labels"],[1,"text-muted"],["class","error-message",4,"ngIf"],["formControlName","comment","rows","4","placeholder","Share your experience with this car (minimum 10 characters)...",1,"form-control"],[1,"form-text"],["class","alert alert-danger",4,"ngIf"],[1,"form-actions"],["type","button",1,"btn","btn-outline-secondary","me-2",3,"click","disabled"],[1,"fas","fa-times","me-1"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","fas fa-paper-plane me-1",4,"ngIf"],[1,"error-message"],[1,"fas","fa-exclamation-circle","me-1"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fas","fa-paper-plane","me-1"]],template:function(e,n){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"h5",2),g(3,"i",3),a(4),i()(),r(5,"form",4),b("ngSubmit",function(){return n.onSubmit()}),r(6,"div",5)(7,"label",6),a(8,"Your Rating"),i(),r(9,"div",7)(10,"app-star-rating",8),b("ratingChange",function(c){return n.onRatingChange(c)}),i(),r(11,"div",9)(12,"small",10),a(13),i()()(),_(14,Ml,3,1,"div",11),i(),r(15,"div",5)(16,"label",6),a(17,"Your Review"),i(),g(18,"textarea",12),r(19,"div",13)(20,"small",10),a(21),i()(),_(22,Pl,3,1,"div",11),i(),_(23,yl,3,1,"div",14),r(24,"div",15)(25,"button",16),b("click",function(){return n.onCancel()}),g(26,"i",17),a(27," Cancel "),i(),r(28,"button",18),_(29,Ol,1,0,"span",19)(30,Sl,1,0,"i",20),a(31),i()()()()),e&2){let s;l(4),C(" ",n.existingReview?"Edit Your Review":"Write a Review"," "),l(),m("formGroup",n.reviewForm),l(5),m("rating",n.selectedRating)("readonly",!1),l(3),C(" ",n.selectedRating===0?"Select a rating":n.selectedRating===1?"Poor":n.selectedRating===2?"Fair":n.selectedRating===3?"Good":n.selectedRating===4?"Very Good":"Excellent"," "),l(),m("ngIf",n.getRatingError()),l(4),w("is-invalid",n.getCommentError()),l(3),C(" ",((s=n.reviewForm.get("comment"))==null||s.value==null?null:s.value.length)||0,"/1000 characters "),l(),m("ngIf",n.getCommentError()),l(),m("ngIf",n.error),l(2),m("disabled",n.isSubmitting),l(3),m("disabled",n.reviewForm.invalid||n.isSubmitting),l(),m("ngIf",n.isSubmitting),l(),m("ngIf",!n.isSubmitting),l(),C(" ",n.existingReview?"Update Review":"Submit Review"," ")}},dependencies:[L,B,ae,de,Me,le,ce,Pe,ye,Be],styles:[".review-form[_ngcontent-%COMP%]{background:#fff;border-radius:12px;padding:1.5rem;box-shadow:0 4px 20px #0000001a;border:1px solid #e9ecef}.form-header[_ngcontent-%COMP%]{border-bottom:2px solid #f8f9fa;padding-bottom:1rem;margin-bottom:1.5rem}.form-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#495057;margin:0;font-weight:600}.form-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff}.rating-section[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:flex-start;gap:.5rem;padding:1rem;background:#f8f9fa;border-radius:8px;border:1px solid #e9ecef}.rating-labels[_ngcontent-%COMP%]{margin-top:.25rem}.rating-labels[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-weight:500;color:#6c757d}.form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#495057;font-weight:600;margin-bottom:.5rem}.form-control[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:8px;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40}.form-control.is-invalid[_ngcontent-%COMP%]{border-color:#dc3545;box-shadow:0 0 0 .2rem #dc354540}textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.form-text[_ngcontent-%COMP%]{margin-top:.25rem}.form-text[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.75rem}.error-message[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem;margin-top:.25rem;display:flex;align-items:center}.error-message[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.alert[_ngcontent-%COMP%]{border-radius:8px;border:none}.alert.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;border-left:4px solid #dc3545}.form-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;margin-top:1.5rem;padding-top:1rem;border-top:1px solid #e9ecef}.btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:600;padding:.5rem 1rem;transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #00000026}.btn[_ngcontent-%COMP%]:disabled{transform:none;box-shadow:none}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);border:none}.btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){background:linear-gradient(135deg,#0056b3,#004085)}.btn-outline-secondary[_ngcontent-%COMP%]{border:2px solid #6c757d;color:#6c757d}.btn-outline-secondary[_ngcontent-%COMP%]:hover:not(:disabled){background-color:#6c757d;border-color:#6c757d;color:#fff}.review-form[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideInUp .3s ease-out}@keyframes _ngcontent-%COMP%_slideInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.review-form[_ngcontent-%COMP%]{padding:1rem}.form-actions[_ngcontent-%COMP%]{flex-direction:column}.form-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.rating-section[_ngcontent-%COMP%]{padding:.75rem}}.spinner-border-sm[_ngcontent-%COMP%]{width:1rem;height:1rem}"]})};function wl(o,t){if(o&1&&(r(0,"div",4)(1,"h6",5),g(2,"i",6),a(3),i()()),o&2){let e=p();l(3),C(" Customer Reviews (",e.reviews.length,") ")}}function El(o,t){o&1&&(r(0,"div",7)(1,"div",8),g(2,"i",9),r(3,"p",10),a(4,"No reviews yet. Be the first to review this car!"),i()()())}function kl(o,t){if(o&1&&(r(0,"div",29),g(1,"i",30),a(2),i()),o&2){let e=p(2).$implicit,n=p(2);l(2),C(" ",n.getTimeAgo(e.createdAt||"")," ")}}function Il(o,t){if(o&1&&(r(0,"div",23)(1,"div",24),g(2,"i",25),i(),r(3,"div",26)(4,"div",27),a(5),i(),_(6,kl,3,1,"div",28),i()()),o&2){let e=p().$implicit,n=p(2);l(5),v(e.userName||"Anonymous"),l(),m("ngIf",n.showDate)}}function Tl(o,t){if(o&1&&(r(0,"div",31)(1,"span",32),a(2),i()()),o&2){let e=p().$implicit,n=p(2);l(),m("ngClass",n.getStatusBadgeClass(e.status)),l(),C(" ",n.getStatusText(e.status)," ")}}function Fl(o,t){if(o&1&&(r(0,"div",33)(1,"div",34)(2,"small",10),g(3,"i",35),r(4,"strong"),a(5,"Moderator Note:"),i(),a(6),i()()()),o&2){let e=p().$implicit;l(6),C(" ",e.moderatorNotes," ")}}function Rl(o,t){if(o&1&&(r(0,"div",14)(1,"div",15),_(2,Il,7,2,"div",16)(3,Tl,3,2,"div",17),i(),r(4,"div",18),g(5,"app-star-rating",19),i(),r(6,"div",20)(7,"p",21),a(8),i()(),_(9,Fl,7,1,"div",22),i()),o&2){let e=t.$implicit,n=p(2);l(2),m("ngIf",n.showUserInfo),l(),m("ngIf",e.status),l(2),m("rating",e.rating)("readonly",!0)("showValue",!0),l(3),v(e.comment),l(),m("ngIf",e.moderatorNotes)}}function Dl(o,t){o&1&&(r(0,"div",36)(1,"button",37),g(2,"i",38),a(3," Show More Reviews "),i()())}function Al(o,t){if(o&1&&(r(0,"div",11),_(1,Rl,10,7,"div",12)(2,Dl,4,0,"div",13),i()),o&2){let e=p();l(),m("ngForOf",e.displayedReviews)("ngForTrackBy",e.trackByReviewId),l(),m("ngIf",e.maxReviews>0&&e.reviews.length>e.maxReviews)}}var Dn=class o{reviews=[];showUserInfo=!0;showDate=!0;maxReviews=0;displayedReviews=[];ngOnInit(){this.updateDisplayedReviews()}ngOnChanges(){this.updateDisplayedReviews()}updateDisplayedReviews(){this.maxReviews>0?this.displayedReviews=this.reviews.slice(0,this.maxReviews):this.displayedReviews=this.reviews}formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})}getTimeAgo(t){let e=new Date(t),s=new Date().getTime()-e.getTime(),c=Math.floor(s/(1e3*60*60*24)),d=Math.floor(s/(1e3*60*60)),f=Math.floor(s/(1e3*60));return c>0?`${c} day${c>1?"s":""} ago`:d>0?`${d} hour${d>1?"s":""} ago`:f>0?`${f} minute${f>1?"s":""} ago`:"Just now"}getStatusBadgeClass(t){switch(t){case"APPROVED":return"badge-success";case"PENDING":return"badge-warning";case"REJECTED":return"badge-danger";default:return"badge-secondary"}}getStatusText(t){switch(t){case"APPROVED":return"Approved";case"PENDING":return"Pending Review";case"REJECTED":return"Rejected";default:return"Unknown"}}trackByReviewId(t,e){return e.id||t}static \u0275fac=function(e){return new(e||o)};static \u0275cmp=A({type:o,selectors:[["app-review-list"]],inputs:{reviews:"reviews",showUserInfo:"showUserInfo",showDate:"showDate",maxReviews:"maxReviews"},features:[Yi],decls:4,vars:3,consts:[[1,"review-list"],["class","reviews-header",4,"ngIf"],["class","no-reviews",4,"ngIf"],["class","reviews-container",4,"ngIf"],[1,"reviews-header"],[1,"mb-3"],[1,"fas","fa-comments","me-2"],[1,"no-reviews"],[1,"text-center","py-4"],[1,"fas","fa-comment-slash","fa-3x","text-muted","mb-3"],[1,"text-muted"],[1,"reviews-container"],["class","review-item",4,"ngFor","ngForOf","ngForTrackBy"],["class","load-more",4,"ngIf"],[1,"review-item"],[1,"review-header"],["class","reviewer-info",4,"ngIf"],["class","review-status",4,"ngIf"],[1,"review-rating"],["size","sm",3,"rating","readonly","showValue"],[1,"review-comment"],[1,"comment-text"],["class","review-footer",4,"ngIf"],[1,"reviewer-info"],[1,"reviewer-avatar"],[1,"fas","fa-user"],[1,"reviewer-details"],[1,"reviewer-name"],["class","review-date",4,"ngIf"],[1,"review-date"],[1,"fas","fa-clock","me-1"],[1,"review-status"],[1,"badge",3,"ngClass"],[1,"review-footer"],[1,"moderator-notes"],[1,"fas","fa-info-circle","me-1"],[1,"load-more"],[1,"btn","btn-outline-primary","btn-sm"],[1,"fas","fa-chevron-down","me-1"]],template:function(e,n){e&1&&(r(0,"div",0),_(1,wl,4,1,"div",1)(2,El,5,0,"div",2)(3,Al,3,3,"div",3),i()),e&2&&(l(),m("ngIf",n.reviews.length>0),l(),m("ngIf",n.reviews.length===0),l(),m("ngIf",n.reviews.length>0))},dependencies:[L,Ce,J,B,Be],styles:[".review-list[_ngcontent-%COMP%]   .reviews-header[_ngcontent-%COMP%]{border-bottom:2px solid #f8f9fa;padding-bottom:1rem;margin-bottom:1.5rem}.review-list[_ngcontent-%COMP%]   .reviews-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;margin:0;font-weight:600}.review-list[_ngcontent-%COMP%]   .reviews-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff}.review-list[_ngcontent-%COMP%]   .no-reviews[_ngcontent-%COMP%]{padding:2rem 0}.review-list[_ngcontent-%COMP%]   .no-reviews[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#dee2e6}.review-list[_ngcontent-%COMP%]   .no-reviews[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem}.review-list[_ngcontent-%COMP%]   .reviews-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.review-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]{background:#fff;border:1px solid #e9ecef;border-radius:12px;padding:1.5rem;box-shadow:0 2px 8px #0000000d;transition:all .3s ease}.review-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]:hover{box-shadow:0 4px 16px #0000001a;transform:translateY(-2px)}.review-list[_ngcontent-%COMP%]   .review-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:flex-start;margin-bottom:1rem}.review-list[_ngcontent-%COMP%]   .reviewer-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.review-list[_ngcontent-%COMP%]   .reviewer-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#007bff,#0056b3);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:1rem}.review-list[_ngcontent-%COMP%]   .reviewer-details[_ngcontent-%COMP%]   .reviewer-name[_ngcontent-%COMP%]{font-weight:600;color:#495057;margin-bottom:.25rem}.review-list[_ngcontent-%COMP%]   .reviewer-details[_ngcontent-%COMP%]   .review-date[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d}.review-list[_ngcontent-%COMP%]   .reviewer-details[_ngcontent-%COMP%]   .review-date[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem}.review-list[_ngcontent-%COMP%]   .review-status[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .75rem;border-radius:20px;font-weight:500}.review-list[_ngcontent-%COMP%]   .review-status[_ngcontent-%COMP%]   .badge.badge-success[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724}.review-list[_ngcontent-%COMP%]   .review-status[_ngcontent-%COMP%]   .badge.badge-warning[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404}.review-list[_ngcontent-%COMP%]   .review-status[_ngcontent-%COMP%]   .badge.badge-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.review-list[_ngcontent-%COMP%]   .review-status[_ngcontent-%COMP%]   .badge.badge-secondary[_ngcontent-%COMP%]{background-color:#e2e3e5;color:#383d41}.review-list[_ngcontent-%COMP%]   .review-rating[_ngcontent-%COMP%]{margin-bottom:1rem}.review-list[_ngcontent-%COMP%]   .review-comment[_ngcontent-%COMP%]   .comment-text[_ngcontent-%COMP%]{color:#495057;line-height:1.6;margin:0;font-size:.95rem}.review-list[_ngcontent-%COMP%]   .review-footer[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid #f8f9fa}.review-list[_ngcontent-%COMP%]   .review-footer[_ngcontent-%COMP%]   .moderator-notes[_ngcontent-%COMP%]{background:#f8f9fa;padding:.75rem;border-radius:8px;border-left:4px solid #007bff}.review-list[_ngcontent-%COMP%]   .review-footer[_ngcontent-%COMP%]   .moderator-notes[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.875rem;line-height:1.4}.review-list[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]{text-align:center;margin-top:1rem}.review-list[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:20px;padding:.5rem 1.5rem;font-weight:500;transition:all .3s ease}.review-list[_ngcontent-%COMP%]   .load-more[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 12px #007bff33}.review-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .4s ease-out;animation-fill-mode:both}.review-item[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.review-item[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.review-item[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.review-item[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.review-item[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@media (max-width: 768px){.review-list[_ngcontent-%COMP%]   .review-item[_ngcontent-%COMP%]{padding:1rem}.review-list[_ngcontent-%COMP%]   .review-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start}.review-list[_ngcontent-%COMP%]   .reviewer-info[_ngcontent-%COMP%]{gap:.5rem}.review-list[_ngcontent-%COMP%]   .reviewer-avatar[_ngcontent-%COMP%]{width:35px;height:35px;font-size:.875rem}.review-list[_ngcontent-%COMP%]   .reviewer-details[_ngcontent-%COMP%]   .reviewer-name[_ngcontent-%COMP%]{font-size:.95rem}.review-list[_ngcontent-%COMP%]   .reviewer-details[_ngcontent-%COMP%]   .review-date[_ngcontent-%COMP%]{font-size:.8rem}}"]})};var An=class o{constructor(t){this.http=t}apiUrl=X.apiUrl+"/ratings";addOrUpdateRating(t,e){return this.http.post(`${this.apiUrl}/cars/${t}`,{carId:t,rating:e})}getAverageRating(t){return this.http.get(`${this.apiUrl}/cars/${t}/average`)}getRatingDistribution(t){return this.http.get(`${this.apiUrl}/cars/${t}/distribution`)}getCarRatings(t){return this.http.get(`${this.apiUrl}/cars/${t}`)}getUserRating(t){return this.http.get(`${this.apiUrl}/cars/${t}/user`)}hasUserRated(t){return this.http.get(`${this.apiUrl}/cars/${t}/has-rated`)}deleteRating(t){return this.http.delete(`${this.apiUrl}/cars/${t}`)}static \u0275fac=function(e){return new(e||o)(j(Z))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};function Bl(o,t){o&1&&(r(0,"div",4),g(1,"div",5),r(2,"p",6),a(3,"Loading car details..."),i()())}function Ll(o,t){if(o&1&&(r(0,"div",44)(1,"h6",45),a(2,"Customer Rating"),i(),g(3,"app-star-rating",46),i()),o&2){let e=p(2);l(3),m("rating",e.car.averageRating)("readonly",!0)("showValue",!0)("showCount",!0)("ratingCount",e.car.ratingCount||0)}}function Vl(o,t){if(o&1){let e=y();r(0,"div",47)(1,"h6",45),a(2,"Your Rating"),i(),r(3,"app-star-rating",48),b("ratingChange",function(s){u(e);let c=p(2);return h(c.onRatingChange(s))}),i(),r(4,"small",27),a(5,"Click to rate this car"),i()()}if(o&2){let e=p(2);l(3),m("rating",(e.userRating==null?null:e.userRating.rating)||0)("readonly",!1)}}function Ul(o,t){if(o&1){let e=y();r(0,"button",49),b("click",function(){u(e);let s=p(2);return h(s.toggleReviewForm())}),g(1,"i",50),a(2),i()}if(o&2){let e=p(2);l(2),C(" ",e.userReview?"Edit Review":"Write Review"," ")}}function zl(o,t){if(o&1){let e=y();r(0,"div",51)(1,"app-review-form",52),b("reviewSubmitted",function(s){u(e);let c=p(2);return h(c.onReviewSubmitted(s))})("reviewCancelled",function(){u(e);let s=p(2);return h(s.onReviewCancelled())}),i()()}if(o&2){let e=p(2);l(),m("carId",e.car.id)("existingReview",e.userReview)}}function jl(o,t){if(o&1){let e=y();r(0,"div",7)(1,"nav",8)(2,"ol",9)(3,"li",10)(4,"a",11),g(5,"i",12),a(6,"Back to Cars "),i()(),r(7,"li",13),a(8),i()()(),r(9,"div",14)(10,"div",15)(11,"div",16)(12,"div",17),g(13,"img",18),i(),r(14,"div",17)(15,"div",19)(16,"h1",20),a(17),i(),r(18,"div",21)(19,"span",22),a(20),i(),r(21,"span",23),a(22),i(),r(23,"span",24),a(24),i()(),r(25,"div",25),g(26,"i",26),r(27,"span",27),a(28),i()(),_(29,Ll,4,5,"div",28)(30,Vl,6,2,"div",29),r(31,"div",30)(32,"div",31)(33,"span",32),a(34),i(),r(35,"span",33),a(36,"/day"),i()(),r(37,"button",34),b("click",function(){u(e);let s=p();return h(s.bookCar())}),g(38,"i",35),a(39),i()()()()()()(),r(40,"div",36)(41,"div",37)(42,"h3",38),g(43,"i",39),a(44," Customer Reviews "),r(45,"span",40),a(46),i()(),_(47,Ul,3,1,"button",41),i(),_(48,zl,2,2,"div",42),g(49,"app-review-list",43),i()()}if(o&2){let e=p();l(8),F(" ",e.car.brand," ",e.car.model," "),l(5),m("src",e.getCarImage(e.car),ne)("alt",e.car.brand+" "+e.car.model),l(4),F("",e.car.brand," ",e.car.model,""),l(3),v(e.car.year),l(2),v(e.car.type),l(),m("ngClass",e.car.availability?"bg-success":"bg-danger"),l(),C(" ",e.car.availability?"Available":"Unavailable"," "),l(4),F("",e.car.branchName,", ",e.car.branchCity,""),l(),m("ngIf",e.car.averageRating),l(),m("ngIf",e.isLoggedIn),l(4),C("$",e.car.price,""),l(3),m("disabled",!e.car.availability),l(2),C(" ",e.car.availability?"Book This Car":"Currently Unavailable"," "),l(7),v(e.reviews.length),l(),m("ngIf",e.isLoggedIn),l(),m("ngIf",e.showReviewForm),l(),m("reviews",e.reviews)("showUserInfo",!0)("showDate",!0)}}function Wl(o,t){o&1&&(r(0,"div",4)(1,"div",53),g(2,"i",54),i(),r(3,"h4",55),a(4,"Car not found"),i(),r(5,"p",56),a(6,"The car you're looking for doesn't exist or has been removed."),i(),r(7,"a",57),g(8,"i",58),a(9,"Back to Cars "),i()())}var Nn=class o{constructor(t,e,n,s,c,d,f){this.route=t;this.router=e;this.carService=n;this.reviewService=s;this.ratingService=c;this.authService=d;this.imageService=f}car=null;reviews=[];userReview=void 0;userRating=null;isLoading=!0;showReviewForm=!1;isLoggedIn=!1;ngOnInit(){this.isLoggedIn=this.authService.isLoggedIn(),this.loadCarDetails()}loadCarDetails(){let t=Number(this.route.snapshot.paramMap.get("id"));if(!t){this.router.navigate(["/cars"]);return}this.isLoading=!0,this.carService.getCarById(t).subscribe({next:e=>{this.car=e,this.loadReviews(),this.isLoggedIn&&(this.loadUserReview(),this.loadUserRating())},error:e=>{console.error("Error loading car details:",e),this.isLoading=!1}})}loadReviews(){this.car&&this.reviewService.getApprovedReviews(this.car.id).subscribe({next:t=>{this.reviews=t,this.isLoading=!1},error:t=>{console.error("Error loading reviews:",t),this.isLoading=!1}})}loadUserReview(){this.car&&this.reviewService.getUserReview(this.car.id).subscribe({next:t=>{this.userReview=t},error:t=>{this.userReview=void 0}})}loadUserRating(){this.car&&this.ratingService.getUserRating(this.car.id).subscribe({next:t=>{this.userRating=t},error:t=>{this.userRating=null}})}onRatingChange(t){!this.car||!this.isLoggedIn||this.ratingService.addOrUpdateRating(this.car.id,t).subscribe({next:e=>{this.userRating=e,this.loadCarDetails()},error:e=>{console.error("Error updating rating:",e)}})}onReviewSubmitted(t){this.userReview=t,this.showReviewForm=!1,this.loadReviews(),this.loadCarDetails()}onReviewCancelled(){this.showReviewForm=!1}toggleReviewForm(){if(!this.isLoggedIn){this.router.navigate(["/login"]);return}this.showReviewForm=!this.showReviewForm}getCarImage(t){return this.imageService.getCarImageUrl(t)}bookCar(){if(!this.isLoggedIn){this.router.navigate(["/login"]);return}this.car&&this.router.navigate(["/booking"],{queryParams:{carId:this.car.id}})}static \u0275fac=function(e){return new(e||o)(P(tn),P(ue),P(_e),P(Dt),P(An),P(ee),P(Ve))};static \u0275cmp=A({type:o,selectors:[["app-car-details"]],decls:5,vars:3,consts:[[1,"car-details-container"],[1,"container","py-4"],["class","text-center py-5",4,"ngIf"],["class","car-details",4,"ngIf"],[1,"text-center","py-5"],[1,"spinner"],[1,"text-white","mt-3"],[1,"car-details"],["aria-label","breadcrumb",1,"mb-4"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/cars",1,"text-decoration-none"],[1,"fas","fa-chevron-left","me-1"],["aria-current","page",1,"breadcrumb-item","active"],[1,"car-header","card","mb-4"],[1,"card-body","p-4"],[1,"row"],[1,"col-md-6"],[1,"car-image","img-fluid","rounded",3,"src","alt"],[1,"car-info"],[1,"car-title","mb-3"],[1,"car-meta","mb-3"],[1,"badge","bg-primary","me-2"],[1,"badge","bg-secondary","me-2"],[1,"badge",3,"ngClass"],[1,"car-location","mb-3"],[1,"fas","fa-map-marker-alt","me-2","text-muted"],[1,"text-muted"],["class","rating-section mb-4",4,"ngIf"],["class","user-rating mb-4",4,"ngIf"],[1,"price-section","mb-4"],[1,"price-display"],[1,"price-amount"],[1,"price-period"],[1,"btn","btn-primary","btn-lg","w-100",3,"click","disabled"],[1,"fas","fa-calendar-plus","me-2"],[1,"reviews-section"],[1,"d-flex","justify-content-between","align-items-center","mb-4"],[1,"mb-0"],[1,"fas","fa-comments","me-2"],[1,"badge","bg-primary","ms-2"],["class","btn btn-outline-primary",3,"click",4,"ngIf"],["class","review-form-container mb-4",4,"ngIf"],[3,"reviews","showUserInfo","showDate"],[1,"rating-section","mb-4"],[1,"fw-semibold","mb-2"],["size","lg",3,"rating","readonly","showValue","showCount","ratingCount"],[1,"user-rating","mb-4"],["size","lg",3,"ratingChange","rating","readonly"],[1,"btn","btn-outline-primary",3,"click"],[1,"fas","fa-edit","me-2"],[1,"review-form-container","mb-4"],[3,"reviewSubmitted","reviewCancelled","carId","existingReview"],[1,"error-icon","mb-3"],[1,"fas","fa-car-crash","fa-4x","text-white-50"],[1,"text-white"],[1,"text-white-50"],["routerLink","/cars",1,"btn","btn-primary"],[1,"fas","fa-arrow-left","me-2"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1),_(2,Bl,4,0,"div",2)(3,jl,50,23,"div",3)(4,Wl,10,0,"div",2),i()()),e&2&&(l(2),m("ngIf",n.isLoading),l(),m("ngIf",!n.isLoading&&n.car),l(),m("ngIf",!n.isLoading&&!n.car))},dependencies:[L,Ce,B,se,xe,ae,Be,Rn,Dn],styles:[".car-details-container[_ngcontent-%COMP%]{background:var(--gradient-primary)}.car-details[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:8px;padding:1rem}.car-details[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff}.car-details[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover, .car-details[_ngcontent-%COMP%]   .breadcrumb[_ngcontent-%COMP%]   .breadcrumb-item.active[_ngcontent-%COMP%]{color:#e9ecef}.car-header[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:none;border-radius:16px;box-shadow:0 8px 32px #0000001a}.car-header[_ngcontent-%COMP%]   .car-image[_ngcontent-%COMP%]{width:100%;height:300px;object-fit:cover;border-radius:12px;box-shadow:0 4px 16px #0000001a}.car-header[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]   .car-title[_ngcontent-%COMP%]{color:#2c3e50;font-weight:700;font-size:2.5rem;line-height:1.2}.car-header[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]   .car-meta[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem 1rem;border-radius:20px}.car-header[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]   .car-location[_ngcontent-%COMP%]{font-size:1.1rem}.rating-section[_ngcontent-%COMP%]   .fw-semibold[_ngcontent-%COMP%], .user-rating[_ngcontent-%COMP%]   .fw-semibold[_ngcontent-%COMP%]{color:#495057;font-size:1.1rem}.rating-section[_ngcontent-%COMP%]   small[_ngcontent-%COMP%], .user-rating[_ngcontent-%COMP%]   small[_ngcontent-%COMP%]{font-size:.875rem}.price-section[_ngcontent-%COMP%]   .price-display[_ngcontent-%COMP%]{margin-bottom:1rem}.price-section[_ngcontent-%COMP%]   .price-display[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#28a745}.price-section[_ngcontent-%COMP%]   .price-display[_ngcontent-%COMP%]   .price-period[_ngcontent-%COMP%]{font-size:1.2rem;color:#6c757d;margin-left:.5rem}.price-section[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);border:none;border-radius:12px;font-weight:600;padding:1rem 2rem;font-size:1.1rem;transition:all .3s ease}.price-section[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 8px 25px #007bff4d}.price-section[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]:disabled{background:#6c757d;transform:none;box-shadow:none}.reviews-section[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border-radius:16px;padding:2rem;box-shadow:0 8px 32px #0000001a}.reviews-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600}.reviews-section[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff}.reviews-section[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{border:2px solid #007bff;color:#007bff;border-radius:8px;font-weight:600;transition:all .3s ease}.reviews-section[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{background:#007bff;color:#fff;transform:translateY(-1px);box-shadow:0 4px 12px #007bff33}.review-form-container[_ngcontent-%COMP%]{background:#f8f9fa;border-radius:12px;padding:1.5rem;border:1px solid #e9ecef}.error-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#dc3545}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:4px solid rgba(255,255,255,.3);border-top:4px solid #fff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@media (max-width: 768px){.car-header[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]   .car-title[_ngcontent-%COMP%], .price-section[_ngcontent-%COMP%]   .price-display[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{font-size:2rem}.price-section[_ngcontent-%COMP%]   .price-display[_ngcontent-%COMP%]   .price-period[_ngcontent-%COMP%]{font-size:1rem}.reviews-section[_ngcontent-%COMP%]{padding:1.5rem}.reviews-section[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{flex-direction:column;gap:1rem;align-items:flex-start!important}}@media (max-width: 576px){.car-header[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.car-header[_ngcontent-%COMP%]   .car-image[_ngcontent-%COMP%]{height:250px}.car-header[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]   .car-title[_ngcontent-%COMP%], .price-section[_ngcontent-%COMP%]   .price-display[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{font-size:1.75rem}.price-section[_ngcontent-%COMP%]   .btn-primary[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-size:1rem}}"]})};function $l(o,t){if(o&1&&(r(0,"div",14)(1,"div",15)(2,"div",16)(3,"div",17),g(4,"i"),i(),r(5,"h4",18),a(6),i(),r(7,"p",19),a(8),i()()()()),o&2){let e=t.$implicit,n=t.index;l(),ge("animation-delay",n*.1+"s"),l(3),$(e.icon),l(2),v(e.count),l(2),v(e.label)}}function Hl(o,t){if(o&1){let e=y();r(0,"li",20)(1,"button",21),b("click",function(){let s=u(e).$implicit,c=p();return h(c.setFilter(s.value))}),g(2,"i"),a(3),r(4,"span",22),a(5),i()()()}if(o&2){let e=t.$implicit,n=p();l(),w("active",n.currentFilter===e.value),l(),$(e.icon+" me-2"),l(),C(" ",e.label," "),l(2),v(n.getFilterCount(e.value))}}function Gl(o,t){o&1&&(r(0,"div",23),g(1,"div",24),r(2,"p",25),a(3,"Loading bookings..."),i()())}function Yl(o,t){o&1&&(r(0,"div",26)(1,"div",27),g(2,"i",28),i(),r(3,"h4",29),a(4,"No bookings found"),i(),r(5,"p",30),a(6,"You haven't made any bookings yet"),i(),r(7,"button",31),g(8,"i",32),a(9," Browse Cars "),i()())}function ql(o,t){o&1&&(r(0,"small",62),a(1,"Pending approval"),i())}function Kl(o,t){o&1&&(r(0,"small",63),a(1,"Confirmed, not yet active"),i())}function Ql(o,t){o&1&&g(0,"i",67)}function Xl(o,t){o&1&&g(0,"span",68)}function Jl(o,t){if(o&1){let e=y();r(0,"button",64),b("click",function(){u(e);let s=p().$implicit,c=p(2);return h(c.cancelBooking(s))}),_(1,Ql,1,0,"i",65)(2,Xl,1,0,"span",66),i()}if(o&2){let e=p(3);m("disabled",e.isCancelling),l(),m("ngIf",!e.isCancelling),l(),m("ngIf",e.isCancelling)}}function Zl(o,t){if(o&1){let e=y();r(0,"div",35)(1,"div",36)(2,"div",37)(3,"div",38)(4,"div",39),g(5,"img",40),i()(),r(6,"div",41)(7,"div",42)(8,"h5",43),a(9),i(),r(10,"p",44),g(11,"i",45),a(12),i(),r(13,"p",44),g(14,"i",46),a(15),i(),r(16,"p",47),g(17,"i",48),a(18),i(),_(19,ql,2,0,"small",49)(20,Kl,2,0,"small",50),i()(),r(21,"div",51)(22,"div",52)(23,"span",53),a(24),i(),r(25,"span",54),a(26,"days"),i()()(),r(27,"div",55)(28,"div",56)(29,"span",57),a(30),i()(),r(31,"div",58)(32,"button",59),b("click",function(){let s=u(e).$implicit,c=p(2);return h(c.viewBookingDetails(s))}),g(33,"i",60),i(),_(34,Jl,3,3,"button",61),i()()()()()}if(o&2){let e=t.$implicit,n=t.index,s=p(2);ge("animation-delay",n*.1+"s"),l(5),m("src",s.getCarImage(e),ne)("alt",e.carBrand+" "+e.carModel),l(4),F("",e.carBrand," ",e.carModel,""),l(3),C("",e.carType," "),l(3),F(" ",s.formatDate(e.startDate)," - ",s.formatDate(e.endDate)," "),l(3),C(" Booked on ",s.formatDate(e.createdAt)," "),l(),m("ngIf",s.isPending(e)),l(),m("ngIf",s.isConfirmed(e)),l(4),v(s.calculateDuration(e.startDate,e.endDate)),l(5),m("ngClass",s.getStatusBadgeClass(e.status)),l(),C(" ",e.status," "),l(4),m("ngIf",s.canCancelBooking(e))}}function ec(o,t){if(o&1&&(r(0,"div",33),_(1,Zl,35,16,"div",34),i()),o&2){let e=p();l(),m("ngForOf",e.filteredBookings)}}function tc(o,t){o&1&&g(0,"span",92)}function nc(o,t){o&1&&g(0,"i",93)}function ic(o,t){if(o&1){let e=y();r(0,"button",89),b("click",function(){u(e);let s=p(2);return h(s.cancelBooking(s.selectedBooking))}),_(1,tc,1,0,"span",90)(2,nc,1,0,"i",91),a(3),i()}if(o&2){let e=p(2);m("disabled",e.isCancelling),l(),m("ngIf",e.isCancelling),l(),m("ngIf",!e.isCancelling),l(),C(" ",e.isCancelling?"Cancelling...":"Cancel Booking"," ")}}function rc(o,t){if(o&1&&(r(0,"div",69)(1,"div",70)(2,"div",71)(3,"div",72)(4,"h5",73),g(5,"i",74),a(6," Booking Details "),i(),g(7,"button",75),i(),r(8,"div",76)(9,"div",77)(10,"div",78),g(11,"img",79),i(),r(12,"div",80)(13,"h4",81),a(14),i(),r(15,"div",82)(16,"div",83)(17,"strong"),a(18,"Booking ID:"),i(),r(19,"span",84),a(20),i()(),r(21,"div",83)(22,"strong"),a(23,"Car Type:"),i(),r(24,"span",84),a(25),i()(),r(26,"div",83)(27,"strong"),a(28,"Rental Period:"),i(),r(29,"span",84),a(30),i()(),r(31,"div",83)(32,"strong"),a(33,"Duration:"),i(),r(34,"span",84),a(35),i()(),r(36,"div",83)(37,"strong"),a(38,"Status:"),i(),r(39,"span",85),a(40),i()(),r(41,"div",83)(42,"strong"),a(43,"Booked On:"),i(),r(44,"span",84),a(45),i()()()()()(),r(46,"div",86)(47,"button",87),a(48,"Close"),i(),_(49,ic,4,4,"button",88),i()()()()),o&2){let e=p();l(11),m("src",e.getCarImage(e.selectedBooking),ne)("alt",e.selectedBooking.carBrand+" "+e.selectedBooking.carModel),l(3),F("",e.selectedBooking.carBrand," ",e.selectedBooking.carModel,""),l(6),C("#",e.selectedBooking.id,""),l(5),v(e.selectedBooking.carType),l(5),F("",e.formatDate(e.selectedBooking.startDate)," - ",e.formatDate(e.selectedBooking.endDate),""),l(5),C("",e.calculateDuration(e.selectedBooking.startDate,e.selectedBooking.endDate)," days"),l(4),m("ngClass",e.getStatusBadgeClass(e.selectedBooking.status)),l(),v(e.selectedBooking.status),l(5),v(e.formatDate(e.selectedBooking.createdAt)),l(4),m("ngIf",e.canCancelBooking(e.selectedBooking))}}var Bn=class o{constructor(t,e,n){this.bookingService=t;this.authService=e;this.imageService=n}bookings=[];filteredBookings=[];selectedBooking=null;isLoading=!1;isCancelling=!1;error=null;currentFilter="all";statusFilters=[{value:"all",label:"All Bookings",icon:"fas fa-list"},{value:"PENDING",label:"Pending",icon:"fas fa-hourglass-half"},{value:"CONFIRMED",label:"Confirmed",icon:"fas fa-check"},{value:"ACTIVE",label:"Active",icon:"fas fa-play-circle"},{value:"COMPLETED",label:"Completed",icon:"fas fa-check-circle"},{value:"CANCELLED",label:"Cancelled",icon:"fas fa-times-circle"}];bookingStats=[{icon:"fas fa-calendar-check fa-2x text-primary",count:0,label:"Total Bookings"},{icon:"fas fa-hourglass-half fa-2x text-warning",count:0,label:"Pending"},{icon:"fas fa-check fa-2x text-info",count:0,label:"Confirmed"},{icon:"fas fa-play-circle fa-2x text-success",count:0,label:"Active"},{icon:"fas fa-check-circle fa-2x text-info",count:0,label:"Completed"},{icon:"fas fa-times-circle fa-2x text-danger",count:0,label:"Cancelled"}];ngOnInit(){if(!this.authService.isLoggedIn()){this.error="Please log in to view your bookings";return}this.loadBookings()}loadBookings(){this.isLoading=!0,this.error=null,this.bookingService.getUserBookings().subscribe({next:t=>{this.bookings=t,this.updateStats(),this.applyFilter(),this.isLoading=!1},error:t=>{console.error("Error loading bookings:",t),this.error="Failed to load bookings. Please try again.",this.isLoading=!1}})}updateStats(){let t=e=>this.bookings.filter(n=>n.status===e).length;this.bookingStats[0].count=this.bookings.length,this.bookingStats[1].count=t("PENDING"),this.bookingStats[2].count=t("CONFIRMED"),this.bookingStats[3].count=t("ACTIVE"),this.bookingStats[4].count=t("COMPLETED"),this.bookingStats[5].count=t("CANCELLED")}setFilter(t){this.currentFilter=t,this.applyFilter()}applyFilter(){this.currentFilter==="all"?this.filteredBookings=[...this.bookings]:this.filteredBookings=this.bookings.filter(t=>t.status===this.currentFilter)}getFilterCount(t){return t==="all"?this.bookings.length:this.bookings.filter(e=>e.status===t).length}viewBookingDetails(t){this.selectedBooking=t;let e=document.getElementById("bookingDetailsModal");e&&new window.bootstrap.Modal(e).show()}isPending(t){return t.status==="PENDING"}isConfirmed(t){return t.status==="CONFIRMED"}cancelBooking(t){confirm("Are you sure you want to cancel this booking?")&&(this.isCancelling=!0,this.bookingService.cancelBooking(t.id).subscribe({next:()=>{this.isCancelling=!1;let e=this.bookings.findIndex(s=>s.id===t.id);e!==-1&&(this.bookings[e].status="CANCELLED",this.updateStats(),this.applyFilter());let n=document.getElementById("bookingDetailsModal");if(n){let s=window.bootstrap.Modal.getInstance(n);s&&s.hide()}alert("Booking cancelled successfully!")},error:e=>{this.isCancelling=!1,console.error("Error cancelling booking:",e),alert("Failed to cancel booking. Please try again.")}}))}canCancelBooking(t){let e=new Date;return new Date(t.startDate)>e&&(t.status==="PENDING"||t.status==="CONFIRMED"||t.status==="ACTIVE")}formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}getStatusBadgeClass(t){switch(t.toUpperCase()){case"CONFIRMED":return"bg-info";case"PENDING":return"bg-warning text-dark";case"ACTIVE":return"bg-success";case"CANCELLED":return"bg-danger";case"COMPLETED":return"bg-secondary";default:return"bg-secondary"}}calculateDuration(t,e){let n=new Date(t),s=new Date(e),c=Math.abs(s.getTime()-n.getTime());return Math.ceil(c/(1e3*60*60*24))}getCarImage(t){return this.imageService.getCarImageUrl(t)}getEmptyStateMessage(){return this.authService.isLoggedIn()?"You don't have any bookings yet. Start by exploring our car collection!":"Please log in to view your bookings"}static \u0275fac=function(e){return new(e||o)(P(Le),P(ee),P(Ve))};static \u0275cmp=A({type:o,selectors:[["app-booking"]],decls:16,vars:6,consts:[[1,"booking-container"],[1,"container","py-4"],[1,"booking-header","text-center","mb-5","fade-in"],[1,"display-5","fw-bold","text-white","mb-3"],[1,"lead","text-white-50"],[1,"row","mb-4"],["class","col-md-3 col-6 mb-3",4,"ngFor","ngForOf"],[1,"filter-tabs","mb-4","slide-up"],[1,"nav","nav-pills","justify-content-center"],["class","nav-item",4,"ngFor","ngForOf"],["class","text-center py-5",4,"ngIf"],["class","no-bookings text-center py-5",4,"ngIf"],["class","bookings-list",4,"ngIf"],["class","modal fade","id","bookingDetailsModal","tabindex","-1",4,"ngIf"],[1,"col-md-3","col-6","mb-3"],[1,"stat-card","card","text-center","bounce-in"],[1,"card-body","p-3"],[1,"stat-icon","mb-2"],[1,"stat-number","mb-1"],[1,"stat-label","mb-0"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"badge","bg-light","text-dark","ms-2"],[1,"text-center","py-5"],[1,"spinner"],[1,"text-white","mt-3"],[1,"no-bookings","text-center","py-5"],[1,"no-bookings-icon","mb-3"],[1,"fas","fa-calendar-times","fa-4x","text-white-50"],[1,"text-white"],[1,"text-white-50","mb-4"],["routerLink","/cars",1,"btn","btn-primary","btn-lg"],[1,"fas","fa-search","me-2"],[1,"bookings-list"],["class","booking-card card mb-4 slide-up",3,"animation-delay",4,"ngFor","ngForOf"],[1,"booking-card","card","mb-4","slide-up"],[1,"card-body"],[1,"row","align-items-center"],[1,"col-md-2"],[1,"car-thumbnail"],[1,"img-fluid","rounded",3,"src","alt"],[1,"col-md-6"],[1,"booking-details"],[1,"fw-bold","mb-2"],[1,"text-muted","mb-1"],[1,"fas","fa-car","me-2"],[1,"fas","fa-calendar","me-2"],[1,"text-muted","mb-0"],[1,"fas","fa-clock","me-2"],["class","text-warning d-block mt-2",4,"ngIf"],["class","text-info d-block mt-1",4,"ngIf"],[1,"col-md-2","text-center"],[1,"booking-duration","mb-2"],[1,"duration-number"],[1,"duration-label"],[1,"col-md-2","text-end"],[1,"booking-status","mb-3"],[1,"badge",3,"ngClass"],[1,"booking-actions"],[1,"btn","btn-outline-primary","btn-sm","me-2",3,"click"],[1,"fas","fa-eye"],["class","btn btn-outline-danger btn-sm",3,"disabled","click",4,"ngIf"],[1,"text-warning","d-block","mt-2"],[1,"text-info","d-block","mt-1"],[1,"btn","btn-outline-danger","btn-sm",3,"click","disabled"],["class","fas fa-times",4,"ngIf"],["class","spinner-border spinner-border-sm",4,"ngIf"],[1,"fas","fa-times"],[1,"spinner-border","spinner-border-sm"],["id","bookingDetailsModal","tabindex","-1",1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],[1,"fas","fa-calendar-alt","me-2"],["type","button","data-bs-dismiss","modal",1,"btn-close"],[1,"modal-body"],[1,"row"],[1,"col-md-4"],[1,"img-fluid","rounded","mb-3",3,"src","alt"],[1,"col-md-8"],[1,"fw-bold","mb-3"],[1,"booking-info"],[1,"info-row","mb-2"],[1,"ms-2"],[1,"badge","ms-2",3,"ngClass"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button","class","btn btn-danger",3,"disabled","click",4,"ngIf"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],["class","fas fa-times me-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-2"],[1,"fas","fa-times","me-2"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"My Bookings"),i(),r(5,"p",4),a(6,"Manage your car rental bookings"),i()(),r(7,"div",5),_(8,$l,9,6,"div",6),i(),r(9,"div",7)(10,"ul",8),_(11,Hl,6,6,"li",9),i()(),_(12,Gl,4,0,"div",10)(13,Yl,10,0,"div",11)(14,ec,2,1,"div",12),i()(),_(15,rc,50,13,"div",13)),e&2&&(l(8),m("ngForOf",n.bookingStats),l(3),m("ngForOf",n.statusFilters),l(),m("ngIf",n.isLoading),l(),m("ngIf",!n.isLoading&&n.filteredBookings.length===0),l(),m("ngIf",!n.isLoading&&n.filteredBookings.length>0),l(),m("ngIf",n.selectedBooking))},dependencies:[L,Ce,J,B,se,xe],styles:['.booking-container[_ngcontent-%COMP%]{min-height:100vh;background:var(--gradient-primary);background-attachment:fixed}.booking-header[_ngcontent-%COMP%]{padding:2rem 0}.stat-card[_ngcontent-%COMP%]{border:none;border-radius:1rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fffffff2;transition:all .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px) scale(1.02);box-shadow:0 15px 30px #00000026}.stat-icon[_ngcontent-%COMP%]{height:60px;display:flex;align-items:center;justify-content:center}.stat-number[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;color:var(--primary-600);margin:0}.stat-label[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;font-weight:500}.filter-tabs[_ngcontent-%COMP%]{display:flex;justify-content:center}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border-radius:2rem;margin:0 .5rem;padding:.75rem 1.5rem;background:#ffffff26;color:#fff;border:2px solid transparent;transition:all .3s ease}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:#ffffff40;transform:translateY(-2px)}.nav-pills[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:#fffffff2;color:var(--primary-700);border-color:#ffffff4d;font-weight:600}.booking-card[_ngcontent-%COMP%]{border:none;border-radius:1rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);background:#fffffff2;transition:all .3s ease;overflow:hidden}.booking-card[_ngcontent-%COMP%]:hover{transform:translate(10px);box-shadow:0 15px 30px #00000026}.car-thumbnail[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:80px;object-fit:cover;border-radius:.5rem}.booking-details[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#333;margin-bottom:.5rem}.booking-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.25rem;font-size:.9rem}.booking-duration[_ngcontent-%COMP%]{text-align:center}.duration-number[_ngcontent-%COMP%]{display:block;font-size:1.5rem;font-weight:700;color:var(--primary-600)}.duration-label[_ngcontent-%COMP%]{font-size:.8rem;color:#6c757d;text-transform:uppercase;letter-spacing:.5px}.booking-status[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.8rem;padding:.5rem 1rem;border-radius:1rem}.booking-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:50%;width:36px;height:36px;display:inline-flex;align-items:center;justify-content:center;transition:all .3s ease}.booking-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:scale(1.1)}.no-bookings[_ngcontent-%COMP%]{padding:4rem 0}.no-bookings-icon[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 2s infinite}.spinner[_ngcontent-%COMP%]{width:50px;height:50px;border:5px solid rgba(255,255,255,.3);border-top:5px solid #fff;border-radius:50%;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin:0 auto}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}@keyframes _ngcontent-%COMP%_pulse{0%{transform:scale(1);opacity:1}50%{transform:scale(1.1);opacity:.7}to{transform:scale(1);opacity:1}}.modal-content[_ngcontent-%COMP%]{border:none;border-radius:1rem;box-shadow:0 20px 40px #00000026}.modal-header[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;border-bottom:none;border-radius:1rem 1rem 0 0}.btn-close[_ngcontent-%COMP%]{filter:invert(1)}.booking-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;border-bottom:1px solid #f0f0f0}.booking-info[_ngcontent-%COMP%]   .info-row[_ngcontent-%COMP%]:last-child{border-bottom:none}@media (max-width: 768px){.booking-header[_ngcontent-%COMP%]{padding:1rem 0}.booking-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.stat-card[_ngcontent-%COMP%]{margin-bottom:1rem}.filter-tabs[_ngcontent-%COMP%]   .nav-pills[_ngcontent-%COMP%]{flex-wrap:wrap;justify-content:center}.nav-pills[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{margin:.25rem;padding:.5rem 1rem;font-size:.9rem}.booking-card[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:1rem}.booking-card[_ngcontent-%COMP%]   .col-md-2[_ngcontent-%COMP%]:last-child{text-align:center!important}.booking-actions[_ngcontent-%COMP%]{display:flex;justify-content:center;gap:.5rem}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .8s ease-out}.slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .6s ease-out}.bounce-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounceIn .8s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}to{opacity:1;transform:scale(1)}}.btn[_ngcontent-%COMP%]{position:relative;overflow:hidden;transition:all .3s ease}.btn[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s}.btn[_ngcontent-%COMP%]:hover:before{left:100%}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px)}.badge[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-out}.booking-card.loading[_ngcontent-%COMP%]{background:linear-gradient(90deg,#f0f0f0 25%,#e0e0e0,#f0f0f0 75%);background-size:200% 100%;animation:_ngcontent-%COMP%_loading 1.5s infinite}@keyframes _ngcontent-%COMP%_loading{0%{background-position:200% 0}to{background-position:-200% 0}}']})};var At=class o{constructor(t){this.http=t}apiUrl=X.apiUrl+"/dashboard";getAdminDashboard(){return this.http.get(`${this.apiUrl}/admin`)}getManagerDashboard(t){return this.http.get(`${this.apiUrl}/manager/${t}`)}static \u0275fac=function(e){return new(e||o)(j(Z))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var gt=class o{constructor(t){this.http=t}apiUrl=X.apiUrl+"/financial";createTransaction(t){return this.http.post(`${this.apiUrl}/transactions`,t)}getTransactionById(t){return this.http.get(`${this.apiUrl}/transactions/${t}`)}searchTransactions(t){let e=new Pt;return t.transactionType&&(e=e.set("transactionType",t.transactionType)),t.status&&(e=e.set("status",t.status)),t.carId&&(e=e.set("carId",t.carId.toString())),t.userId&&(e=e.set("userId",t.userId.toString())),t.branchId&&(e=e.set("branchId",t.branchId.toString())),t.startDate&&(e=e.set("startDate",t.startDate)),t.endDate&&(e=e.set("endDate",t.endDate)),t.page!==void 0&&(e=e.set("page",t.page.toString())),t.size&&(e=e.set("size",t.size.toString())),this.http.get(`${this.apiUrl}/transactions`,{params:e})}getTransactionsByDateRange(t,e){let n=new Pt().set("startDate",t).set("endDate",e);return this.http.get(`${this.apiUrl}/transactions/date-range`,{params:n})}generateFinancialReport(t,e){let n=new Pt().set("startDate",t).set("endDate",e);return this.http.get(`${this.apiUrl}/reports`,{params:n})}getCurrentMonthReport(){return this.http.get(`${this.apiUrl}/reports/current-month`)}getCurrentYearReport(){return this.http.get(`${this.apiUrl}/reports/current-year`)}getLast30DaysReport(){return this.http.get(`${this.apiUrl}/reports/last-30-days`)}getTransactionTypeLabel(t){return{RENTAL_INCOME:"Rental Income",DEPOSIT:"Deposit",LATE_FEE:"Late Fee",DAMAGE_FEE:"Damage Fee",FUEL_FEE:"Fuel Fee",INSURANCE_FEE:"Insurance Fee",ADDITIONAL_DRIVER_FEE:"Additional Driver Fee",MAINTENANCE_COST:"Maintenance Cost",REPAIR_COST:"Repair Cost",REFUND:"Refund",CANCELLATION_FEE:"Cancellation Fee",ADMINISTRATIVE_FEE:"Administrative Fee",TAX:"Tax",DISCOUNT:"Discount",OTHER_INCOME:"Other Income",OTHER_EXPENSE:"Other Expense"}[t]||t}getTransactionStatusLabel(t){return{PENDING:"Pending",COMPLETED:"Completed",FAILED:"Failed",CANCELLED:"Cancelled",REFUNDED:"Refunded",PARTIALLY_REFUNDED:"Partially Refunded",DISPUTED:"Disputed",PROCESSING:"Processing"}[t]||t}getStatusColor(t){return{PENDING:"warning",COMPLETED:"success",FAILED:"danger",CANCELLED:"secondary",REFUNDED:"info",PARTIALLY_REFUNDED:"primary",DISPUTED:"warning",PROCESSING:"info"}[t]||"secondary"}getTransactionTypeIcon(t){return{RENTAL_INCOME:"fas fa-car",DEPOSIT:"fas fa-credit-card",LATE_FEE:"fas fa-clock",DAMAGE_FEE:"fas fa-tools",FUEL_FEE:"fas fa-gas-pump",INSURANCE_FEE:"fas fa-shield-alt",ADDITIONAL_DRIVER_FEE:"fas fa-user-plus",MAINTENANCE_COST:"fas fa-wrench",REPAIR_COST:"fas fa-hammer",REFUND:"fas fa-undo",CANCELLATION_FEE:"fas fa-times-circle",ADMINISTRATIVE_FEE:"fas fa-file-invoice",TAX:"fas fa-percentage",DISCOUNT:"fas fa-tag",OTHER_INCOME:"fas fa-plus-circle",OTHER_EXPENSE:"fas fa-minus-circle"}[t]||"fas fa-money-bill"}formatCurrency(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateTime(t){return new Date(t).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}getTransactionTypeOptions(){return[{value:"RENTAL_INCOME",label:"Rental Income",icon:"fas fa-car",color:"success"},{value:"DEPOSIT",label:"Deposit",icon:"fas fa-credit-card",color:"primary"},{value:"LATE_FEE",label:"Late Fee",icon:"fas fa-clock",color:"warning"},{value:"DAMAGE_FEE",label:"Damage Fee",icon:"fas fa-tools",color:"danger"},{value:"FUEL_FEE",label:"Fuel Fee",icon:"fas fa-gas-pump",color:"info"},{value:"INSURANCE_FEE",label:"Insurance Fee",icon:"fas fa-shield-alt",color:"primary"},{value:"ADDITIONAL_DRIVER_FEE",label:"Additional Driver Fee",icon:"fas fa-user-plus",color:"info"},{value:"MAINTENANCE_COST",label:"Maintenance Cost",icon:"fas fa-wrench",color:"warning"},{value:"REPAIR_COST",label:"Repair Cost",icon:"fas fa-hammer",color:"danger"},{value:"REFUND",label:"Refund",icon:"fas fa-undo",color:"success"},{value:"CANCELLATION_FEE",label:"Cancellation Fee",icon:"fas fa-times-circle",color:"secondary"},{value:"ADMINISTRATIVE_FEE",label:"Administrative Fee",icon:"fas fa-file-invoice",color:"info"},{value:"TAX",label:"Tax",icon:"fas fa-percentage",color:"secondary"},{value:"DISCOUNT",label:"Discount",icon:"fas fa-tag",color:"success"},{value:"OTHER_INCOME",label:"Other Income",icon:"fas fa-plus-circle",color:"success"},{value:"OTHER_EXPENSE",label:"Other Expense",icon:"fas fa-minus-circle",color:"danger"}]}getTransactionStatusOptions(){return[{value:"PENDING",label:"Pending",color:"warning"},{value:"COMPLETED",label:"Completed",color:"success"},{value:"FAILED",label:"Failed",color:"danger"},{value:"CANCELLED",label:"Cancelled",color:"secondary"},{value:"REFUNDED",label:"Refunded",color:"info"},{value:"PARTIALLY_REFUNDED",label:"Partially Refunded",color:"primary"},{value:"DISPUTED",label:"Disputed",color:"warning"},{value:"PROCESSING",label:"Processing",color:"info"}]}static \u0275fac=function(e){return new(e||o)(j(Z))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var Nt=class o{constructor(t){this.http=t}apiUrl=X.apiUrl+"/branches";getAllBranches(){return this.http.get(this.apiUrl)}getBranchById(t){return this.http.get(`${this.apiUrl}/${t}`)}getBranchesByCity(t){return this.http.get(`${this.apiUrl}/city/${t}`)}searchBranches(t){return this.http.get(`${this.apiUrl}/search?q=${t}`)}createBranch(t){return this.http.post(this.apiUrl,t)}updateBranch(t,e){return this.http.put(`${this.apiUrl}/${t}`,e)}deleteBranch(t){return this.http.delete(`${this.apiUrl}/${t}`)}static \u0275fac=function(e){return new(e||o)(j(Z))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var Ln=class o{constructor(t){this.http=t}apiUrl=X.apiUrl+"/car-images";uploadImage(t,e,n){let s=new FormData;return s.append("file",e),n?.imageType&&s.append("imageType",n.imageType),n?.isPrimary!==void 0&&s.append("isPrimary",n.isPrimary.toString()),n?.sortOrder!==void 0&&s.append("sortOrder",n.sortOrder.toString()),n?.altText&&s.append("altText",n.altText),n?.caption&&s.append("caption",n.caption),this.http.post(`${this.apiUrl}/${t}/upload`,s)}uploadMultipleImages(t,e,n){let s=e.map((c,d)=>{let f=ji(Re({},n),{sortOrder:(n?.sortOrder||0)+d});return this.uploadImage(t,c,f)});return new $i(c=>{let d=[],f=0;s.forEach(x=>{x.subscribe({next:M=>{d.push(M),f++,f===e.length&&(c.next(d),c.complete())},error:M=>{c.error(M)}})})})}getCarImages(t){return this.http.get(`${this.apiUrl}/${t}`)}getPrimaryImage(t){return this.http.get(`${this.apiUrl}/${t}/primary`)}getGalleryImages(t){return this.http.get(`${this.apiUrl}/${t}/gallery`)}updateImage(t,e,n){return this.http.put(`${this.apiUrl}/${t}/${e}`,n)}deleteImage(t,e){return this.http.delete(`${this.apiUrl}/${t}/${e}`)}setPrimaryImage(t,e){return this.http.put(`${this.apiUrl}/${t}/${e}/primary`,{})}reorderImages(t,e){return this.http.put(`${this.apiUrl}/${t}/reorder`,e)}getImageCount(t){return this.http.get(`${this.apiUrl}/${t}/count`)}getPrimaryImageCount(t){return this.http.get(`${this.apiUrl}/${t}/primary-count`)}getImageUrl(t){return`${X.baseUrl}${t}`}validateFile(t){let n=["image/jpeg","image/jpg","image/png","image/webp"];return t.size>5242880?{valid:!1,message:"File size must be less than 5MB"}:n.includes(t.type)?{valid:!0}:{valid:!1,message:"Only JPEG, PNG, and WebP images are allowed"}}static \u0275fac=function(e){return new(e||o)(j(Z))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var sc=()=>[];function lc(o,t){if(o&1){let e=y();r(0,"div",165),b("click",function(){u(e);let s=p();return h(s.scrollLeft())}),g(1,"i",166),i()}}function cc(o,t){if(o&1){let e=y();r(0,"div",167),b("click",function(){u(e);let s=p();return h(s.scrollRight())}),g(1,"i",168),i()}}function dc(o,t){o&1&&(r(0,"div",169)(1,"div",170)(2,"span",171),a(3,"Loading..."),i()(),r(4,"p",172),a(5,"Loading dashboard data..."),i()())}function mc(o,t){if(o&1){let e=y();r(0,"div",173),g(1,"i",174),a(2),r(3,"div",175)(4,"button",176),b("click",function(){u(e);let s=p();return h(s.retryLoadData())}),g(5,"i",177),a(6,"Retry All Data "),i(),r(7,"button",178),b("click",function(){u(e);let s=p();return h(s.clearError())}),g(8,"i",158),a(9,"Dismiss "),i()()()}if(o&2){let e=p();l(2),C(" ",e.error," ")}}function gc(o,t){if(o&1&&(r(0,"div",179)(1,"div",180)(2,"div",181)(3,"div",182)(4,"div",183)(5,"div",184),g(6,"i",185),i(),r(7,"h3",186),a(8),i(),r(9,"p",187),a(10,"Total Cars"),i(),r(11,"small",144),a(12),i()()()(),r(13,"div",181)(14,"div",188)(15,"div",183)(16,"div",184),g(17,"i",189),i(),r(18,"h3",186),a(19),i(),r(20,"p",187),a(21,"Total Users"),i(),r(22,"small",144),a(23),i()()()(),r(24,"div",181)(25,"div",190)(26,"div",183)(27,"div",184),g(28,"i",191),i(),r(29,"h3",186),a(30),i(),r(31,"p",187),a(32,"Total Bookings"),i(),r(33,"small",144),a(34),i()()()(),r(35,"div",181)(36,"div",192)(37,"div",183)(38,"div",184),g(39,"i",193),i(),r(40,"h3",186),a(41),i(),r(42,"p",187),a(43,"Total Revenue"),i(),r(44,"small",144),a(45),i()()()()(),r(46,"div",180)(47,"div",194)(48,"div",195)(49,"div",196)(50,"h5",197),g(51,"i",15),a(52,"Performance Metrics "),i()(),r(53,"div",198)(54,"div",60)(55,"div",199)(56,"div",200)(57,"span",201),a(58,"Fleet Utilization"),i(),r(59,"span",202),a(60),i()()(),r(61,"div",199)(62,"div",200)(63,"span",201),a(64,"Avg Booking Value"),i(),r(65,"span",202),a(66),i()()()(),r(67,"div",203)(68,"div",199)(69,"div",200)(70,"span",201),a(71,"Active Bookings"),i(),r(72,"span",204),a(73),i()()(),r(74,"div",199)(75,"div",200)(76,"span",201),a(77,"Completed Bookings"),i(),r(78,"span",205),a(79),i()()()()()()(),r(80,"div",194)(81,"div",195)(82,"div",196)(83,"h5",197),g(84,"i",206),a(85,"Booking Status Distribution "),i()(),r(86,"div",198)(87,"div",207)(88,"div",208),g(89,"span",209),r(90,"span",210),a(91),i()(),r(92,"div",208),g(93,"span",211),r(94,"span",210),a(95),i()(),r(96,"div",208),g(97,"span",212),r(98,"span",210),a(99),i()()()()()()()()),o&2){let e=p();l(8),v(e.dashboardStats.totalCars),l(4),C("",e.dashboardStats.availableCars," available"),l(7),v(e.dashboardStats.totalUsers),l(4),C("",e.dashboardStats.newUsersThisMonth," new this month"),l(7),v(e.dashboardStats.totalBookings),l(4),C("",e.dashboardStats.recentBookings," recent"),l(7),v(e.formatCurrency(e.dashboardStats.totalRevenue)),l(4),C("",e.formatCurrency(e.dashboardStats.monthlyRevenue)," this month"),l(14),$(e.getUtilizationColor(e.dashboardStats.fleetUtilizationRate)),l(),C(" ",e.formatPercentage(e.dashboardStats.fleetUtilizationRate)," "),l(6),v(e.formatCurrency(e.dashboardStats.averageBookingValue)),l(7),v(e.dashboardStats.activeBookings),l(6),v(e.dashboardStats.completedBookings),l(12),C("Active: ",e.dashboardStats.activeBookings,""),l(4),C("Completed: ",e.dashboardStats.completedBookings,""),l(4),C("Cancelled: ",e.dashboardStats.cancelledBookings,"")}}function pc(o,t){o&1&&(r(0,"div",220)(1,"div",221)(2,"span",171),a(3,"Loading..."),i()(),r(4,"p",222),a(5,"Loading users..."),i()())}function fc(o,t){if(o&1){let e=y();r(0,"tr")(1,"td"),a(2),i(),r(3,"td")(4,"div",226)(5,"div",227),g(6,"i",228),i(),r(7,"span"),a(8),i()()(),r(9,"td"),a(10),i(),r(11,"td")(12,"span",229),a(13),i()(),r(14,"td")(15,"span",230),a(16,"Active"),i()(),r(17,"td")(18,"div",231)(19,"button",232),b("click",function(){let s=u(e).$implicit,c=p(3);return h(c.openUserModal(s))}),g(20,"i",233),i(),r(21,"button",234),b("click",function(){let s=u(e).$implicit,c=p(3);return h(c.deleteUser(s.id))}),g(22,"i",235),i()()()()}if(o&2){let e=t.$implicit,n=p(3);l(2),v(e.id),l(6),v(e.fullName),l(2),v(e.email),l(2),$(n.getRoleColor(e.role)),l(),C(" ",e.role," ")}}function uc(o,t){if(o&1&&(r(0,"div",223)(1,"table",224)(2,"thead")(3,"tr")(4,"th"),a(5,"ID"),i(),r(6,"th"),a(7,"Name"),i(),r(8,"th"),a(9,"Email"),i(),r(10,"th"),a(11,"Role"),i(),r(12,"th"),a(13,"Status"),i(),r(14,"th"),a(15,"Actions"),i()()(),r(16,"tbody"),_(17,fc,23,6,"tr",225),i()()()),o&2){let e=p(2);l(17),m("ngForOf",e.paginatedUsers)}}function hc(o,t){if(o&1){let e=y();r(0,"div",220),g(1,"i",236),r(2,"h5",144),a(3,"No Users Found"),i(),r(4,"p",144),a(5,"Start by adding your first user."),i(),r(6,"button",215),b("click",function(){u(e);let s=p(2);return h(s.openUserModal())}),g(7,"i",216),a(8,"Add First User "),i()()}}function _c(o,t){if(o&1){let e=y();r(0,"li",238)(1,"button",239),b("click",function(){let s=u(e).index,c=p(3);return h(c.changePage(s+1))}),a(2),i()()}if(o&2){let e=t.index,n=p(3);w("active",n.currentPage===e+1),l(2),v(e+1)}}function bc(o,t){if(o&1){let e=y();r(0,"nav")(1,"ul",237)(2,"li",238)(3,"button",239),b("click",function(){u(e);let s=p(2);return h(s.changePage(s.currentPage-1))}),a(4,"Previous"),i()(),_(5,_c,3,3,"li",240),r(6,"li",238)(7,"button",239),b("click",function(){u(e);let s=p(2);return h(s.changePage(s.currentPage+1))}),a(8,"Next"),i()()()()}if(o&2){let e=p(2);l(2),w("disabled",e.currentPage===1),l(3),m("ngForOf",tr(5,sc).constructor(e.totalPages)),l(),w("disabled",e.currentPage===e.totalPages)}}function vc(o,t){if(o&1){let e=y();r(0,"div",179)(1,"div",213)(2,"div",214)(3,"h5",197),g(4,"i",16),a(5,"User Management "),i(),r(6,"button",215),b("click",function(){u(e);let s=p();return h(s.openUserModal())}),g(7,"i",216),a(8,"Add User "),i()(),r(9,"div",198),_(10,pc,6,0,"div",217)(11,uc,18,1,"div",218)(12,hc,9,0,"div",217)(13,bc,9,6,"nav",219),i()()()}if(o&2){let e=p();l(10),m("ngIf",e.users.length===0&&!e.error),l(),m("ngIf",e.users.length>0),l(),m("ngIf",e.users.length===0&&!e.error),l(),m("ngIf",e.totalPages>1)}}function Cc(o,t){o&1&&(r(0,"div",220)(1,"div",221)(2,"span",171),a(3,"Loading..."),i()(),r(4,"p",222),a(5,"Loading cars..."),i()())}function xc(o,t){if(o&1){let e=y();r(0,"tr")(1,"td"),a(2),i(),r(3,"td")(4,"div",226)(5,"div",241),g(6,"i",242),i(),r(7,"div")(8,"div",243),a(9),i(),r(10,"small",144),a(11),i()()()(),r(12,"td"),a(13),i(),r(14,"td"),a(15),i(),r(16,"td")(17,"span",229),a(18),i()(),r(19,"td")(20,"div",231)(21,"button",244),b("click",function(){let s=u(e).$implicit,c=p(3);return h(c.openCarModal(s))}),g(22,"i",233),i(),r(23,"button",245),b("click",function(){let s=u(e).$implicit,c=p(3);return h(c.deleteCar(s.id))}),g(24,"i",235),i()()()()}if(o&2){let e=t.$implicit,n=p(3);l(2),v(e.id),l(7),F("",e.brand," ",e.model,""),l(2),v(e.type),l(2),v(e.year),l(2),v(n.formatCurrency(e.price)),l(2),$(e.availability?"bg-success":"bg-danger"),l(),C(" ",e.availability?"Available":"Unavailable"," ")}}function Mc(o,t){if(o&1&&(r(0,"div",223)(1,"table",224)(2,"thead")(3,"tr")(4,"th"),a(5,"ID"),i(),r(6,"th"),a(7,"Car"),i(),r(8,"th"),a(9,"Year"),i(),r(10,"th"),a(11,"Price/Day"),i(),r(12,"th"),a(13,"Status"),i(),r(14,"th"),a(15,"Actions"),i()()(),r(16,"tbody"),_(17,xc,25,9,"tr",225),i()()()),o&2){let e=p(2);l(17),m("ngForOf",e.cars)}}function Pc(o,t){if(o&1){let e=y();r(0,"div",220),g(1,"i",246),r(2,"h5",144),a(3,"No Cars Found"),i(),r(4,"p",144),a(5,"Start by adding your first car to the fleet."),i(),r(6,"button",215),b("click",function(){u(e);let s=p(2);return h(s.openCarModal())}),g(7,"i",216),a(8,"Add First Car "),i()()}}function yc(o,t){if(o&1){let e=y();r(0,"div",179)(1,"div",213)(2,"div",214)(3,"h5",197),g(4,"i",17),a(5,"Car Management "),i(),r(6,"button",215),b("click",function(){u(e);let s=p();return h(s.openCarModal())}),g(7,"i",216),a(8,"Add Car "),i()(),r(9,"div",198),_(10,Cc,6,0,"div",217)(11,Mc,18,1,"div",218)(12,Pc,9,0,"div",217),i()()()}if(o&2){let e=p();l(10),m("ngIf",e.cars.length===0&&!e.error),l(),m("ngIf",e.cars.length>0),l(),m("ngIf",e.cars.length===0&&!e.error)}}function Oc(o,t){if(o&1){let e=y();r(0,"tr")(1,"td"),a(2),i(),r(3,"td"),a(4),i(),r(5,"td"),a(6),i(),r(7,"td"),a(8),i(),r(9,"td"),a(10),i(),r(11,"td")(12,"span",229),a(13),i()(),r(14,"td")(15,"button",247),b("click",function(){let s=u(e).$implicit,c=p(2);return h(c.openBookingModal(s))}),g(16,"i",248),i()()()}if(o&2){let e=t.$implicit,n=p(2);l(2),v(e.id),l(2),v(e.userFullName),l(2),F("",e.carBrand," ",e.carModel,""),l(2),v(n.formatDate(e.startDate)),l(2),v(n.formatDate(e.endDate)),l(2),$(n.getStatusColor(e.status)),l(),C(" ",e.status," ")}}function Sc(o,t){if(o&1&&(r(0,"div",179)(1,"div",213)(2,"div",196)(3,"h5",197),g(4,"i",18),a(5,"Booking Management "),i()(),r(6,"div",198)(7,"div",223)(8,"table",224)(9,"thead")(10,"tr")(11,"th"),a(12,"ID"),i(),r(13,"th"),a(14,"User"),i(),r(15,"th"),a(16,"Car"),i(),r(17,"th"),a(18,"Start Date"),i(),r(19,"th"),a(20,"End Date"),i(),r(21,"th"),a(22,"Status"),i(),r(23,"th"),a(24,"Actions"),i()()(),r(25,"tbody"),_(26,Oc,17,9,"tr",225),i()()()()()()),o&2){let e=p();l(26),m("ngForOf",e.bookings)}}function wc(o,t){if(o&1&&(r(0,"div",198)(1,"div",253)(2,"div",254)(3,"span",255),a(4,"Total Revenue"),i(),r(5,"span",256),a(6),i()(),r(7,"div",254)(8,"span",255),a(9,"Total Expenses"),i(),r(10,"span",256),a(11),i()(),r(12,"div",254)(13,"span",255),a(14,"Net Profit"),i(),r(15,"span",257),a(16),i()(),r(17,"div",254)(18,"span",255),a(19,"Profit Margin"),i(),r(20,"span",256),a(21),i()()()()),o&2){let e=p(2);l(6),v(e.formatCurrency(e.financialReport.totalRevenue)),l(5),v(e.formatCurrency(e.financialReport.totalExpenses)),l(5),v(e.formatCurrency(e.financialReport.netProfit)),l(5),C("",e.financialReport.profitMargin.toFixed(2),"%")}}function Ec(o,t){if(o&1&&(r(0,"tr")(1,"td"),a(2),i(),r(3,"td"),a(4),i(),r(5,"td")(6,"span",229),a(7),i()(),r(8,"td"),a(9),i()()),o&2){let e=t.$implicit,n=p(2);l(2),v(e.transactionType),l(2),v(n.formatCurrency(e.amount)),l(2),$(n.getStatusColor(e.status)),l(),C(" ",e.status," "),l(2),v(n.formatDate(e.transactionDate))}}function kc(o,t){if(o&1&&(r(0,"div",179)(1,"div",60)(2,"div",194)(3,"div",213)(4,"div",196)(5,"h5",197),g(6,"i",249),a(7,"Financial Summary "),i()(),_(8,wc,22,4,"div",250),i()(),r(9,"div",194)(10,"div",213)(11,"div",196)(12,"h5",197),g(13,"i",251),a(14,"Recent Transactions "),i()(),r(15,"div",198)(16,"div",223)(17,"table",252)(18,"thead")(19,"tr")(20,"th"),a(21,"Type"),i(),r(22,"th"),a(23,"Amount"),i(),r(24,"th"),a(25,"Status"),i(),r(26,"th"),a(27,"Date"),i()()(),r(28,"tbody"),_(29,Ec,10,6,"tr",225),i()()()()()()()()),o&2){let e=p();l(8),m("ngIf",e.financialReport),l(21),m("ngForOf",e.financialTransactions.slice(0,5))}}function Ic(o,t){if(o&1){let e=y();r(0,"tr")(1,"td"),a(2),i(),r(3,"td"),a(4),i(),r(5,"td"),a(6),i(),r(7,"td"),a(8),i(),r(9,"td")(10,"span",259),a(11),i()(),r(12,"td")(13,"button",260),b("click",function(){let s=u(e).$implicit,c=p(2);return h(c.openBranchModal(s))}),g(14,"i",233),i(),r(15,"button",261),b("click",function(){let s=u(e).$implicit,c=p(2);return h(c.deleteBranch(s.id))}),g(16,"i",235),i()()()}if(o&2){let e=t.$implicit;l(2),v(e.id),l(2),v(e.name),l(2),v(e.city),l(2),v(e.address),l(3),C("",e.carCount," cars")}}function Tc(o,t){if(o&1){let e=y();r(0,"div",179)(1,"div",213)(2,"div",258)(3,"h5",197),g(4,"i",20),a(5,"Branch Management "),i(),r(6,"button",215),b("click",function(){u(e);let s=p();return h(s.openBranchModal())}),g(7,"i",216),a(8,"Add Branch "),i()(),r(9,"div",198)(10,"div",223)(11,"table",224)(12,"thead")(13,"tr")(14,"th"),a(15,"ID"),i(),r(16,"th"),a(17,"Name"),i(),r(18,"th"),a(19,"City"),i(),r(20,"th"),a(21,"Address"),i(),r(22,"th"),a(23,"Cars"),i(),r(24,"th"),a(25,"Actions"),i()()(),r(26,"tbody"),_(27,Ic,17,5,"tr",225),i()()()()()()}if(o&2){let e=p();l(27),m("ngForOf",e.branches)}}function Fc(o,t){if(o&1&&(r(0,"option",262),a(1),i()),o&2){let e=t.$implicit;m("value",e.id),l(),F(" ",e.name," - ",e.city," ")}}function Rc(o,t){if(o&1&&(r(0,"div",263)(1,"div",264),g(2,"div",265),i(),r(3,"small",144),a(4),i()()),o&2){let e=p();l(2),ge("width",e.uploadProgress,"%"),l(2),C("Uploading... ",e.uploadProgress,"%")}}function Dc(o,t){if(o&1){let e=y();r(0,"div",268),g(1,"img",269),r(2,"div",270)(3,"small"),a(4),i(),r(5,"small",144),a(6),i()(),r(7,"button",271),b("click",function(){let s=u(e).index,c=p(2);return h(c.removeFile(s))}),g(8,"i",52),i()()}if(o&2){let e=t.$implicit,n=p(2);l(),m("src",n.getFilePreview(e),ne),l(3),v(e.name),l(2),v(n.formatFileSize(e.size))}}function Ac(o,t){if(o&1&&(r(0,"div",175)(1,"h6"),a(2),i(),r(3,"div",266),_(4,Dc,9,3,"div",267),i()()),o&2){let e=p();l(2),C("Selected Files (",e.selectedFiles.length,")"),l(2),m("ngForOf",e.selectedFiles)}}function Nc(o,t){o&1&&(r(0,"div",280)(1,"span",281),a(2,"Primary"),i()())}function Bc(o,t){if(o&1){let e=y();r(0,"div",274),g(1,"img",275),r(2,"div",276)(3,"div",277)(4,"button",278),b("click",function(){let s=u(e).$implicit,c=p(2);return h(c.setPrimaryImage(s.id))}),g(5,"i",119),i(),r(6,"button",271),b("click",function(){let s=u(e).$implicit,c=p(2);return h(c.deleteImage(s.id))}),g(7,"i",235),i()(),_(8,Nc,3,0,"div",279),i()()}if(o&2){let e=t.$implicit,n=p(2);l(),m("src",n.getImageUrl(e.filePath),ne)("alt",e.altText||"Car image"),l(3),m("disabled",e.isPrimary),l(4),m("ngIf",e.isPrimary)}}function Lc(o,t){if(o&1&&(r(0,"div",175)(1,"h6"),a(2),i(),r(3,"div",272),_(4,Bc,9,4,"div",273),i()()),o&2){let e=p();l(2),C("Existing Images (",e.carImages.length,")"),l(2),m("ngForOf",e.carImages)}}function Vc(o,t){o&1&&(r(0,"div",280)(1,"span",281),a(2,"Primary"),i()())}function Uc(o,t){if(o&1){let e=y();r(0,"div",274),g(1,"img",275),r(2,"div",276)(3,"div",277)(4,"button",278),b("click",function(){let s=u(e).$implicit,c=p(2);return h(c.setPrimaryImage(s.id))}),g(5,"i",119),i(),r(6,"button",271),b("click",function(){let s=u(e).$implicit,c=p(2);return h(c.deleteImage(s.id))}),g(7,"i",235),i()(),_(8,Vc,3,0,"div",279),i()()}if(o&2){let e=t.$implicit,n=p(2);l(),m("src",n.getImageUrl(e.filePath),ne)("alt",e.altText||"Car image"),l(3),m("disabled",e.isPrimary),l(4),m("ngIf",e.isPrimary)}}function zc(o,t){if(o&1&&(r(0,"div",175)(1,"h6"),a(2),i(),r(3,"div",272),_(4,Uc,9,4,"div",273),i()()),o&2){let e=p();l(2),C("Existing Images (",e.carImages.length,")"),l(2),m("ngForOf",e.carImages)}}function jc(o,t){if(o&1&&(r(0,"div",31)(1,"div",282)(2,"p")(3,"strong"),a(4,"User:"),i(),a(5),i(),r(6,"p")(7,"strong"),a(8,"Car:"),i(),a(9),i(),r(10,"p")(11,"strong"),a(12,"Start Date:"),i(),a(13),i(),r(14,"p")(15,"strong"),a(16,"End Date:"),i(),a(17),i(),r(18,"p")(19,"strong"),a(20,"Status:"),i(),r(21,"span",229),a(22),i()()(),r(23,"div",175)(24,"label",33),a(25,"Update Status"),i(),r(26,"select",283,2)(28,"option",284),a(29,"Active"),i(),r(30,"option",285),a(31,"Completed"),i(),r(32,"option",286),a(33,"Cancelled"),i()()()()),o&2){let e=p();l(5),C(" ",e.selectedBooking.userFullName,""),l(4),F(" ",e.selectedBooking.carBrand," ",e.selectedBooking.carModel,""),l(4),C(" ",e.formatDate(e.selectedBooking.startDate),""),l(4),C(" ",e.formatDate(e.selectedBooking.endDate),""),l(4),$(e.getStatusColor(e.selectedBooking.status)),l(),C(" ",e.selectedBooking.status," ")}}var Vn=class o{constructor(t,e,n,s,c,d,f){this.dashboardService=t;this.userService=e;this.carService=n;this.bookingService=s;this.financialService=c;this.branchService=d;this.carImageService=f}dashboardStats=null;isLoading=!0;error=null;activeTab="overview";users=[];selectedUser=null;isUserModalOpen=!1;userForm={};cars=[];selectedCar=null;isCarModalOpen=!1;carForm={};branches=[];selectedFiles=[];carImages=[];uploadProgress=0;isDragOver=!1;selectedBranch=null;isBranchModalOpen=!1;branchForm={};bookings=[];selectedBooking=null;isBookingModalOpen=!1;statusSelect;financialTransactions=[];financialReport=null;currentPage=1;itemsPerPage=10;totalItems=0;canScrollLeft=!1;canScrollRight=!1;ngOnInit(){this.loadDashboardStats(),this.loadUsers(),this.loadCars(),this.loadBookings(),this.loadFinancialData(),this.loadBranches(),setTimeout(()=>{this.checkScrollPosition(),this.setupScrollListener()},100)}loadDashboardStats(){this.isLoading=!0,this.error=null,this.dashboardService.getAdminDashboard().subscribe({next:t=>{this.dashboardStats=t,this.isLoading=!1},error:t=>{console.error("Error loading dashboard stats:",t),this.error="Failed to load dashboard statistics. Please check your connection and try again.",this.isLoading=!1}})}loadUsers(){this.userService.getAllUsers().subscribe({next:t=>{this.users=t,this.totalItems=t.length},error:t=>{console.error("Error loading users:",t),this.error="Failed to load users. Please try again."}})}openUserModal(t){this.selectedUser=t||null,this.userForm=t?Re({},t):{},this.isUserModalOpen=!0}closeUserModal(){this.isUserModalOpen=!1,this.selectedUser=null,this.userForm={}}saveUser(){this.selectedUser?this.userService.updateUser(this.selectedUser.id,this.userForm).subscribe({next:()=>{this.loadUsers(),this.closeUserModal(),this.showSuccessMessage("User updated successfully!")},error:t=>{console.error("Error updating user:",t),this.showErrorMessage("Failed to update user. Please try again.")}}):this.userService.createUser(this.userForm).subscribe({next:()=>{this.loadUsers(),this.closeUserModal(),this.showSuccessMessage("User created successfully!")},error:t=>{console.error("Error creating user:",t),this.showErrorMessage("Failed to create user. Please try again.")}})}deleteUser(t){confirm("Are you sure you want to delete this user?")&&this.userService.deleteUser(t).subscribe({next:()=>{this.loadUsers()},error:e=>{console.error("Error deleting user:",e)}})}loadCars(){this.carService.getAllCars().subscribe({next:t=>{this.cars=t},error:t=>{console.error("Error loading cars:",t),this.error="Failed to load cars. Please try again."}})}loadBranches(){this.branchService.getAllBranches().subscribe({next:t=>{this.branches=t},error:t=>{console.error("Error loading branches:",t)}})}openCarModal(t){this.selectedCar=t||null,t?(this.carForm=Re({},t),this.loadCarImages(t.id)):(this.carForm={availability:!0,isFeatured:!1,isNewArrival:!1,isPopular:!1,insuranceIncluded:!1,maintenanceIncluded:!1,unlimitedMileage:!1,minimumRentalDays:1,maximumRentalDays:30,ageRequirement:21,additionalDriverFee:0,lateReturnFee:0,earlyReturnDiscount:0},this.carImages=[]),this.isCarModalOpen=!0,this.selectedFiles=[],this.uploadProgress=0,setTimeout(()=>{let e=document.querySelector(".modal-body");e&&(e.scrollTop=0)},100)}closeCarModal(){this.isCarModalOpen=!1,this.selectedCar=null,this.carForm={},this.selectedFiles=[],this.carImages=[],this.uploadProgress=0}loadCarImages(t){this.carImageService.getCarImages(t).subscribe({next:e=>{this.carImages=e},error:e=>{console.error("Error loading car images:",e)}})}onFileSelected(t){let e=Array.from(t.target.files);this.addFiles(e)}onDragOver(t){t.preventDefault(),this.isDragOver=!0}onDragLeave(t){t.preventDefault(),this.isDragOver=!1}onDrop(t){t.preventDefault(),this.isDragOver=!1;let e=Array.from(t.dataTransfer?.files||[]);this.addFiles(e)}addFiles(t){t.forEach(e=>{let n=this.carImageService.validateFile(e);n.valid?this.selectedFiles.push(e):alert(n.message)})}removeFile(t){this.selectedFiles.splice(t,1)}getFilePreview(t){return URL.createObjectURL(t)}formatFileSize(t){if(t===0)return"0 Bytes";let e=1024,n=["Bytes","KB","MB","GB"],s=Math.floor(Math.log(t)/Math.log(e));return parseFloat((t/Math.pow(e,s)).toFixed(2))+" "+n[s]}getImageUrl(t){return this.carImageService.getImageUrl(t)}uploadImages(){if(this.selectedFiles.length===0||!this.selectedCar)return;this.uploadProgress=0;let t=this.selectedFiles.length,e=0;this.carImageService.uploadMultipleImages(this.selectedCar.id,this.selectedFiles).subscribe({next:n=>{e++,this.uploadProgress=e/t*100,e===t&&(this.selectedFiles=[],this.loadCarImages(this.selectedCar.id),this.uploadProgress=0)},error:n=>{console.error("Error uploading images:",n),alert("Error uploading images. Please try again."),this.uploadProgress=0}})}deleteImage(t){this.selectedCar&&confirm("Are you sure you want to delete this image?")&&this.carImageService.deleteImage(this.selectedCar.id,t).subscribe({next:()=>{this.loadCarImages(this.selectedCar.id)},error:e=>{console.error("Error deleting image:",e),alert("Error deleting image. Please try again.")}})}setPrimaryImage(t){this.selectedCar&&this.carImageService.setPrimaryImage(this.selectedCar.id,t).subscribe({next:()=>{this.loadCarImages(this.selectedCar.id)},error:e=>{console.error("Error setting primary image:",e),alert("Error setting primary image. Please try again.")}})}saveCar(){let e=["brand","model","year","type","price","branchId"].filter(n=>!this.carForm[n]);if(e.length>0){let n=e.map(s=>s.charAt(0).toUpperCase()+s.slice(1)).join(", ");alert(`Please fill in all required fields: ${n}`);return}if(this.carForm.price<=0){alert("Price must be greater than 0");return}if(this.carForm.year<1900||this.carForm.year>new Date().getFullYear()+1){alert("Please enter a valid year");return}this.selectedCar?this.carService.updateCar(this.selectedCar.id,this.carForm).subscribe({next:()=>{this.loadCars(),this.closeCarModal(),this.showSuccessMessage("Car updated successfully!")},error:n=>{console.error("Error updating car:",n),this.showErrorMessage("Failed to update car. Please try again.")}}):this.carService.createCar(this.carForm).subscribe({next:n=>{this.loadCars(),this.selectedFiles.length>0&&(this.selectedCar=n,this.uploadImages()),this.closeCarModal(),this.showSuccessMessage("Car created successfully!")},error:n=>{console.error("Error creating car:",n),this.showErrorMessage("Failed to create car. Please try again.")}})}deleteCar(t){confirm("Are you sure you want to delete this car?")&&this.carService.deleteCar(t).subscribe({next:()=>{this.loadCars()},error:e=>{console.error("Error deleting car:",e)}})}openBranchModal(t){this.selectedBranch=t||null,this.branchForm=t?Re({},t):{},this.isBranchModalOpen=!0}closeBranchModal(){this.isBranchModalOpen=!1,this.selectedBranch=null,this.branchForm={}}saveBranch(){if(!this.branchForm.name||!this.branchForm.city||!this.branchForm.address){alert("Please fill in all required fields: Name, City, and Address");return}this.selectedBranch?this.branchService.updateBranch(this.selectedBranch.id,this.branchForm).subscribe({next:()=>{this.loadBranches(),this.closeBranchModal()},error:t=>{console.error("Error updating branch:",t),alert("Error updating branch. Please check the console for details.")}}):this.branchService.createBranch(this.branchForm).subscribe({next:()=>{this.loadBranches(),this.closeBranchModal()},error:t=>{console.error("Error creating branch:",t),alert("Error creating branch. Please check the console for details.")}})}deleteBranch(t){confirm("Are you sure you want to delete this branch?")&&this.branchService.deleteBranch(t).subscribe({next:()=>{this.loadBranches()},error:e=>{console.error("Error deleting branch:",e)}})}loadBookings(){this.bookingService.getAllBookings().subscribe({next:t=>{this.bookings=t},error:t=>{console.error("Error loading bookings:",t)}})}openBookingModal(t){this.selectedBooking=t,this.isBookingModalOpen=!0}closeBookingModal(){this.isBookingModalOpen=!1,this.selectedBooking=null}updateBookingStatus(t,e){this.bookingService.updateBooking(t,{status:e}).subscribe({next:()=>{this.loadBookings(),this.closeBookingModal()},error:n=>{console.error("Error updating booking status:",n)}})}loadFinancialData(){this.financialService.getCurrentMonthReport().subscribe({next:t=>{this.financialReport=t},error:t=>{console.error("Error loading financial report:",t)}}),this.financialService.searchTransactions({}).subscribe({next:t=>{this.financialTransactions=t.content||[]},error:t=>{console.error("Error loading financial transactions:",t)}})}switchTab(t){this.activeTab=t,this.error=null}clearError(){this.error=null}retryLoadData(){this.error=null,this.loadDashboardStats(),this.loadUsers(),this.loadCars(),this.loadBookings(),this.loadFinancialData(),this.loadBranches()}showSuccessMessage(t){alert(t)}showErrorMessage(t){this.error=t}checkScrollPosition(){let t=document.querySelector(".nav-tabs-container");t&&(this.canScrollLeft=t.scrollLeft>0,this.canScrollRight=t.scrollLeft<t.scrollWidth-t.clientWidth)}scrollLeft(){let t=document.querySelector(".nav-tabs-container");t&&(t.scrollBy({left:-200,behavior:"smooth"}),setTimeout(()=>this.checkScrollPosition(),300))}scrollRight(){let t=document.querySelector(".nav-tabs-container");t&&(t.scrollBy({left:200,behavior:"smooth"}),setTimeout(()=>this.checkScrollPosition(),300))}setupScrollListener(){let t=document.querySelector(".nav-tabs-container");t&&t.addEventListener("scroll",()=>{this.checkScrollPosition()}),window.addEventListener("resize",()=>{setTimeout(()=>{this.checkScrollPosition()},100)})}formatCurrency(t){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(t)}formatPercentage(t){return`${t.toFixed(1)}%`}formatDate(t){return new Date(t).toLocaleDateString()}getUtilizationColor(t){return t>=80?"text-success":t>=60?"text-warning":"text-danger"}getStatusColor(t){switch(t){case"ACTIVE":return"text-success";case"COMPLETED":return"text-info";case"CANCELLED":return"text-danger";case"PENDING":return"text-warning";default:return"text-muted"}}getRoleColor(t){switch(t){case"ADMIN":return"text-danger";case"MANAGER":return"text-warning";case"CUSTOMER":return"text-info";default:return"text-muted"}}get paginatedUsers(){let t=(this.currentPage-1)*this.itemsPerPage,e=t+this.itemsPerPage;return this.users.slice(t,e)}get totalPages(){return Math.ceil(this.totalItems/this.itemsPerPage)}changePage(t){this.currentPage=t}static \u0275fac=function(e){return new(e||o)(P(At),P(pr),P(_e),P(Le),P(gt),P(Nt),P(Ln))};static \u0275cmp=A({type:o,selectors:[["app-admin-dashboard"]],decls:493,vars:103,consts:[["navTabs",""],["fileInput",""],["statusSelect",""],[1,"admin-dashboard"],[1,"container-fluid","py-4"],[1,"dashboard-header","text-center","mb-4","fade-in"],[1,"display-5","fw-bold","text-white","mb-3"],[1,"fas","fa-tachometer-alt","me-3"],[1,"lead","text-white-50"],[1,"nav-tabs-section","mb-4"],[1,"nav-tabs-container"],["class","scroll-indicator left",3,"click",4,"ngIf"],[1,"nav","nav-tabs","nav-fill","admin-nav-tabs"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-chart-line","me-2"],[1,"fas","fa-users","me-2"],[1,"fas","fa-car","me-2"],[1,"fas","fa-calendar-check","me-2"],[1,"fas","fa-dollar-sign","me-2"],[1,"fas","fa-building","me-2"],["class","scroll-indicator right",3,"click",4,"ngIf"],["class","text-center py-5",4,"ngIf"],["class","alert alert-danger text-center","role","alert",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[1,"modal","fade"],[1,"modal-dialog"],[1,"modal-content"],[1,"modal-header"],[1,"modal-title"],["type","button",1,"btn-close",3,"click"],[1,"modal-body"],[1,"mb-3"],[1,"form-label"],["type","text","name","fullName",1,"form-control",3,"ngModelChange","ngModel"],["type","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["name","role",1,"form-select",3,"ngModelChange","ngModel"],["value","CUSTOMER"],["value","MANAGER"],["value","ADMIN"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-primary",3,"click"],[1,"modal-dialog","modal-fullscreen-lg-down","modal-xl"],[1,"modal-content","modern-modal"],[1,"modal-header","modern-header"],[1,"header-content"],[1,"title-section"],[1,"fas","fa-car","me-3"],[1,"modal-title","mb-0"],[1,"header-subtitle","mb-0"],["type","button",1,"btn-close","modern-close",3,"click"],[1,"fas","fa-times"],[1,"form-section","modern-section","mb-4"],[1,"section-header"],[1,"section-icon"],[1,"fas","fa-info-circle"],[1,"section-info"],[1,"section-title"],[1,"section-description"],[1,"row"],[1,"col-md-6","mb-3"],[1,"text-danger"],["type","text","name","brand","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","model","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-md-4","mb-3"],["type","number","name","year","min","1900","max","2030","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","type","required","",1,"form-select",3,"ngModelChange","ngModel"],["value",""],["value","SEDAN"],["value","SUV"],["value","HATCHBACK"],["value","COUPE"],["value","CONVERTIBLE"],["value","WAGON"],["value","PICKUP"],["value","VAN"],["value","LUXURY"],["value","SPORTS"],["type","text","name","color","placeholder","e.g., Red, Blue, White",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","price","min","0","step","0.01","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","branchId","required","",1,"form-select",3,"ngModelChange","ngModel"],[3,"value",4,"ngFor","ngForOf"],[1,"form-check"],["type","checkbox","name","availability",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"form-check-label"],[1,"fas","fa-cogs"],["name","fuelType",1,"form-select",3,"ngModelChange","ngModel"],["value","GASOLINE"],["value","DIESEL"],["value","HYBRID"],["value","ELECTRIC"],["value","PLUGIN_HYBRID"],["value","HYDROGEN"],["name","transmission",1,"form-select",3,"ngModelChange","ngModel"],["value","MANUAL"],["value","AUTOMATIC"],["value","CVT"],["value","SEMI_AUTOMATIC"],["type","text","name","engineSize","placeholder","e.g., 2.0L, 3.5L",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","horsepower","min","0","placeholder","HP",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","torque","min","0","placeholder","lb-ft",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","seatingCapacity","min","2","max","15","placeholder","2-15",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","mileage","min","0","placeholder","Current mileage",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","fuelTankCapacity","min","0","step","0.1","placeholder","Liters",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-tachometer-alt"],[1,"col-md-3","mb-3"],["type","number","name","acceleration0To60","min","0","step","0.1","placeholder","Seconds",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","topSpeed","min","0","placeholder","mph",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","fuelEfficiencyCity","min","0","step","0.1","placeholder","mpg",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","fuelEfficiencyHighway","min","0","step","0.1","placeholder","mpg",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-ruler-combined"],["type","number","name","length","min","0","step","0.1","placeholder","inches",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","width","min","0","step","0.1","placeholder","inches",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","height","min","0","step","0.1","placeholder","inches",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","wheelbase","min","0","step","0.1","placeholder","inches",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","curbWeight","min","0","placeholder","pounds",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","groundClearance","min","0","step","0.1","placeholder","inches",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","trunkCapacity","min","0","step","0.1","placeholder","cubic feet",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-star"],["name","safetyFeatures","rows","3","placeholder","e.g., ABS, Airbags, Backup Camera, Blind Spot Detection",1,"form-control",3,"ngModelChange","ngModel"],["name","entertainmentFeatures","rows","3","placeholder","e.g., Bluetooth, USB, Apple CarPlay, Android Auto",1,"form-control",3,"ngModelChange","ngModel"],["name","comfortFeatures","rows","3","placeholder","e.g., Leather Seats, Heated Seats, Climate Control, Sunroof",1,"form-control",3,"ngModelChange","ngModel"],["name","technologyFeatures","rows","3","placeholder","e.g., GPS Navigation, Keyless Entry, Push Start, Lane Assist",1,"form-control",3,"ngModelChange","ngModel"],[1,"fas","fa-calendar-alt"],["type","number","name","weeklyRate","min","0","step","0.01","placeholder","Weekly price",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","monthlyRate","min","0","step","0.01","placeholder","Monthly price",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","depositAmount","min","0","step","0.01","placeholder","Security deposit",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","minimumRentalDays","min","1","placeholder","Minimum days",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","maximumRentalDays","min","1","placeholder","Maximum days",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","ageRequirement","min","18","max","100","placeholder","Minimum age",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","additionalDriverFee","min","0","step","0.01","placeholder","Per day fee",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","licenseRequirement","placeholder","e.g., Valid driver's license, International permit",1,"form-control",3,"ngModelChange","ngModel"],["type","number","name","lateReturnFee","min","0","step","0.01","placeholder","Per hour fee",1,"form-control",3,"ngModelChange","ngModel"],["type","checkbox","name","insuranceIncluded",1,"form-check-input",3,"ngModelChange","ngModel"],["type","checkbox","name","maintenanceIncluded",1,"form-check-input",3,"ngModelChange","ngModel"],["type","checkbox","name","unlimitedMileage",1,"form-check-input",3,"ngModelChange","ngModel"],["type","checkbox","name","isFeatured",1,"form-check-input",3,"ngModelChange","ngModel"],["type","checkbox","name","isNewArrival",1,"form-check-input",3,"ngModelChange","ngModel"],["type","checkbox","name","isPopular",1,"form-check-input",3,"ngModelChange","ngModel"],[1,"image-upload-section"],[1,"upload-area",3,"click","dragover","dragleave","drop"],[1,"fas","fa-cloud-upload-alt","fa-2x","text-muted","mb-2"],[1,"mb-1"],[1,"text-muted"],["type","file","multiple","","accept","image/*",2,"display","none",3,"change"],["class","mt-2",4,"ngIf"],["class","mt-3",4,"ngIf"],[1,"modal-footer","modern-footer"],[1,"footer-content"],[1,"form-progress"],[1,"progress-info"],[1,"progress-text"],[1,"progress-percentage"],[1,"progress-bar-container"],[1,"progress-bar-fill"],[1,"action-buttons"],["type","button",1,"btn","btn-outline-secondary","modern-btn",3,"click"],[1,"fas","fa-times","me-2"],["type","button",1,"btn","btn-primary","modern-btn-primary",3,"click"],[1,"fas","fa-save","me-2"],["class","modal-body",4,"ngIf"],["type","text","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","city","required","",1,"form-control",3,"ngModelChange","ngModel"],["name","address","rows","3","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"scroll-indicator","left",3,"click"],[1,"fas","fa-chevron-left"],[1,"scroll-indicator","right",3,"click"],[1,"fas","fa-chevron-right"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-light"],[1,"visually-hidden"],[1,"text-white","mt-3"],["role","alert",1,"alert","alert-danger","text-center"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"mt-3"],[1,"btn","btn-outline-danger","me-2",3,"click"],[1,"fas","fa-redo","me-2"],[1,"btn","btn-outline-warning",3,"click"],[1,"dashboard-content"],[1,"row","mb-4"],[1,"col-lg-3","col-md-6","mb-3"],[1,"stat-card","card","text-center","bounce-in"],[1,"card-body","p-4"],[1,"stat-icon","mb-3"],[1,"fas","fa-car","fa-2x","text-primary"],[1,"stat-number","mb-2"],[1,"stat-label","mb-0"],[1,"stat-card","card","text-center","bounce-in",2,"animation-delay","0.1s"],[1,"fas","fa-users","fa-2x","text-success"],[1,"stat-card","card","text-center","bounce-in",2,"animation-delay","0.2s"],[1,"fas","fa-calendar-check","fa-2x","text-info"],[1,"stat-card","card","text-center","bounce-in",2,"animation-delay","0.3s"],[1,"fas","fa-dollar-sign","fa-2x","text-warning"],[1,"col-lg-6","mb-3"],[1,"card","slide-up"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"col-6"],[1,"metric-item"],[1,"metric-label"],[1,"metric-value"],[1,"row","mt-3"],[1,"metric-value","text-success"],[1,"metric-value","text-info"],[1,"fas","fa-chart-pie","me-2"],[1,"booking-status-chart"],[1,"status-item"],[1,"status-dot","bg-success"],[1,"status-label"],[1,"status-dot","bg-info"],[1,"status-dot","bg-danger"],[1,"card"],[1,"card-header","d-flex","justify-content-between","align-items-center","flex-wrap"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus","me-2"],["class","text-center py-4",4,"ngIf"],["class","table-responsive",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-4"],["role","status",1,"spinner-border","text-primary"],[1,"mt-3","text-muted"],[1,"table-responsive"],[1,"table","table-hover"],[4,"ngFor","ngForOf"],[1,"d-flex","align-items-center"],[1,"user-avatar","me-2"],[1,"fas","fa-user"],[1,"badge"],[1,"badge","bg-success"],["role","group",1,"btn-group"],["title","Edit User",1,"btn","btn-sm","btn-outline-primary",3,"click"],[1,"fas","fa-edit"],["title","Delete User",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-trash"],[1,"fas","fa-users","fa-3x","text-muted","mb-3"],[1,"pagination","justify-content-center"],[1,"page-item"],[1,"page-link",3,"click"],["class","page-item",3,"active",4,"ngFor","ngForOf"],[1,"car-icon","me-2"],[1,"fas","fa-car"],[1,"fw-bold"],["title","Edit Car",1,"btn","btn-sm","btn-outline-primary",3,"click"],["title","Delete Car",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"fas","fa-car","fa-3x","text-muted","mb-3"],[1,"btn","btn-sm","btn-outline-info",3,"click"],[1,"fas","fa-eye"],[1,"fas","fa-chart-bar","me-2"],["class","card-body",4,"ngIf"],[1,"fas","fa-exchange-alt","me-2"],[1,"table","table-sm"],[1,"financial-summary"],[1,"summary-item"],[1,"summary-label"],[1,"summary-value"],[1,"summary-value","text-success"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"badge","bg-info"],[1,"btn","btn-sm","btn-outline-primary","me-2",3,"click"],[1,"btn","btn-sm","btn-outline-danger",3,"click"],[3,"value"],[1,"mt-2"],[1,"progress"],[1,"progress-bar"],[1,"selected-files"],["class","file-item",4,"ngFor","ngForOf"],[1,"file-item"],["alt","Preview",1,"file-preview",3,"src"],[1,"file-info"],["type","button",1,"btn","btn-sm","btn-outline-danger",3,"click"],[1,"existing-images"],["class","image-item",4,"ngFor","ngForOf"],[1,"image-item"],[1,"image-preview",3,"src","alt"],[1,"image-overlay"],[1,"image-actions"],["type","button",1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],["class","image-badge",4,"ngIf"],[1,"image-badge"],[1,"badge","bg-warning"],[1,"booking-details"],[1,"form-select"],["value","ACTIVE"],["value","COMPLETED"],["value","CANCELLED"]],template:function(e,n){if(e&1){let s=y();r(0,"div",3)(1,"div",4)(2,"div",5)(3,"h1",6),g(4,"i",7),a(5,"Admin Dashboard "),i(),r(6,"p",8),a(7,"Comprehensive management system for WheelDeal Premium"),i()(),r(8,"div",9)(9,"div",10),_(10,lc,2,0,"div",11),r(11,"ul",12,0)(13,"li",13)(14,"button",14),b("click",function(){return u(s),h(n.switchTab("overview"))}),g(15,"i",15),a(16,"Overview "),i()(),r(17,"li",13)(18,"button",14),b("click",function(){return u(s),h(n.switchTab("users"))}),g(19,"i",16),a(20,"User Management "),i()(),r(21,"li",13)(22,"button",14),b("click",function(){return u(s),h(n.switchTab("cars"))}),g(23,"i",17),a(24,"Car Management "),i()(),r(25,"li",13)(26,"button",14),b("click",function(){return u(s),h(n.switchTab("bookings"))}),g(27,"i",18),a(28,"Booking Management "),i()(),r(29,"li",13)(30,"button",14),b("click",function(){return u(s),h(n.switchTab("financial"))}),g(31,"i",19),a(32,"Financial Reports "),i()(),r(33,"li",13)(34,"button",14),b("click",function(){return u(s),h(n.switchTab("branches"))}),g(35,"i",20),a(36,"Branch Management "),i()()(),_(37,cc,2,0,"div",21),i()(),_(38,dc,6,0,"div",22)(39,mc,10,1,"div",23)(40,gc,100,17,"div",24)(41,vc,14,4,"div",24)(42,yc,13,3,"div",24)(43,Sc,27,1,"div",24)(44,kc,30,2,"div",24)(45,Tc,28,1,"div",24),i(),r(46,"div",25)(47,"div",26)(48,"div",27)(49,"div",28)(50,"h5",29),a(51),i(),r(52,"button",30),b("click",function(){return u(s),h(n.closeUserModal())}),i()(),r(53,"div",31)(54,"form")(55,"div",32)(56,"label",33),a(57,"Full Name"),i(),r(58,"input",34),I("ngModelChange",function(d){return u(s),k(n.userForm.fullName,d)||(n.userForm.fullName=d),h(d)}),i()(),r(59,"div",32)(60,"label",33),a(61,"Email"),i(),r(62,"input",35),I("ngModelChange",function(d){return u(s),k(n.userForm.email,d)||(n.userForm.email=d),h(d)}),i()(),r(63,"div",32)(64,"label",33),a(65,"Role"),i(),r(66,"select",36),I("ngModelChange",function(d){return u(s),k(n.userForm.role,d)||(n.userForm.role=d),h(d)}),r(67,"option",37),a(68,"Customer"),i(),r(69,"option",38),a(70,"Manager"),i(),r(71,"option",39),a(72,"Admin"),i()()()()(),r(73,"div",40)(74,"button",41),b("click",function(){return u(s),h(n.closeUserModal())}),a(75,"Cancel"),i(),r(76,"button",42),b("click",function(){return u(s),h(n.saveUser())}),a(77,"Save"),i()()()()(),r(78,"div",25)(79,"div",43)(80,"div",44)(81,"div",45)(82,"div",46)(83,"div",47),g(84,"i",48),r(85,"h4",49),a(86),i()(),r(87,"p",50),a(88),i()(),r(89,"button",51),b("click",function(){return u(s),h(n.closeCarModal())}),g(90,"i",52),i()(),r(91,"div",31)(92,"form")(93,"div",53)(94,"div",54)(95,"div",55),g(96,"i",56),i(),r(97,"div",57)(98,"h6",58),a(99,"Basic Information"),i(),r(100,"p",59),a(101,"Essential vehicle details and identification"),i()()(),r(102,"div",60)(103,"div",61)(104,"label",33),a(105,"Brand "),r(106,"span",62),a(107,"*"),i()(),r(108,"input",63),I("ngModelChange",function(d){return u(s),k(n.carForm.brand,d)||(n.carForm.brand=d),h(d)}),i()(),r(109,"div",61)(110,"label",33),a(111,"Model "),r(112,"span",62),a(113,"*"),i()(),r(114,"input",64),I("ngModelChange",function(d){return u(s),k(n.carForm.model,d)||(n.carForm.model=d),h(d)}),i()()(),r(115,"div",60)(116,"div",65)(117,"label",33),a(118,"Year "),r(119,"span",62),a(120,"*"),i()(),r(121,"input",66),I("ngModelChange",function(d){return u(s),k(n.carForm.year,d)||(n.carForm.year=d),h(d)}),i()(),r(122,"div",65)(123,"label",33),a(124,"Type "),r(125,"span",62),a(126,"*"),i()(),r(127,"select",67),I("ngModelChange",function(d){return u(s),k(n.carForm.type,d)||(n.carForm.type=d),h(d)}),r(128,"option",68),a(129,"Select Type"),i(),r(130,"option",69),a(131,"Sedan"),i(),r(132,"option",70),a(133,"SUV"),i(),r(134,"option",71),a(135,"Hatchback"),i(),r(136,"option",72),a(137,"Coupe"),i(),r(138,"option",73),a(139,"Convertible"),i(),r(140,"option",74),a(141,"Wagon"),i(),r(142,"option",75),a(143,"Pickup"),i(),r(144,"option",76),a(145,"Van"),i(),r(146,"option",77),a(147,"Luxury"),i(),r(148,"option",78),a(149,"Sports"),i()()(),r(150,"div",65)(151,"label",33),a(152,"Color"),i(),r(153,"input",79),I("ngModelChange",function(d){return u(s),k(n.carForm.color,d)||(n.carForm.color=d),h(d)}),i()()(),r(154,"div",60)(155,"div",61)(156,"label",33),a(157,"Price per Day "),r(158,"span",62),a(159,"*"),i()(),r(160,"input",80),I("ngModelChange",function(d){return u(s),k(n.carForm.price,d)||(n.carForm.price=d),h(d)}),i()(),r(161,"div",61)(162,"label",33),a(163,"Branch "),r(164,"span",62),a(165,"*"),i()(),r(166,"select",81),I("ngModelChange",function(d){return u(s),k(n.carForm.branchId,d)||(n.carForm.branchId=d),h(d)}),r(167,"option",68),a(168,"Select Branch"),i(),_(169,Fc,2,3,"option",82),i()()(),r(170,"div",32)(171,"div",83)(172,"input",84),I("ngModelChange",function(d){return u(s),k(n.carForm.availability,d)||(n.carForm.availability=d),h(d)}),i(),r(173,"label",85),a(174,"Available"),i()()()(),r(175,"div",53)(176,"div",54)(177,"div",55),g(178,"i",86),i(),r(179,"div",57)(180,"h6",58),a(181,"Technical Specifications"),i(),r(182,"p",59),a(183,"Engine, transmission, and mechanical details"),i()()(),r(184,"div",60)(185,"div",61)(186,"label",33),a(187,"Fuel Type"),i(),r(188,"select",87),I("ngModelChange",function(d){return u(s),k(n.carForm.fuelType,d)||(n.carForm.fuelType=d),h(d)}),r(189,"option",68),a(190,"Select Fuel Type"),i(),r(191,"option",88),a(192,"Gasoline"),i(),r(193,"option",89),a(194,"Diesel"),i(),r(195,"option",90),a(196,"Hybrid"),i(),r(197,"option",91),a(198,"Electric"),i(),r(199,"option",92),a(200,"Plugin Hybrid"),i(),r(201,"option",93),a(202,"Hydrogen"),i()()(),r(203,"div",61)(204,"label",33),a(205,"Transmission"),i(),r(206,"select",94),I("ngModelChange",function(d){return u(s),k(n.carForm.transmission,d)||(n.carForm.transmission=d),h(d)}),r(207,"option",68),a(208,"Select Transmission"),i(),r(209,"option",95),a(210,"Manual"),i(),r(211,"option",96),a(212,"Automatic"),i(),r(213,"option",97),a(214,"CVT"),i(),r(215,"option",98),a(216,"Semi-Automatic"),i()()()(),r(217,"div",60)(218,"div",65)(219,"label",33),a(220,"Engine Size"),i(),r(221,"input",99),I("ngModelChange",function(d){return u(s),k(n.carForm.engineSize,d)||(n.carForm.engineSize=d),h(d)}),i()(),r(222,"div",65)(223,"label",33),a(224,"Horsepower"),i(),r(225,"input",100),I("ngModelChange",function(d){return u(s),k(n.carForm.horsepower,d)||(n.carForm.horsepower=d),h(d)}),i()(),r(226,"div",65)(227,"label",33),a(228,"Torque (lb-ft)"),i(),r(229,"input",101),I("ngModelChange",function(d){return u(s),k(n.carForm.torque,d)||(n.carForm.torque=d),h(d)}),i()()(),r(230,"div",60)(231,"div",65)(232,"label",33),a(233,"Seating Capacity"),i(),r(234,"input",102),I("ngModelChange",function(d){return u(s),k(n.carForm.seatingCapacity,d)||(n.carForm.seatingCapacity=d),h(d)}),i()(),r(235,"div",65)(236,"label",33),a(237,"Mileage (km)"),i(),r(238,"input",103),I("ngModelChange",function(d){return u(s),k(n.carForm.mileage,d)||(n.carForm.mileage=d),h(d)}),i()(),r(239,"div",65)(240,"label",33),a(241,"Fuel Tank Capacity (L)"),i(),r(242,"input",104),I("ngModelChange",function(d){return u(s),k(n.carForm.fuelTankCapacity,d)||(n.carForm.fuelTankCapacity=d),h(d)}),i()()()(),r(243,"div",53)(244,"div",54)(245,"div",55),g(246,"i",105),i(),r(247,"div",57)(248,"h6",58),a(249,"Performance & Efficiency"),i(),r(250,"p",59),a(251,"Speed, acceleration, and fuel economy metrics"),i()()(),r(252,"div",60)(253,"div",106)(254,"label",33),a(255,"0-60 mph (sec)"),i(),r(256,"input",107),I("ngModelChange",function(d){return u(s),k(n.carForm.acceleration0To60,d)||(n.carForm.acceleration0To60=d),h(d)}),i()(),r(257,"div",106)(258,"label",33),a(259,"Top Speed (mph)"),i(),r(260,"input",108),I("ngModelChange",function(d){return u(s),k(n.carForm.topSpeed,d)||(n.carForm.topSpeed=d),h(d)}),i()(),r(261,"div",106)(262,"label",33),a(263,"City MPG"),i(),r(264,"input",109),I("ngModelChange",function(d){return u(s),k(n.carForm.fuelEfficiencyCity,d)||(n.carForm.fuelEfficiencyCity=d),h(d)}),i()(),r(265,"div",106)(266,"label",33),a(267,"Highway MPG"),i(),r(268,"input",110),I("ngModelChange",function(d){return u(s),k(n.carForm.fuelEfficiencyHighway,d)||(n.carForm.fuelEfficiencyHighway=d),h(d)}),i()()()(),r(269,"div",53)(270,"div",54)(271,"div",55),g(272,"i",111),i(),r(273,"div",57)(274,"h6",58),a(275,"Dimensions"),i(),r(276,"p",59),a(277,"Physical measurements and capacity details"),i()()(),r(278,"div",60)(279,"div",106)(280,"label",33),a(281,"Length (in)"),i(),r(282,"input",112),I("ngModelChange",function(d){return u(s),k(n.carForm.length,d)||(n.carForm.length=d),h(d)}),i()(),r(283,"div",106)(284,"label",33),a(285,"Width (in)"),i(),r(286,"input",113),I("ngModelChange",function(d){return u(s),k(n.carForm.width,d)||(n.carForm.width=d),h(d)}),i()(),r(287,"div",106)(288,"label",33),a(289,"Height (in)"),i(),r(290,"input",114),I("ngModelChange",function(d){return u(s),k(n.carForm.height,d)||(n.carForm.height=d),h(d)}),i()(),r(291,"div",106)(292,"label",33),a(293,"Wheelbase (in)"),i(),r(294,"input",115),I("ngModelChange",function(d){return u(s),k(n.carForm.wheelbase,d)||(n.carForm.wheelbase=d),h(d)}),i()()(),r(295,"div",60)(296,"div",65)(297,"label",33),a(298,"Curb Weight (lbs)"),i(),r(299,"input",116),I("ngModelChange",function(d){return u(s),k(n.carForm.curbWeight,d)||(n.carForm.curbWeight=d),h(d)}),i()(),r(300,"div",65)(301,"label",33),a(302,"Ground Clearance (in)"),i(),r(303,"input",117),I("ngModelChange",function(d){return u(s),k(n.carForm.groundClearance,d)||(n.carForm.groundClearance=d),h(d)}),i()(),r(304,"div",65)(305,"label",33),a(306,"Trunk Capacity (cu ft)"),i(),r(307,"input",118),I("ngModelChange",function(d){return u(s),k(n.carForm.trunkCapacity,d)||(n.carForm.trunkCapacity=d),h(d)}),i()()()(),r(308,"div",53)(309,"div",54)(310,"div",55),g(311,"i",119),i(),r(312,"div",57)(313,"h6",58),a(314,"Features"),i(),r(315,"p",59),a(316,"Safety, entertainment, comfort, and technology features"),i()()(),r(317,"div",60)(318,"div",61)(319,"label",33),a(320,"Safety Features"),i(),r(321,"textarea",120),I("ngModelChange",function(d){return u(s),k(n.carForm.safetyFeatures,d)||(n.carForm.safetyFeatures=d),h(d)}),i()(),r(322,"div",61)(323,"label",33),a(324,"Entertainment Features"),i(),r(325,"textarea",121),I("ngModelChange",function(d){return u(s),k(n.carForm.entertainmentFeatures,d)||(n.carForm.entertainmentFeatures=d),h(d)}),i()()(),r(326,"div",60)(327,"div",61)(328,"label",33),a(329,"Comfort Features"),i(),r(330,"textarea",122),I("ngModelChange",function(d){return u(s),k(n.carForm.comfortFeatures,d)||(n.carForm.comfortFeatures=d),h(d)}),i()(),r(331,"div",61)(332,"label",33),a(333,"Technology Features"),i(),r(334,"textarea",123),I("ngModelChange",function(d){return u(s),k(n.carForm.technologyFeatures,d)||(n.carForm.technologyFeatures=d),h(d)}),i()()()(),r(335,"div",53)(336,"div",54)(337,"div",55),g(338,"i",124),i(),r(339,"div",57)(340,"h6",58),a(341,"Rental Information"),i(),r(342,"p",59),a(343,"Pricing, requirements, and rental policies"),i()()(),r(344,"div",60)(345,"div",65)(346,"label",33),a(347,"Weekly Rate"),i(),r(348,"input",125),I("ngModelChange",function(d){return u(s),k(n.carForm.weeklyRate,d)||(n.carForm.weeklyRate=d),h(d)}),i()(),r(349,"div",65)(350,"label",33),a(351,"Monthly Rate"),i(),r(352,"input",126),I("ngModelChange",function(d){return u(s),k(n.carForm.monthlyRate,d)||(n.carForm.monthlyRate=d),h(d)}),i()(),r(353,"div",65)(354,"label",33),a(355,"Deposit Amount"),i(),r(356,"input",127),I("ngModelChange",function(d){return u(s),k(n.carForm.depositAmount,d)||(n.carForm.depositAmount=d),h(d)}),i()()(),r(357,"div",60)(358,"div",106)(359,"label",33),a(360,"Min Rental Days"),i(),r(361,"input",128),I("ngModelChange",function(d){return u(s),k(n.carForm.minimumRentalDays,d)||(n.carForm.minimumRentalDays=d),h(d)}),i()(),r(362,"div",106)(363,"label",33),a(364,"Max Rental Days"),i(),r(365,"input",129),I("ngModelChange",function(d){return u(s),k(n.carForm.maximumRentalDays,d)||(n.carForm.maximumRentalDays=d),h(d)}),i()(),r(366,"div",106)(367,"label",33),a(368,"Age Requirement"),i(),r(369,"input",130),I("ngModelChange",function(d){return u(s),k(n.carForm.ageRequirement,d)||(n.carForm.ageRequirement=d),h(d)}),i()(),r(370,"div",106)(371,"label",33),a(372,"Additional Driver Fee"),i(),r(373,"input",131),I("ngModelChange",function(d){return u(s),k(n.carForm.additionalDriverFee,d)||(n.carForm.additionalDriverFee=d),h(d)}),i()()(),r(374,"div",60)(375,"div",61)(376,"label",33),a(377,"License Requirement"),i(),r(378,"input",132),I("ngModelChange",function(d){return u(s),k(n.carForm.licenseRequirement,d)||(n.carForm.licenseRequirement=d),h(d)}),i()(),r(379,"div",61)(380,"label",33),a(381,"Late Return Fee"),i(),r(382,"input",133),I("ngModelChange",function(d){return u(s),k(n.carForm.lateReturnFee,d)||(n.carForm.lateReturnFee=d),h(d)}),i()()(),r(383,"div",60)(384,"div",65)(385,"div",83)(386,"input",134),I("ngModelChange",function(d){return u(s),k(n.carForm.insuranceIncluded,d)||(n.carForm.insuranceIncluded=d),h(d)}),i(),r(387,"label",85),a(388,"Insurance Included"),i()()(),r(389,"div",65)(390,"div",83)(391,"input",135),I("ngModelChange",function(d){return u(s),k(n.carForm.maintenanceIncluded,d)||(n.carForm.maintenanceIncluded=d),h(d)}),i(),r(392,"label",85),a(393,"Maintenance Included"),i()()(),r(394,"div",65)(395,"div",83)(396,"input",136),I("ngModelChange",function(d){return u(s),k(n.carForm.unlimitedMileage,d)||(n.carForm.unlimitedMileage=d),h(d)}),i(),r(397,"label",85),a(398,"Unlimited Mileage"),i()()()(),r(399,"div",60)(400,"div",65)(401,"div",83)(402,"input",137),I("ngModelChange",function(d){return u(s),k(n.carForm.isFeatured,d)||(n.carForm.isFeatured=d),h(d)}),i(),r(403,"label",85),a(404,"Featured Car"),i()()(),r(405,"div",65)(406,"div",83)(407,"input",138),I("ngModelChange",function(d){return u(s),k(n.carForm.isNewArrival,d)||(n.carForm.isNewArrival=d),h(d)}),i(),r(408,"label",85),a(409,"New Arrival"),i()()(),r(410,"div",65)(411,"div",83)(412,"input",139),I("ngModelChange",function(d){return u(s),k(n.carForm.isPopular,d)||(n.carForm.isPopular=d),h(d)}),i(),r(413,"label",85),a(414,"Popular Car"),i()()()()(),r(415,"div",32)(416,"label",33),a(417,"Car Images"),i(),r(418,"div",140)(419,"div",141),b("click",function(){u(s);let d=Zi(426);return h(d.click())})("dragover",function(d){return u(s),h(n.onDragOver(d))})("dragleave",function(d){return u(s),h(n.onDragLeave(d))})("drop",function(d){return u(s),h(n.onDrop(d))}),g(420,"i",142),r(421,"p",143),a(422,"Click to upload or drag & drop images here"),i(),r(423,"small",144),a(424,"Supports: JPG, PNG, WebP (Max: 5MB each)"),i(),r(425,"input",145,1),b("change",function(d){return u(s),h(n.onFileSelected(d))}),i()(),_(427,Rc,5,3,"div",146)(428,Ac,5,2,"div",147)(429,Lc,5,2,"div",147)(430,zc,5,2,"div",147),i()()()(),r(431,"div",148)(432,"div",149)(433,"div",150)(434,"div",151)(435,"span",152),a(436,"Form Progress"),i(),r(437,"span",153),a(438,"100%"),i()(),r(439,"div",154),g(440,"div",155),i()(),r(441,"div",156)(442,"button",157),b("click",function(){return u(s),h(n.closeCarModal())}),g(443,"i",158),a(444,"Cancel "),i(),r(445,"button",159),b("click",function(){return u(s),h(n.saveCar())}),g(446,"i",160),a(447),i()()()()()()(),r(448,"div",25)(449,"div",26)(450,"div",27)(451,"div",28)(452,"h5",29),a(453,"Booking Details"),i(),r(454,"button",30),b("click",function(){return u(s),h(n.closeBookingModal())}),i()(),_(455,jc,34,8,"div",161),r(456,"div",40)(457,"button",41),b("click",function(){return u(s),h(n.closeBookingModal())}),a(458,"Close"),i(),r(459,"button",42),b("click",function(){return u(s),h(n.updateBookingStatus(n.selectedBooking.id,n.statusSelect.value))}),a(460," Update Status "),i()()()()(),r(461,"div",25)(462,"div",26)(463,"div",27)(464,"div",28)(465,"h5",29),a(466),i(),r(467,"button",30),b("click",function(){return u(s),h(n.closeBranchModal())}),i()(),r(468,"div",31)(469,"form")(470,"div",32)(471,"label",33),a(472,"Name "),r(473,"span",62),a(474,"*"),i()(),r(475,"input",162),I("ngModelChange",function(d){return u(s),k(n.branchForm.name,d)||(n.branchForm.name=d),h(d)}),i()(),r(476,"div",32)(477,"label",33),a(478,"City "),r(479,"span",62),a(480,"*"),i()(),r(481,"input",163),I("ngModelChange",function(d){return u(s),k(n.branchForm.city,d)||(n.branchForm.city=d),h(d)}),i()(),r(482,"div",32)(483,"label",33),a(484,"Address "),r(485,"span",62),a(486,"*"),i()(),r(487,"textarea",164),I("ngModelChange",function(d){return u(s),k(n.branchForm.address,d)||(n.branchForm.address=d),h(d)}),i()()()(),r(488,"div",40)(489,"button",41),b("click",function(){return u(s),h(n.closeBranchModal())}),a(490,"Cancel"),i(),r(491,"button",42),b("click",function(){return u(s),h(n.saveBranch())}),a(492,"Save"),i()()()()()()}e&2&&(l(10),m("ngIf",n.canScrollLeft),l(4),w("active",n.activeTab==="overview"),l(4),w("active",n.activeTab==="users"),l(4),w("active",n.activeTab==="cars"),l(4),w("active",n.activeTab==="bookings"),l(4),w("active",n.activeTab==="financial"),l(4),w("active",n.activeTab==="branches"),l(3),m("ngIf",n.canScrollRight),l(),m("ngIf",n.isLoading),l(),m("ngIf",n.error),l(),m("ngIf",!n.isLoading&&!n.error&&n.activeTab==="overview"&&n.dashboardStats),l(),m("ngIf",n.activeTab==="users"),l(),m("ngIf",n.activeTab==="cars"),l(),m("ngIf",n.activeTab==="bookings"),l(),m("ngIf",n.activeTab==="financial"),l(),m("ngIf",n.activeTab==="branches"),l(),ge("display",n.isUserModalOpen?"block":"none"),w("show",n.isUserModalOpen),l(5),v(n.selectedUser?"Edit User":"Add User"),l(7),E("ngModel",n.userForm.fullName),l(4),E("ngModel",n.userForm.email),l(4),E("ngModel",n.userForm.role),l(12),ge("display",n.isCarModalOpen?"block":"none"),w("show",n.isCarModalOpen),l(8),v(n.selectedCar?"Edit Car":"Add New Vehicle"),l(2),v(n.selectedCar?"Update vehicle information and specifications":"Add comprehensive vehicle details for better customer experience"),l(20),E("ngModel",n.carForm.brand),l(6),E("ngModel",n.carForm.model),l(7),E("ngModel",n.carForm.year),l(6),E("ngModel",n.carForm.type),l(26),E("ngModel",n.carForm.color),l(7),E("ngModel",n.carForm.price),l(6),E("ngModel",n.carForm.branchId),l(3),m("ngForOf",n.branches),l(3),E("ngModel",n.carForm.availability),l(16),E("ngModel",n.carForm.fuelType),l(18),E("ngModel",n.carForm.transmission),l(15),E("ngModel",n.carForm.engineSize),l(4),E("ngModel",n.carForm.horsepower),l(4),E("ngModel",n.carForm.torque),l(5),E("ngModel",n.carForm.seatingCapacity),l(4),E("ngModel",n.carForm.mileage),l(4),E("ngModel",n.carForm.fuelTankCapacity),l(14),E("ngModel",n.carForm.acceleration0To60),l(4),E("ngModel",n.carForm.topSpeed),l(4),E("ngModel",n.carForm.fuelEfficiencyCity),l(4),E("ngModel",n.carForm.fuelEfficiencyHighway),l(14),E("ngModel",n.carForm.length),l(4),E("ngModel",n.carForm.width),l(4),E("ngModel",n.carForm.height),l(4),E("ngModel",n.carForm.wheelbase),l(5),E("ngModel",n.carForm.curbWeight),l(4),E("ngModel",n.carForm.groundClearance),l(4),E("ngModel",n.carForm.trunkCapacity),l(14),E("ngModel",n.carForm.safetyFeatures),l(4),E("ngModel",n.carForm.entertainmentFeatures),l(5),E("ngModel",n.carForm.comfortFeatures),l(4),E("ngModel",n.carForm.technologyFeatures),l(14),E("ngModel",n.carForm.weeklyRate),l(4),E("ngModel",n.carForm.monthlyRate),l(4),E("ngModel",n.carForm.depositAmount),l(5),E("ngModel",n.carForm.minimumRentalDays),l(4),E("ngModel",n.carForm.maximumRentalDays),l(4),E("ngModel",n.carForm.ageRequirement),l(4),E("ngModel",n.carForm.additionalDriverFee),l(5),E("ngModel",n.carForm.licenseRequirement),l(4),E("ngModel",n.carForm.lateReturnFee),l(4),E("ngModel",n.carForm.insuranceIncluded),l(5),E("ngModel",n.carForm.maintenanceIncluded),l(5),E("ngModel",n.carForm.unlimitedMileage),l(6),E("ngModel",n.carForm.isFeatured),l(5),E("ngModel",n.carForm.isNewArrival),l(5),E("ngModel",n.carForm.isPopular),l(7),w("dragover",n.isDragOver),l(8),m("ngIf",n.uploadProgress>0&&n.uploadProgress<100),l(),m("ngIf",n.selectedFiles.length>0),l(),m("ngIf",n.carImages.length>0),l(),m("ngIf",n.carImages.length>0),l(17),C("",n.selectedCar?"Update Vehicle":"Add Vehicle"," "),l(),ge("display",n.isBookingModalOpen?"block":"none"),w("show",n.isBookingModalOpen),l(7),m("ngIf",n.selectedBooking),l(6),ge("display",n.isBranchModalOpen?"block":"none"),w("show",n.isBranchModalOpen),l(5),v(n.selectedBranch?"Edit Branch":"Add Branch"),l(9),E("ngModel",n.branchForm.name),l(6),E("ngModel",n.branchForm.city),l(6),E("ngModel",n.branchForm.address))},dependencies:[L,J,B,se,Ze,de,Xe,Je,Me,yt,at,Qe,le,ce,Ot,an,on,rn,nn,ae],styles:[`.admin-dashboard[_ngcontent-%COMP%]{min-height:100vh;background:var(--gradient-primary);padding:20px 0}.dashboard-header[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .8s ease-in-out}.stat-card[_ngcontent-%COMP%]{background:#fffffff2;border:none;border-radius:15px;box-shadow:0 8px 32px #0000001a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.stat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 12px 40px #00000026}.stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto;background:var(--gradient-accent);color:#fff}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#2c3e50;margin:0}.stat-label[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#34495e;margin:0}.card[_ngcontent-%COMP%]{background:#fffffff2;border:none;border-radius:15px;box-shadow:0 8px 32px #0000001a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 40px #00000026}.card-header[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;border:none;border-radius:15px 15px 0 0;padding:1rem 1.5rem}.card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;font-weight:600}.metric-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:1rem}.metric-item[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d;font-weight:500;margin-bottom:.5rem}.metric-item[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#2c3e50}.status-item[_ngcontent-%COMP%]{padding:1rem}.user-avatar[_ngcontent-%COMP%], .car-icon[_ngcontent-%COMP%]{width:32px;height:32px;border-radius:50%;background:var(--gradient-primary);display:flex;align-items:center;justify-content:center;color:#fff;font-size:.8rem}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:0}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:first-child{border-top-left-radius:.375rem;border-bottom-left-radius:.375rem}.btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:last-child{border-top-right-radius:.375rem;border-bottom-right-radius:.375rem}.nav-tabs-section[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:15px;padding:1rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2)}.nav-tabs-container[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;position:relative}.nav-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}.nav-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:2px}.nav-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:2px}.nav-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}.scroll-indicator[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:30px;height:30px;background:#ffffffe6;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#667eea;font-size:.8rem;z-index:10;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #0000001a}.scroll-indicator[_ngcontent-%COMP%]:hover{background:#fff;transform:translateY(-50%) scale(1.1);box-shadow:0 4px 12px #00000026}.scroll-indicator.left[_ngcontent-%COMP%]{left:5px}.scroll-indicator.right[_ngcontent-%COMP%]{right:5px}.admin-nav-tabs[_ngcontent-%COMP%]{border:none;min-width:max-content;white-space:nowrap;display:flex;align-items:center;justify-content:center}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:0 2px;flex-shrink:0}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;border-radius:10px;padding:.75rem 1.25rem;color:#ffffffe6;background:#ffffff1f;transition:all .3s ease;font-weight:500;white-space:nowrap;display:flex;align-items:center;justify-content:center;min-width:140px;height:48px;position:relative;overflow:hidden}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover:before{left:100%}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:#ffffff38;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 15px #667eea66;transform:translateY(-2px)}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:30px;height:3px;background:#fff;border-radius:2px}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;margin-right:.5rem;transition:transform .3s ease}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.1)}@media (max-width: 768px){.nav-tabs-section[_ngcontent-%COMP%]{padding:.5rem;margin:0 -.5rem}.nav-tabs-container[_ngcontent-%COMP%]{padding:0 .5rem}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:0 1px}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem .75rem;min-width:120px;font-size:.875rem;height:40px}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;margin-right:.25rem}}@media (max-width: 576px){.nav-tabs-section[_ngcontent-%COMP%]{padding:.25rem}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.4rem .6rem;min-width:100px;font-size:.8rem;height:36px}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;margin-right:.2rem}}@media (max-width: 768px){.table-responsive[_ngcontent-%COMP%]{font-size:.875rem}.table-responsive[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{flex-direction:column}.table-responsive[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:.375rem!important;margin-bottom:.25rem}.card-header[_ngcontent-%COMP%]{flex-direction:column;gap:1rem}.card-header[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.alert[_ngcontent-%COMP%]{border-radius:15px;border:none;box-shadow:0 4px 20px #0000001a}.text-muted[_ngcontent-%COMP%]{color:#6c757d!important}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:none;font-weight:600;color:#495057}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.table[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem .75rem}.modern-modal[_ngcontent-%COMP%]{border:none;border-radius:20px;box-shadow:0 25px 50px #00000040;overflow:hidden}.modern-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;padding:2rem;position:relative}.modern-header[_ngcontent-%COMP%]:before{content:"";position:absolute;inset:0;background:url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><defs><pattern id="grid" width="10" height="10" patternUnits="userSpaceOnUse"><path d="M 10 0 L 0 0 0 10" fill="none" stroke="rgba(255,255,255,0.1)" stroke-width="0.5"/></pattern></defs><rect width="100" height="100" fill="url(%23grid)"/></svg>');opacity:.3}.modern-header[_ngcontent-%COMP%]   .header-content[_ngcontent-%COMP%]{position:relative;z-index:2}.modern-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:.5rem}.modern-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem;color:#ffffffe6}.modern-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.75rem;font-weight:700;color:#fff;margin:0}.modern-header[_ngcontent-%COMP%]   .header-subtitle[_ngcontent-%COMP%]{color:#fffc;font-size:.95rem;margin:0}.modern-header[_ngcontent-%COMP%]   .modern-close[_ngcontent-%COMP%]{position:relative;z-index:2;background:#fff3;border:none;border-radius:50%;width:40px;height:40px;display:flex;align-items:center;justify-content:center;color:#fff;transition:all .3s ease}.modern-header[_ngcontent-%COMP%]   .modern-close[_ngcontent-%COMP%]:hover{background:#ffffff4d;transform:scale(1.1)}.modern-header[_ngcontent-%COMP%]   .modern-close[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.1rem}.modern-footer[_ngcontent-%COMP%]{background:#f8f9fa;border-top:1px solid #e9ecef;padding:1.5rem 2rem}.modern-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;flex-wrap:wrap;gap:1rem}.modern-footer[_ngcontent-%COMP%]   .form-progress[_ngcontent-%COMP%]{flex:1;max-width:300px}.modern-footer[_ngcontent-%COMP%]   .form-progress[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]{display:flex;justify-content:space-between;margin-bottom:.5rem}.modern-footer[_ngcontent-%COMP%]   .form-progress[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .progress-text[_ngcontent-%COMP%]{font-size:.9rem;color:#6c757d;font-weight:500}.modern-footer[_ngcontent-%COMP%]   .form-progress[_ngcontent-%COMP%]   .progress-info[_ngcontent-%COMP%]   .progress-percentage[_ngcontent-%COMP%]{font-size:.9rem;color:#667eea;font-weight:600}.modern-footer[_ngcontent-%COMP%]   .form-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]{height:6px;background:#e9ecef;border-radius:3px;overflow:hidden}.modern-footer[_ngcontent-%COMP%]   .form-progress[_ngcontent-%COMP%]   .progress-bar-container[_ngcontent-%COMP%]   .progress-bar-fill[_ngcontent-%COMP%]{height:100%;background:linear-gradient(90deg,#667eea,#764ba2);border-radius:3px;width:100%;animation:_ngcontent-%COMP%_progressFill .5s ease-out}.modern-footer[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap}.modern-footer[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:10px;font-weight:600;transition:all .3s ease;border:2px solid #6c757d;background:transparent;color:#6c757d}.modern-footer[_ngcontent-%COMP%]   .modern-btn[_ngcontent-%COMP%]:hover{background:#6c757d;color:#fff;transform:translateY(-2px);box-shadow:0 8px 25px #6c757d4d}.modern-footer[_ngcontent-%COMP%]   .modern-btn-primary[_ngcontent-%COMP%]{padding:.75rem 1.5rem;border-radius:10px;font-weight:600;background:linear-gradient(135deg,#667eea,#764ba2);border:none;color:#fff;transition:all .3s ease}.modern-footer[_ngcontent-%COMP%]   .modern-btn-primary[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #667eea66}.modern-section[_ngcontent-%COMP%]{background:#fff;border-radius:15px;padding:2rem;margin-bottom:2rem;border:1px solid #e9ecef;box-shadow:0 4px 20px #00000014;transition:all .3s ease}.modern-section[_ngcontent-%COMP%]:hover{box-shadow:0 8px 30px #0000001f;transform:translateY(-2px)}.modern-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{display:flex;align-items:center;margin-bottom:2rem;padding-bottom:1rem;border-bottom:2px solid #f8f9fa}.modern-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{width:50px;height:50px;border-radius:12px;background:linear-gradient(135deg,#667eea,#764ba2);display:flex;align-items:center;justify-content:center;margin-right:1rem}.modern-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#fff;font-size:1.2rem}.modern-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-info[_ngcontent-%COMP%]{flex:1}.modern-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-info[_ngcontent-%COMP%]   .section-title[_ngcontent-%COMP%]{font-size:1.25rem;font-weight:700;color:#2c3e50;margin:0 0 .25rem}.modern-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-info[_ngcontent-%COMP%]   .section-description[_ngcontent-%COMP%]{color:#6c757d;font-size:.9rem;margin:0}.modal-xl[_ngcontent-%COMP%]{max-width:1400px;margin:1.75rem auto}.modal-body[_ngcontent-%COMP%]{max-height:75vh;overflow-y:auto;padding:2rem;background:#f8f9fa}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:8px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#f1f1f1;border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:linear-gradient(135deg,#667eea,#764ba2);border-radius:4px}.modal-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:linear-gradient(135deg,#5a6fd8,#6a4190)}.modal-body[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .modal-body[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border-radius:12px;border:2px solid #e9ecef;padding:.75rem 1rem;font-size:.95rem;transition:all .3s ease;background:#fff}.modal-body[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .modal-body[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea26;transform:translateY(-1px)}.modal-body[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:hover, .modal-body[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:hover{border-color:#667eea}.modal-body[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{width:1.2rem;height:1.2rem;border-radius:4px;border:2px solid #ced4da;transition:all .3s ease}.modal-body[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#667eea;border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.modal-body[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:focus{box-shadow:0 0 0 .2rem #667eea40}.modal-body[_ngcontent-%COMP%]   .form-check-label[_ngcontent-%COMP%]{font-weight:500;color:#495057;margin-left:.5rem}.modal-body[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px;font-family:inherit}.form-label[_ngcontent-%COMP%]{font-weight:600;color:#2c3e50;margin-bottom:.75rem;font-size:.95rem;display:flex;align-items:center}.form-label[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{margin-left:.25rem;font-size:1.1rem}.text-danger[_ngcontent-%COMP%]{color:#dc3545!important}@keyframes _ngcontent-%COMP%_progressFill{0%{width:0%}to{width:100%}}@media (max-width: 1200px){.modal-xl[_ngcontent-%COMP%]{max-width:95vw;margin:1rem auto}.modern-header[_ngcontent-%COMP%]{padding:1.5rem}.modern-header[_ngcontent-%COMP%]   .title-section[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-size:1.5rem}.modern-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem}.modern-footer[_ngcontent-%COMP%]   .footer-content[_ngcontent-%COMP%]{flex-direction:column;align-items:stretch}.modern-footer[_ngcontent-%COMP%]   .form-progress[_ngcontent-%COMP%]{max-width:none}.modern-section[_ngcontent-%COMP%]{padding:1.5rem}.modern-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]{flex-direction:column;text-align:center}.modern-section[_ngcontent-%COMP%]   .section-header[_ngcontent-%COMP%]   .section-icon[_ngcontent-%COMP%]{margin-right:0;margin-bottom:1rem}}.status-number[_ngcontent-%COMP%]{font-size:2rem;font-weight:700;margin-bottom:.5rem}.status-label[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d;font-weight:500}.btn[_ngcontent-%COMP%]{border-radius:10px;font-weight:600;padding:.75rem 1.5rem;transition:all .3s ease}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 15px #0003}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .8s ease-in-out}.bounce-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounceIn .6s ease-out}.slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .6s ease-out}.image-upload-section[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]{border:2px dashed #ddd;border-radius:10px;padding:2rem;text-align:center;cursor:pointer;transition:all .3s ease;background:#f8f9fa}.image-upload-section[_ngcontent-%COMP%]   .upload-area[_ngcontent-%COMP%]:hover, .image-upload-section[_ngcontent-%COMP%]   .upload-area.dragover[_ngcontent-%COMP%]{border-color:#667eea;background:#e3f2fd}.image-upload-section[_ngcontent-%COMP%]   .selected-files[_ngcontent-%COMP%], .image-upload-section[_ngcontent-%COMP%]   .existing-images[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:1rem;margin-top:1rem}.image-upload-section[_ngcontent-%COMP%]   .file-item[_ngcontent-%COMP%], .image-upload-section[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]{position:relative;border:1px solid #dee2e6;border-radius:8px;padding:.5rem;background:#fff}.image-upload-section[_ngcontent-%COMP%]   .file-preview[_ngcontent-%COMP%], .image-upload-section[_ngcontent-%COMP%]   .image-preview[_ngcontent-%COMP%]{width:100%;height:100px;object-fit:cover;border-radius:4px;margin-bottom:.5rem}.image-upload-section[_ngcontent-%COMP%]   .image-overlay[_ngcontent-%COMP%]{position:absolute;inset:0;background:#000000b3;display:flex;align-items:center;justify-content:center;opacity:0;transition:opacity .3s ease}.image-upload-section[_ngcontent-%COMP%]   .image-item[_ngcontent-%COMP%]:hover   .image-overlay[_ngcontent-%COMP%]{opacity:1}@media (max-width: 768px){.stat-number[_ngcontent-%COMP%]{font-size:2rem}.metric-item[_ngcontent-%COMP%]{padding:.5rem}.metric-item[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:1rem}.status-item[_ngcontent-%COMP%]{padding:.5rem}.status-item[_ngcontent-%COMP%]   .status-number[_ngcontent-%COMP%]{font-size:1.5rem}}`]})};var Bt=class o{constructor(t){this.http=t}apiUrl=X.apiUrl+"/booking-confirmation";getPendingBookings(){return this.http.get(`${this.apiUrl}/pending`)}getPendingBookingsByBranch(t){return this.http.get(`${this.apiUrl}/pending/branch/${t}`)}confirmBooking(t){return this.http.post(`${this.apiUrl}/confirm`,t)}rejectBooking(t){return this.http.post(`${this.apiUrl}/reject`,t)}getPendingBookingsCount(){return this.http.get(`${this.apiUrl}/pending/count`)}getPendingBookingsCountByBranch(t){return this.http.get(`${this.apiUrl}/pending/count/branch/${t}`)}getPendingBookingStats(){return this.http.get(`${this.apiUrl}/pending/stats`)}generateBookingTimeline(t){let e=[];return e.push({status:"PENDING",timestamp:t.createdAt,description:"Booking request submitted",actor:t.userFullName}),t.confirmedAt&&t.confirmedByFullName&&e.push({status:"CONFIRMED",timestamp:t.confirmedAt,description:"Booking confirmed by admin",actor:t.confirmedByFullName,notes:t.adminNotes}),t.status==="REJECTED"&&t.confirmedAt&&t.confirmedByFullName&&e.push({status:"REJECTED",timestamp:t.confirmedAt,description:"Booking rejected by admin",actor:t.confirmedByFullName,notes:t.adminNotes}),e.sort((n,s)=>new Date(n.timestamp).getTime()-new Date(s.timestamp).getTime())}getStatusBadgeClass(t){switch(t){case"PENDING":return"badge bg-warning";case"CONFIRMED":return"badge bg-success";case"ACTIVE":return"badge bg-primary";case"COMPLETED":return"badge bg-info";case"CANCELLED":return"badge bg-secondary";case"REJECTED":return"badge bg-danger";default:return"badge bg-secondary"}}getStatusDisplayText(t){switch(t){case"PENDING":return"Pending Approval";case"CONFIRMED":return"Confirmed";case"ACTIVE":return"Active";case"COMPLETED":return"Completed";case"CANCELLED":return"Cancelled";case"REJECTED":return"Rejected";default:return t}}static \u0275fac=function(e){return new(e||o)(j(Z))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};function Wc(o,t){o&1&&(r(0,"div",18),g(1,"div",19),r(2,"p",20),a(3,"Loading branch statistics..."),i()())}function $c(o,t){if(o&1){let e=y();r(0,"div",21),g(1,"i",22),a(2),r(3,"button",23),b("click",function(){u(e);let s=p();return h(s.loadDashboardStats())}),g(4,"i",24),a(5,"Retry "),i()()}if(o&2){let e=p();l(2),C(" ",e.error," ")}}function Hc(o,t){if(o&1&&(r(0,"div",25)(1,"div",26)(2,"div",27)(3,"div",28)(4,"div",29)(5,"div",30),g(6,"i",31),i(),r(7,"h3",32),a(8),i(),r(9,"p",33),a(10,"Total Fleet"),i(),r(11,"small",34),a(12),i()()()(),r(13,"div",27)(14,"div",35)(15,"div",29)(16,"div",30),g(17,"i",36),i(),r(18,"h3",32),a(19),i(),r(20,"p",33),a(21,"Total Bookings"),i(),r(22,"small",37),a(23),i()()()(),r(24,"div",27)(25,"div",38)(26,"div",29)(27,"div",30),g(28,"i",39),i(),r(29,"h3",32),a(30),i(),r(31,"p",33),a(32,"Total Revenue"),i(),r(33,"small",37),a(34),i()()()(),r(35,"div",27)(36,"div",40)(37,"div",29)(38,"div",30),g(39,"i",41),i(),r(40,"h3",42),a(41),i(),r(42,"p",33),a(43,"Fleet Utilization"),i(),r(44,"small",37),a(45,"Current rate"),i()()()()(),r(46,"div",26)(47,"div",43)(48,"div",44)(49,"div",45)(50,"h5",46),g(51,"i",10),a(52,"Booking Status"),i()(),r(53,"div",47)(54,"div",48)(55,"div",49)(56,"div",50)(57,"div",51),a(58),i(),r(59,"div",52),a(60,"Active"),i()()(),r(61,"div",49)(62,"div",50)(63,"div",53),a(64),i(),r(65,"div",52),a(66,"Pending"),i()()(),r(67,"div",49)(68,"div",50)(69,"div",54),a(70),i(),r(71,"div",52),a(72,"Confirmed"),i()()(),r(73,"div",55)(74,"div",50)(75,"div",56),a(76),i(),r(77,"div",52),a(78,"Completed"),i()()(),r(79,"div",55)(80,"div",50)(81,"div",57),a(82),i(),r(83,"div",52),a(84,"Cancelled"),i()()()()()()(),r(85,"div",43)(86,"div",58)(87,"div",45)(88,"h5",46),g(89,"i",59),a(90,"Fleet Status"),i()(),r(91,"div",47)(92,"div",48)(93,"div",60)(94,"div",61)(95,"span",62),a(96,"Available Cars"),i(),r(97,"span",63),a(98),i()()(),r(99,"div",60)(100,"div",61)(101,"span",62),a(102,"Rented Cars"),i(),r(103,"span",64),a(104),i()()(),r(105,"div",60)(106,"div",61)(107,"span",62),a(108,"Utilization Rate"),i(),r(109,"span",65),a(110),i()()(),r(111,"div",60)(112,"div",61)(113,"span",62),a(114,"Total Fleet"),i(),r(115,"span",66),a(116),i()()()()()()()()()),o&2){let e=p();l(8),v(e.dashboardStats.totalCars),l(3),m("ngClass",e.getAvailabilityColor(e.dashboardStats.availableCars,e.dashboardStats.totalCars)),l(),C(" ",e.dashboardStats.availableCars," available "),l(7),v(e.dashboardStats.totalBookings),l(4),C("",e.dashboardStats.activeBookings," active"),l(7),v(e.formatCurrency(e.dashboardStats.totalRevenue)),l(4),C("",e.formatCurrency(e.dashboardStats.monthlyRevenue)," this month"),l(6),m("ngClass",e.getUtilizationColor(e.dashboardStats.fleetUtilizationRate)),l(),v(e.formatPercentage(e.dashboardStats.fleetUtilizationRate)),l(17),v(e.dashboardStats.activeBookings),l(6),v(e.dashboardStats.pendingBookings),l(6),v(e.dashboardStats.confirmedBookings),l(6),v(e.dashboardStats.completedBookings),l(6),v(e.dashboardStats.cancelledBookings),l(16),v(e.dashboardStats.availableCars),l(6),v(e.dashboardStats.totalCars-e.dashboardStats.availableCars),l(5),m("ngClass",e.getUtilizationColor(e.dashboardStats.fleetUtilizationRate)),l(),v(e.formatPercentage(e.dashboardStats.fleetUtilizationRate)),l(6),v(e.dashboardStats.totalCars)}}function Gc(o,t){if(o&1){let e=y();r(0,"button",95),b("click",function(){u(e);let s=p(2);return h(s.openBranchEdit())}),g(1,"i",96),a(2,"Edit"),i()}if(o&2){let e=p(2);m("disabled",e.branchLoading||!e.branch)}}function Yc(o,t){if(o&1&&(r(0,"div",97),a(1),i()),o&2){let e=p(2);l(),v(e.branchError)}}function qc(o,t){o&1&&(r(0,"div",98),g(1,"div",99),i())}function Kc(o,t){if(o&1&&(r(0,"div",100)(1,"div",101)(2,"div",61)(3,"span",62),a(4,"Branch Name"),i(),r(5,"span",66),a(6),i()()(),r(7,"div",101)(8,"div",61)(9,"span",62),a(10,"City"),i(),r(11,"span",66),a(12),i()()(),r(13,"div",101)(14,"div",61)(15,"span",62),a(16,"Address"),i(),r(17,"span",66),a(18),i()()()()),o&2){let e=p(2);l(6),v(e.branch.name),l(6),v(e.branch.city),l(6),v(e.branch.address)}}function Qc(o,t){o&1&&g(0,"span",111)}function Xc(o,t){if(o&1){let e=y();r(0,"form",102),b("ngSubmit",function(){u(e);let s=p(2);return h(s.saveBranch())}),r(1,"div",101)(2,"label",103),a(3,"Branch Name"),i(),r(4,"input",104),I("ngModelChange",function(s){u(e);let c=p(2);return k(c.branchForm.name,s)||(c.branchForm.name=s),h(s)}),i()(),r(5,"div",101)(6,"label",103),a(7,"City"),i(),r(8,"input",105),I("ngModelChange",function(s){u(e);let c=p(2);return k(c.branchForm.city,s)||(c.branchForm.city=s),h(s)}),i()(),r(9,"div",101)(10,"label",103),a(11,"Address"),i(),r(12,"input",106),I("ngModelChange",function(s){u(e);let c=p(2);return k(c.branchForm.address,s)||(c.branchForm.address=s),h(s)}),i()(),r(13,"div",107)(14,"button",108),b("click",function(){u(e);let s=p(2);return h(s.cancelBranchEdit())}),a(15,"Cancel"),i(),r(16,"button",109),_(17,Qc,1,0,"span",110),a(18," Save Changes "),i()()()}if(o&2){let e=p(2);l(4),E("ngModel",e.branchForm.name),l(4),E("ngModel",e.branchForm.city),l(4),E("ngModel",e.branchForm.address),l(4),m("disabled",e.savingBranch),l(),m("ngIf",e.savingBranch)}}function Jc(o,t){if(o&1&&(r(0,"div",97),a(1),i()),o&2){let e=p(2);l(),v(e.bookingError)}}function Zc(o,t){o&1&&(r(0,"div",98),g(1,"div",112),i())}function ed(o,t){o&1&&(r(0,"div",113),a(1," No pending bookings for this branch. "),i())}function td(o,t){if(o&1){let e=y();r(0,"tr")(1,"td"),a(2),i(),r(3,"td"),a(4),i(),r(5,"td"),a(6),i(),r(7,"td"),a(8),Ke(9,"date"),Ke(10,"date"),i(),r(11,"td",117)(12,"button",118),b("click",function(){let s=u(e).$implicit,c=p(3);return h(c.confirm(s))}),g(13,"i",119),a(14,"Confirm "),i(),r(15,"button",120),b("click",function(){let s=u(e).$implicit,c=p(3);return h(c.reject(s))}),g(16,"i",121),a(17,"Reject "),i()()()}if(o&2){let e=t.$implicit;l(2),C("#",e.id,""),l(2),v(e.userFullName),l(2),F("",e.carBrand," ",e.carModel,""),l(2),F("",Mt(9,6,e.startDate,"mediumDate")," - ",Mt(10,9,e.endDate,"mediumDate"),"")}}function nd(o,t){if(o&1&&(r(0,"div",114)(1,"table",115)(2,"thead")(3,"tr")(4,"th"),a(5,"ID"),i(),r(6,"th"),a(7,"Customer"),i(),r(8,"th"),a(9,"Car"),i(),r(10,"th"),a(11,"Dates"),i(),g(12,"th"),i()(),r(13,"tbody"),_(14,td,18,12,"tr",116),i()()()),o&2){let e=p(2);l(14),m("ngForOf",e.pendingBookings)}}function id(o,t){if(o&1&&(r(0,"div",97),a(1),i()),o&2){let e=p(2);l(),v(e.confirmedError)}}function rd(o,t){o&1&&(r(0,"div",98),g(1,"div",122),i())}function od(o,t){o&1&&(r(0,"div",113),a(1,"No confirmed bookings."),i())}function ad(o,t){if(o&1){let e=y();r(0,"tr")(1,"td"),a(2),i(),r(3,"td")(4,"div"),a(5),i(),r(6,"small",37),a(7),i()(),r(8,"td"),a(9),i(),r(10,"td"),a(11),Ke(12,"date"),Ke(13,"date"),i(),r(14,"td")(15,"span",123),a(16),i()(),r(17,"td"),a(18),Ke(19,"date"),i(),r(20,"td",117)(21,"div",124)(22,"button",125),b("click",function(){let s=u(e).$implicit,c=p(3);return h(c.setActive(s))}),g(23,"i",126),a(24,"Active "),i(),r(25,"button",127),b("click",function(){let s=u(e).$implicit,c=p(3);return h(c.setCompleted(s))}),g(26,"i",128),a(27,"Complete "),i(),r(28,"button",129),b("click",function(){let s=u(e).$implicit,c=p(3);return h(c.setCancelled(s))}),g(29,"i",130),a(30,"Cancel "),i()()()()}if(o&2){let e=t.$implicit,n=p(3);l(2),C("#",e.id,""),l(3),v(e.userFullName),l(2),v(e.userEmail),l(2),F("",e.carBrand," ",e.carModel,""),l(2),F("",Mt(12,13,e.startDate,"mediumDate")," - ",Mt(13,16,e.endDate,"mediumDate"),""),l(4),m("ngClass",n.getBookingBadgeClass(e.status)),l(),v(e.status),l(2),v(Mt(19,19,e.createdAt,"short")),l(4),m("disabled",e.status==="ACTIVE"),l(3),m("disabled",e.status==="COMPLETED"),l(3),m("disabled",e.status==="CANCELLED")}}function sd(o,t){if(o&1&&(r(0,"div",114)(1,"table",115)(2,"thead")(3,"tr")(4,"th"),a(5,"ID"),i(),r(6,"th"),a(7,"Customer"),i(),r(8,"th"),a(9,"Car"),i(),r(10,"th"),a(11,"Dates"),i(),r(12,"th"),a(13,"Status"),i(),r(14,"th"),a(15,"Created"),i(),r(16,"th",117),a(17,"Actions"),i()()(),r(18,"tbody"),_(19,ad,31,22,"tr",116),i()()()),o&2){let e=p(2);l(19),m("ngForOf",e.confirmedBookings)}}function ld(o,t){if(o&1){let e=y();r(0,"div")(1,"div",67)(2,"div",68)(3,"h5",46),g(4,"i",69),a(5,"Filters"),i(),r(6,"div",70)(7,"select",71),I("ngModelChange",function(s){u(e);let c=p();return k(c.bookingStatusFilter,s)||(c.bookingStatusFilter=s),h(s)}),b("change",function(){u(e);let s=p();return h(s.onFilterChange())}),r(8,"option",72),a(9,"All"),i(),r(10,"option",73),a(11,"Confirmed"),i(),r(12,"option",74),a(13,"Active"),i(),r(14,"option",75),a(15,"Completed"),i(),r(16,"option",76),a(17,"Cancelled"),i()(),r(18,"input",77),I("ngModelChange",function(s){u(e);let c=p();return k(c.bookingSearch,s)||(c.bookingSearch=s),h(s)}),b("input",function(){u(e);let s=p();return h(s.onFilterChange())}),i(),r(19,"select",71),I("ngModelChange",function(s){u(e);let c=p();return k(c.bookingsPageSize,s)||(c.bookingsPageSize=s),h(s)}),b("change",function(){u(e);let s=p();return h(s.onFilterChange())}),r(20,"option",78),a(21,"5"),i(),r(22,"option",78),a(23,"10"),i(),r(24,"option",78),a(25,"20"),i()()()()(),r(26,"div",48)(27,"div",79)(28,"div",80)(29,"div",81)(30,"h5",46),g(31,"i",82),a(32,"Branch Management "),i(),r(33,"div"),_(34,Gc,3,1,"button",83),i()(),r(35,"div",47),_(36,Yc,2,1,"div",84)(37,qc,2,0,"div",85)(38,Kc,19,3,"div",86)(39,Xc,19,5,"form",87),i()()()(),r(40,"div",88)(41,"div",79)(42,"div",44)(43,"div",45)(44,"h5",46),g(45,"i",11),a(46,"Pending Bookings "),i()(),r(47,"div",47),_(48,Jc,2,1,"div",84)(49,Zc,2,0,"div",85)(50,ed,2,0,"div",89)(51,nd,15,1,"div",90),i()()()(),r(52,"div",88)(53,"div",79)(54,"div",44)(55,"div",45)(56,"h5",46),g(57,"i",91),a(58,"Confirmed Bookings "),i()(),r(59,"div",47),_(60,id,2,1,"div",84)(61,rd,2,0,"div",85)(62,od,2,0,"div",89)(63,sd,20,1,"div",90),i()()()(),r(64,"div",92)(65,"button",93),b("click",function(){u(e);let s=p();return h(s.changeBookingsPage(s.bookingsPage-1))}),a(66,"Prev"),i(),r(67,"span",94),a(68),i(),r(69,"button",93),b("click",function(){u(e);let s=p();return h(s.changeBookingsPage(s.bookingsPage+1))}),a(70,"Next"),i()()()}if(o&2){let e=p();l(7),E("ngModel",e.bookingStatusFilter),l(11),E("ngModel",e.bookingSearch),l(),E("ngModel",e.bookingsPageSize),l(),m("ngValue",5),l(2),m("ngValue",10),l(2),m("ngValue",20),l(10),m("ngIf",!e.branchEditing),l(2),m("ngIf",e.branchError),l(),m("ngIf",e.branchLoading),l(),m("ngIf",!e.branchLoading&&e.branch&&!e.branchEditing),l(),m("ngIf",!e.branchLoading&&e.branchEditing),l(9),m("ngIf",e.bookingError),l(),m("ngIf",e.bookingsLoading),l(),m("ngIf",!e.bookingsLoading&&e.pendingBookings.length===0),l(),m("ngIf",!e.bookingsLoading&&e.pendingBookings.length>0),l(9),m("ngIf",e.confirmedError),l(),m("ngIf",e.confirmedLoading),l(),m("ngIf",!e.confirmedLoading&&e.confirmedBookings.length===0),l(),m("ngIf",!e.confirmedLoading&&e.confirmedBookings.length>0),l(2),m("disabled",e.bookingsPage===1),l(3),C("Page ",e.bookingsPage,""),l(),m("disabled",e.confirmedBookings.length<e.bookingsPageSize)}}function cd(o,t){o&1&&(r(0,"div",135),g(1,"div",99),i())}function dd(o,t){if(o&1&&(r(0,"div",136),a(1),i()),o&2){let e=p(2);l(),v(e.financialError)}}function md(o,t){if(o&1&&(r(0,"div")(1,"div",137)(2,"div",138)(3,"div",61)(4,"span",62),a(5,"Total Revenue"),i(),r(6,"span",63),a(7),i()()(),r(8,"div",138)(9,"div",61)(10,"span",62),a(11,"Total Expense"),i(),r(12,"span",139),a(13),i()()(),r(14,"div",138)(15,"div",61)(16,"span",62),a(17,"Net"),i(),r(18,"span",66),a(19),i()()()()()),o&2){let e=p(2);l(7),v(e.formatCurrency(e.financialReport.totalRevenue)),l(6),v(e.formatCurrency(e.financialReport.totalExpenses)),l(6),v(e.formatCurrency(e.financialReport.netProfit))}}function gd(o,t){o&1&&(r(0,"div",135),g(1,"div",99),i())}function pd(o,t){if(o&1&&(r(0,"div",136),a(1),i()),o&2){let e=p(2);l(),v(e.transactionsError)}}function fd(o,t){if(o&1&&(r(0,"tr")(1,"td"),a(2),i(),r(3,"td"),g(4,"i",140),a(5),i(),r(6,"td"),a(7),i(),r(8,"td")(9,"span",123),a(10),i()()()),o&2){let e=t.$implicit,n=p(3);l(2),v(n.formatDateTime(e.transactionDate)),l(2),$(n.getTransactionTypeIcon(e.transactionType)),l(),v(n.getTransactionTypeLabel(e.transactionType)),l(2),v(n.formatCurrency(e.amount)),l(2),m("ngClass","bg-"+n.getStatusColor(e.status)),l(),v(n.getTransactionStatusLabel(e.status))}}function ud(o,t){if(o&1&&(r(0,"div",114)(1,"table",115)(2,"thead")(3,"tr")(4,"th"),a(5,"Date"),i(),r(6,"th"),a(7,"Type"),i(),r(8,"th"),a(9,"Amount"),i(),r(10,"th"),a(11,"Status"),i()()(),r(12,"tbody"),_(13,fd,11,7,"tr",116),i()()()),o&2){let e=p(2);l(13),m("ngForOf",e.transactions)}}function hd(o,t){o&1&&(r(0,"div",37),a(1,"No transactions."),i())}function _d(o,t){if(o&1&&(r(0,"div")(1,"div",88)(2,"div",43)(3,"div",44)(4,"div",45)(5,"h5",46),g(6,"i",12),a(7,"Current Month Financials"),i()(),r(8,"div",47),_(9,cd,2,0,"div",131)(10,dd,2,1,"div",132)(11,md,20,3,"div",17),i()()(),r(12,"div",43)(13,"div",44)(14,"div",45)(15,"h5",46),g(16,"i",133),a(17,"Recent Transactions"),i()(),r(18,"div",47),_(19,gd,2,0,"div",131)(20,pd,2,1,"div",132)(21,ud,14,1,"div",90)(22,hd,2,0,"div",134),i()()()()()),o&2){let e=p();l(9),m("ngIf",e.reportLoading),l(),m("ngIf",e.financialError),l(),m("ngIf",!e.reportLoading&&e.financialReport),l(8),m("ngIf",e.txLoading),l(),m("ngIf",e.transactionsError),l(),m("ngIf",!e.txLoading&&e.transactions.length>0),l(),m("ngIf",!e.txLoading&&e.transactions.length===0)}}function bd(o,t){if(o&1&&(r(0,"div",97),a(1),i()),o&2){let e=p(2);l(),v(e.fleetError)}}function vd(o,t){o&1&&(r(0,"div",135),g(1,"div",99),i())}function Cd(o,t){if(o&1){let e=y();r(0,"tr")(1,"td"),a(2),i(),r(3,"td"),a(4),i(),r(5,"td"),a(6),i(),r(7,"td"),a(8),i(),r(9,"td")(10,"span",123),a(11),i()(),r(12,"td",117)(13,"button",144),b("click",function(){let s=u(e).$implicit,c=p(3);return h(c.toggleAvailability(s))}),g(14,"i",145),r(15,"span",146),a(16),i()()()()}if(o&2){let e=t.$implicit,n=p(3);l(2),C("#",e.id,""),l(2),F("",e.brand," ",e.model,""),l(2),v(e.type),l(2),v(n.formatCurrency(e.price)),l(2),m("ngClass",e.availability?"bg-success":"bg-secondary"),l(),v(e.availability?"Yes":"No"),l(2),m("ngClass",e.availability?"btn-outline-secondary":"btn-outline-success"),l(),w("fa-toggle-on",e.availability)("fa-toggle-off",!e.availability),l(2),v(e.availability?"Disable":"Enable")}}function xd(o,t){if(o&1&&(r(0,"div",114)(1,"table",115)(2,"thead")(3,"tr")(4,"th"),a(5,"ID"),i(),r(6,"th"),a(7,"Car"),i(),r(8,"th"),a(9,"Type"),i(),r(10,"th"),a(11,"Price"),i(),r(12,"th"),a(13,"Available"),i(),r(14,"th",117),a(15,"Action"),i()()(),r(16,"tbody"),_(17,Cd,17,13,"tr",116),i()()()),o&2){let e=p(2);l(17),m("ngForOf",e.branchCars)}}function Md(o,t){if(o&1){let e=y();r(0,"button",95),b("click",function(){u(e);let s=p(2);return h(s.openBranchEdit())}),g(1,"i",96),a(2,"Edit"),i()}if(o&2){let e=p(2);m("disabled",e.branchLoading||!e.branch)}}function Pd(o,t){if(o&1&&(r(0,"div",97),a(1),i()),o&2){let e=p(2);l(),v(e.branchError)}}function yd(o,t){o&1&&(r(0,"div",98),g(1,"div",99),i())}function Od(o,t){if(o&1&&(r(0,"div",100)(1,"div",101)(2,"div",61)(3,"span",62),a(4,"Branch Name"),i(),r(5,"span",66),a(6),i()()(),r(7,"div",101)(8,"div",61)(9,"span",62),a(10,"City"),i(),r(11,"span",66),a(12),i()()(),r(13,"div",101)(14,"div",61)(15,"span",62),a(16,"Address"),i(),r(17,"span",66),a(18),i()()()()),o&2){let e=p(2);l(6),v(e.branch.name),l(6),v(e.branch.city),l(6),v(e.branch.address)}}function Sd(o,t){o&1&&g(0,"span",111)}function wd(o,t){if(o&1){let e=y();r(0,"form",102),b("ngSubmit",function(){u(e);let s=p(2);return h(s.saveBranch())}),r(1,"div",101)(2,"label",103),a(3,"Branch Name"),i(),r(4,"input",104),I("ngModelChange",function(s){u(e);let c=p(2);return k(c.branchForm.name,s)||(c.branchForm.name=s),h(s)}),i()(),r(5,"div",101)(6,"label",103),a(7,"City"),i(),r(8,"input",105),I("ngModelChange",function(s){u(e);let c=p(2);return k(c.branchForm.city,s)||(c.branchForm.city=s),h(s)}),i()(),r(9,"div",101)(10,"label",103),a(11,"Address"),i(),r(12,"input",106),I("ngModelChange",function(s){u(e);let c=p(2);return k(c.branchForm.address,s)||(c.branchForm.address=s),h(s)}),i()(),r(13,"div",107)(14,"button",108),b("click",function(){u(e);let s=p(2);return h(s.cancelBranchEdit())}),a(15,"Cancel"),i(),r(16,"button",109),_(17,Sd,1,0,"span",110),a(18," Save Changes "),i()()()}if(o&2){let e=p(2);l(4),E("ngModel",e.branchForm.name),l(4),E("ngModel",e.branchForm.city),l(4),E("ngModel",e.branchForm.address),l(4),m("disabled",e.savingBranch),l(),m("ngIf",e.savingBranch)}}function Ed(o,t){if(o&1&&(r(0,"div")(1,"div",67)(2,"div",141)(3,"h5",46),g(4,"i",142),a(5,"Quick Fleet"),i(),r(6,"small",143),a(7,"Toggle availability"),i()(),r(8,"div",47),_(9,bd,2,1,"div",84)(10,vd,2,0,"div",131)(11,xd,18,1,"div",90),i()(),r(12,"div",48)(13,"div",79)(14,"div",80)(15,"div",81)(16,"h5",46),g(17,"i",82),a(18,"Branch Management "),i(),r(19,"div"),_(20,Md,3,1,"button",83),i()(),r(21,"div",47),_(22,Pd,2,1,"div",84)(23,yd,2,0,"div",85)(24,Od,19,3,"div",86)(25,wd,19,5,"form",87),i()()()()()),o&2){let e=p();l(9),m("ngIf",e.fleetError),l(),m("ngIf",e.fleetLoading),l(),m("ngIf",!e.fleetLoading),l(9),m("ngIf",!e.branchEditing),l(2),m("ngIf",e.branchError),l(),m("ngIf",e.branchLoading),l(),m("ngIf",!e.branchLoading&&e.branch&&!e.branchEditing),l(),m("ngIf",!e.branchLoading&&e.branchEditing)}}var Un=class o{constructor(t,e,n,s,c,d,f){this.dashboardService=t;this.route=e;this.bookingConfirmationService=n;this.financialService=s;this.branchService=c;this.bookingService=d;this.carService=f}activeTab="overview";canScrollLeft=!1;canScrollRight=!1;dashboardStats=null;isLoading=!0;error=null;branchId=null;branch=null;branchLoading=!1;branchError=null;branchEditing=!1;branchForm={};savingBranch=!1;pendingBookings=[];bookingsLoading=!1;bookingError=null;confirmedBookings=[];confirmedLoading=!1;confirmedError=null;bookingStatusFilter="ALL";bookingSearch="";bookingsPage=1;bookingsPageSize=10;financialReport=null;reportLoading=!1;financialError=null;transactions=[];txLoading=!1;transactionsError=null;branchCars=[];fleetLoading=!1;fleetError=null;ngOnInit(){this.route.params.subscribe(t=>{this.branchId=+t.branchId,this.branchId?(this.loadDashboardStats(),this.loadPendingBookings(),this.loadConfirmedBookings(),this.loadFinancialSummary(),this.loadRecentTransactions(),this.loadBranch(),this.loadBranchFleet(),setTimeout(()=>{this.checkScrollPosition(),this.setupScrollListener()},100)):(this.error="Branch ID is required",this.isLoading=!1)})}switchTab(t){this.activeTab=t,setTimeout(()=>this.checkScrollPosition(),50)}checkScrollPosition(){let t=document.querySelector(".nav-tabs-container");t&&(this.canScrollLeft=t.scrollLeft>0,this.canScrollRight=t.scrollLeft<t.scrollWidth-t.clientWidth)}scrollLeft(){let t=document.querySelector(".nav-tabs-container");t&&(t.scrollBy({left:-200,behavior:"smooth"}),setTimeout(()=>this.checkScrollPosition(),300))}scrollRight(){let t=document.querySelector(".nav-tabs-container");t&&(t.scrollBy({left:200,behavior:"smooth"}),setTimeout(()=>this.checkScrollPosition(),300))}setupScrollListener(){let t=document.querySelector(".nav-tabs-container");t&&t.addEventListener("scroll",()=>this.checkScrollPosition()),window.addEventListener("resize",()=>setTimeout(()=>this.checkScrollPosition(),100))}loadDashboardStats(){this.branchId&&(this.isLoading=!0,this.error=null,this.dashboardService.getManagerDashboard(this.branchId).subscribe({next:t=>{this.dashboardStats=t,this.isLoading=!1},error:t=>{console.error("Error loading manager dashboard stats:",t),this.error="Failed to load dashboard statistics",this.isLoading=!1}}))}loadBranch(){this.branchId&&(this.branchLoading=!0,this.branchError=null,this.branchService.getBranchById(this.branchId).subscribe({next:t=>{this.branch=t,this.branchLoading=!1},error:t=>{console.error(t),this.branchError="Failed to load branch details",this.branchLoading=!1}}))}openBranchEdit(){this.branch&&(this.branchForm={name:this.branch.name,city:this.branch.city,address:this.branch.address},this.branchEditing=!0)}cancelBranchEdit(){this.branchEditing=!1,this.branchForm={}}saveBranch(){if(!this.branch||!this.branchId)return;let{name:t,city:e,address:n}=this.branchForm;if(!t||!e||!n){alert("Please fill in Name, City, and Address");return}this.savingBranch=!0,this.branchError=null,this.branchService.updateBranch(this.branchId,{name:t,city:e,address:n}).subscribe({next:s=>{this.branch=s,this.branchEditing=!1,this.savingBranch=!1},error:s=>{console.error(s),this.branchError="Failed to save branch changes",this.savingBranch=!1}})}loadPendingBookings(){this.branchId&&(this.bookingsLoading=!0,this.bookingError=null,this.bookingConfirmationService.getPendingBookingsByBranch(this.branchId).subscribe({next:t=>{this.pendingBookings=t,this.bookingsLoading=!1},error:t=>{console.error(t),this.bookingError="Failed to load pending bookings",this.bookingsLoading=!1}}))}loadConfirmedBookings(){this.branchId&&(this.confirmedLoading=!0,this.confirmedError=null,this.bookingService.getBranchBookings(this.branchId).subscribe({next:t=>{let e=(t||[]).filter(c=>["CONFIRMED","ACTIVE","COMPLETED","CANCELLED"].includes(c.status));if(this.bookingStatusFilter!=="ALL"&&(e=e.filter(c=>c.status===this.bookingStatusFilter)),this.bookingSearch){let c=this.bookingSearch.toLowerCase();e=e.filter(d=>d.userFullName&&d.userFullName.toLowerCase().includes(c)||d.carBrand&&d.carBrand.toLowerCase().includes(c)||d.carModel&&d.carModel.toLowerCase().includes(c)||(""+d.id).includes(c))}let n=(this.bookingsPage-1)*this.bookingsPageSize,s=n+this.bookingsPageSize;this.confirmedBookings=e.slice(n,s),this.confirmedLoading=!1},error:t=>{console.error(t),this.confirmedError="Failed to load confirmed bookings",this.confirmedLoading=!1}}))}onFilterChange(){this.bookingsPage=1,this.loadConfirmedBookings()}changeBookingsPage(t){this.bookingsPage=t,this.loadConfirmedBookings()}confirm(t){let e={bookingId:t.id,status:"CONFIRMED",adminNotes:"Approved by manager"};this.bookingConfirmationService.confirmBooking(e).subscribe({next:()=>{this.loadPendingBookings(),this.loadDashboardStats(),this.loadConfirmedBookings()},error:()=>{this.bookingError="Failed to confirm booking"}})}reject(t){let e=prompt("Add a note for rejection (optional):")||"",n={bookingId:t.id,status:"REJECTED",adminNotes:e};this.bookingConfirmationService.rejectBooking(n).subscribe({next:()=>{this.loadPendingBookings(),this.loadDashboardStats()},error:()=>{this.bookingError="Failed to reject booking"}})}loadFinancialSummary(){this.reportLoading=!0,this.financialError=null,this.financialService.getCurrentMonthReport().subscribe({next:t=>{this.financialReport=t,this.reportLoading=!1},error:t=>{console.error(t),this.financialError="Failed to load financial summary",this.reportLoading=!1}})}loadRecentTransactions(){this.branchId&&(this.txLoading=!0,this.transactionsError=null,this.financialService.searchTransactions({branchId:this.branchId,page:0,size:10}).subscribe({next:t=>{this.transactions=t.content||[],this.txLoading=!1},error:t=>{console.error(t),this.transactionsError="Failed to load transactions",this.txLoading=!1}}))}loadBranchFleet(){this.branchId&&(this.fleetLoading=!0,this.fleetError=null,this.carService.getAllCars().subscribe({next:t=>{this.branchCars=(t||[]).filter(e=>e.branchId===this.branchId),this.fleetLoading=!1},error:t=>{console.error(t),this.fleetError="Failed to load branch fleet",this.fleetLoading=!1}}))}toggleAvailability(t){let e=!t.availability;this.carService.updateCar(t.id,{availability:e}).subscribe({next:n=>{t.availability=n.availability},error:n=>{console.error(n),alert("Failed to update availability")}})}updateBookingStatus(t,e){this.bookingService.updateStatus(t,e).subscribe({next:()=>{this.loadConfirmedBookings(),this.loadDashboardStats()},error:n=>{console.error(n),alert("Failed to update booking status")}})}setActive(t){this.bookingService.activate(t.id).subscribe({next:()=>{this.loadConfirmedBookings(),this.loadDashboardStats()},error:e=>{console.error(e),alert("Failed to activate")}})}setCompleted(t){this.bookingService.complete(t.id).subscribe({next:()=>{this.loadConfirmedBookings(),this.loadDashboardStats()},error:e=>{console.error(e),alert("Failed to complete")}})}setCancelled(t){this.bookingService.cancelAsManager(t.id).subscribe({next:()=>{this.loadConfirmedBookings(),this.loadDashboardStats()},error:e=>{console.error(e),alert("Failed to cancel")}})}formatCurrency(t){return this.financialService.formatCurrency(t)}formatDateTime(t){return this.financialService.formatDateTime(t)}getStatusColor(t){return this.financialService.getStatusColor(t)}getTransactionTypeLabel(t){return this.financialService.getTransactionTypeLabel(t)}getTransactionStatusLabel(t){return this.financialService.getTransactionStatusLabel(t)}getTransactionTypeIcon(t){return this.financialService.getTransactionTypeIcon(t)}getBookingBadgeClass(t){return{PENDING:"bg-warning",CONFIRMED:"bg-info",ACTIVE:"bg-success",COMPLETED:"bg-primary",CANCELLED:"bg-danger",REJECTED:"bg-secondary"}[t]||"bg-secondary"}formatPercentage(t){return`${t.toFixed(1)}%`}getUtilizationColor(t){return t>=80?"text-success":t>=60?"text-warning":"text-danger"}getAvailabilityColor(t,e){let n=e>0?t/e*100:0;return n>=50?"text-success":n>=25?"text-warning":"text-danger"}static \u0275fac=function(e){return new(e||o)(P(At),P(tn),P(Bt),P(gt),P(Nt),P(Le),P(_e))};static \u0275cmp=A({type:o,selectors:[["app-manager-dashboard"]],decls:32,vars:15,consts:[[1,"manager-dashboard"],[1,"container","py-4"],[1,"dashboard-header","text-center","mb-5","fade-in"],[1,"display-5","fw-bold","text-white","mb-3"],[1,"lead","text-white-50"],[1,"nav-tabs-section","mb-4"],[1,"nav-tabs-container"],[1,"nav","admin-nav-tabs","justify-content-center"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-chart-pie","me-2"],[1,"fas","fa-calendar-check","me-2"],[1,"fas","fa-dollar-sign","me-2"],[1,"fas","fa-building","me-2"],["class","text-center py-5",4,"ngIf"],["class","alert alert-danger text-center","role","alert",4,"ngIf"],["class","dashboard-content",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-light"],[1,"text-white","mt-3"],["role","alert",1,"alert","alert-danger","text-center"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"btn","btn-outline-danger","ms-3",3,"click"],[1,"fas","fa-redo","me-2"],[1,"dashboard-content"],[1,"row","mb-4"],[1,"col-lg-3","col-md-6","mb-3"],[1,"stat-card","card","text-center","bounce-in"],[1,"card-body","p-4"],[1,"stat-icon","mb-3"],[1,"fas","fa-car","fa-2x","text-primary"],[1,"stat-number","mb-2"],[1,"stat-label","mb-0"],[1,"text-muted",3,"ngClass"],[1,"stat-card","card","text-center","bounce-in",2,"animation-delay","0.1s"],[1,"fas","fa-calendar-check","fa-2x","text-success"],[1,"text-muted"],[1,"stat-card","card","text-center","bounce-in",2,"animation-delay","0.2s"],[1,"fas","fa-dollar-sign","fa-2x","text-warning"],[1,"stat-card","card","text-center","bounce-in",2,"animation-delay","0.3s"],[1,"fas","fa-chart-line","fa-2x","text-info"],[1,"stat-number","mb-2",3,"ngClass"],[1,"col-lg-6","mb-3"],[1,"card","slide-up"],[1,"card-header"],[1,"mb-0"],[1,"card-body"],[1,"row"],[1,"col-6","col-md-4","text-center","mb-3"],[1,"status-item"],[1,"status-number","text-primary"],[1,"status-label"],[1,"status-number","text-warning"],[1,"status-number","text-info"],[1,"col-6","col-md-6","text-center","mb-3"],[1,"status-number","text-success"],[1,"status-number","text-danger"],[1,"card","slide-up",2,"animation-delay","0.1s"],[1,"fas","fa-chart-bar","me-2"],[1,"col-6"],[1,"metric-item"],[1,"metric-label"],[1,"metric-value","text-success"],[1,"metric-value","text-primary"],[1,"metric-value",3,"ngClass"],[1,"metric-value"],[1,"card","slide-up","mb-3"],[1,"card-header","d-flex","flex-wrap","align-items-center","gap-2"],[1,"fas","fa-filter","me-2"],[1,"ms-auto","d-flex","flex-wrap","gap-2"],[1,"form-select",3,"ngModelChange","change","ngModel"],["value","ALL"],["value","CONFIRMED"],["value","ACTIVE"],["value","COMPLETED"],["value","CANCELLED"],["placeholder","Search by ID, customer, car",1,"form-control",3,"ngModelChange","input","ngModel"],[3,"ngValue"],[1,"col-12"],[1,"card","slide-up",2,"animation-delay","0.2s"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-tools","me-2"],["class","btn btn-sm btn-outline-primary",3,"disabled","click",4,"ngIf"],["class","alert alert-danger mb-3",4,"ngIf"],["class","text-center py-4",4,"ngIf"],["class","row g-3",4,"ngIf"],["class","row g-3",3,"ngSubmit",4,"ngIf"],[1,"row","mt-4"],["class","text-center text-muted",4,"ngIf"],["class","table-responsive",4,"ngIf"],[1,"fas","fa-check-circle","me-2"],[1,"d-flex","justify-content-end","gap-2","mt-2"],[1,"btn","btn-outline-secondary","btn-sm",3,"click","disabled"],[1,"badge","bg-light","text-dark","align-self-center"],[1,"btn","btn-sm","btn-outline-primary",3,"click","disabled"],[1,"fas","fa-edit","me-1"],[1,"alert","alert-danger","mb-3"],[1,"text-center","py-4"],[1,"spinner-border"],[1,"row","g-3"],[1,"col-md-4"],[1,"row","g-3",3,"ngSubmit"],[1,"form-label"],["type","text","name","name","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","city","required","",1,"form-control",3,"ngModelChange","ngModel"],["type","text","name","address","required","",1,"form-control",3,"ngModelChange","ngModel"],[1,"col-12","d-flex","justify-content-end","gap-2"],["type","button",1,"btn","btn-outline-secondary",3,"click"],["type","submit",1,"btn","btn-primary",3,"disabled"],["class","spinner-border spinner-border-sm me-2",4,"ngIf"],[1,"spinner-border","spinner-border-sm","me-2"],["role","status",1,"spinner-border","text-primary"],[1,"text-center","text-muted"],[1,"table-responsive"],[1,"table","align-middle"],[4,"ngFor","ngForOf"],[1,"text-end"],[1,"btn","btn-sm","btn-success","me-2",3,"click"],[1,"fas","fa-check","me-1"],[1,"btn","btn-sm","btn-danger",3,"click"],[1,"fas","fa-times","me-1"],[1,"spinner-border","text-success"],[1,"badge",3,"ngClass"],[1,"btn-group"],[1,"btn","btn-sm","btn-success",3,"click","disabled"],[1,"fas","fa-play","me-1"],[1,"btn","btn-sm","btn-primary",3,"click","disabled"],[1,"fas","fa-flag-checkered","me-1"],[1,"btn","btn-sm","btn-danger",3,"click","disabled"],[1,"fas","fa-ban","me-1"],["class","text-center py-3",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"fas","fa-receipt","me-2"],["class","text-muted",4,"ngIf"],[1,"text-center","py-3"],[1,"alert","alert-danger"],[1,"row","text-center"],[1,"col-4"],[1,"metric-value","text-danger"],[1,"me-2"],[1,"card-header","d-flex","align-items-center","justify-content-between"],[1,"fas","fa-car","me-2"],[1,"text-white-50"],[1,"btn","btn-sm",3,"click","ngClass"],[1,"fas"],[1,"ms-1"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),a(4,"Branch Manager Dashboard"),i(),r(5,"p",4),a(6),i()(),r(7,"div",5)(8,"div",6)(9,"ul",7)(10,"li",8)(11,"button",9),b("click",function(){return n.switchTab("overview")}),g(12,"i",10),a(13,"Overview "),i()(),r(14,"li",8)(15,"button",9),b("click",function(){return n.switchTab("bookings")}),g(16,"i",11),a(17,"Bookings "),i()(),r(18,"li",8)(19,"button",9),b("click",function(){return n.switchTab("financial")}),g(20,"i",12),a(21,"Financial "),i()(),r(22,"li",8)(23,"button",9),b("click",function(){return n.switchTab("branch")}),g(24,"i",13),a(25,"Branch "),i()()()()(),_(26,Wc,4,0,"div",14)(27,$c,6,1,"div",15)(28,Hc,117,19,"div",16)(29,ld,71,22,"div",17)(30,_d,23,7,"div",17)(31,Ed,26,8,"div",17),i()()),e&2&&(l(6),C("Branch ",n.branchId," Operations Overview"),l(5),w("active",n.activeTab==="overview"),l(4),w("active",n.activeTab==="bookings"),l(4),w("active",n.activeTab==="financial"),l(4),w("active",n.activeTab==="branch"),l(3),m("ngIf",n.isLoading),l(),m("ngIf",n.error),l(),m("ngIf",!n.isLoading&&!n.error&&n.dashboardStats&&n.activeTab==="overview"),l(),m("ngIf",n.activeTab==="bookings"),l(),m("ngIf",n.activeTab==="financial"),l(),m("ngIf",n.activeTab==="branch"))},dependencies:[L,Ce,J,B,rr,se,Ze,de,Xe,Je,Me,Qe,le,ce,Ot,rn,nn],styles:['.manager-dashboard[_ngcontent-%COMP%]{min-height:100vh;background:var(--gradient-primary);padding:20px 0}.dashboard-header[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .8s ease-in-out}.stat-card[_ngcontent-%COMP%], .card[_ngcontent-%COMP%]{background:#fffffff2;border:none;border-radius:15px;box-shadow:0 8px 32px #0000001a;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);transition:all .3s ease}.stat-card[_ngcontent-%COMP%]:hover, .card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 12px 40px #00000026}.card-header[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;border:none;border-radius:15px 15px 0 0;padding:1rem 1.5rem}.stat-icon[_ngcontent-%COMP%]{width:60px;height:60px;border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto;background:var(--gradient-accent);color:#fff}.stat-number[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;color:#2c3e50;margin:0}.stat-label[_ngcontent-%COMP%]{font-size:1.1rem;font-weight:600;color:#34495e;margin:0}.metric-item[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;text-align:center;padding:1rem}.metric-item[_ngcontent-%COMP%]   .metric-label[_ngcontent-%COMP%]{font-size:.9rem;color:#7f8c8d;font-weight:500;margin-bottom:.5rem}.metric-item[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:1.2rem;font-weight:700;color:#2c3e50}.status-item[_ngcontent-%COMP%]{padding:1rem}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:none;font-weight:600;color:#495057}.table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{vertical-align:middle}.badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem .75rem}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.alert[_ngcontent-%COMP%]{border-radius:15px;border:none;box-shadow:0 4px 20px #0000001a}.fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .8s ease-in-out}.bounce-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bounceIn .6s ease-out}.slide-up[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideUp .6s ease-out}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}@keyframes _ngcontent-%COMP%_bounceIn{0%{opacity:0;transform:scale(.3)}50%{opacity:1;transform:scale(1.05)}70%{transform:scale(.9)}to{opacity:1;transform:scale(1)}}@keyframes _ngcontent-%COMP%_slideUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}.nav-tabs-section[_ngcontent-%COMP%]{background:#ffffff1a;border-radius:15px;padding:1rem;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:1px solid rgba(255,255,255,.2);position:relative}.nav-tabs-container[_ngcontent-%COMP%]{overflow-x:auto;overflow-y:hidden;-webkit-overflow-scrolling:touch;position:relative}.nav-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar{height:4px}.nav-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#ffffff1a;border-radius:2px}.nav-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ffffff4d;border-radius:2px}.nav-tabs-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#ffffff80}.scroll-indicator[_ngcontent-%COMP%]{position:absolute;top:50%;transform:translateY(-50%);width:30px;height:30px;background:#ffffffe6;border-radius:50%;display:flex;align-items:center;justify-content:center;color:#2c3e50;font-size:.8rem;z-index:10;cursor:pointer;transition:all .3s ease;box-shadow:0 2px 8px #0000001a}.scroll-indicator[_ngcontent-%COMP%]:hover{background:#fff;transform:translateY(-50%) scale(1.1);box-shadow:0 4px 12px #00000026}.scroll-indicator.left[_ngcontent-%COMP%]{left:5px}.scroll-indicator.right[_ngcontent-%COMP%]{right:5px}.admin-nav-tabs[_ngcontent-%COMP%]{border:none;min-width:max-content;white-space:nowrap;display:flex;align-items:center;justify-content:center}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{margin:0 2px;flex-shrink:0}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;border-radius:10px;padding:.75rem 1.25rem;color:#ffffffe6;background:#ffffff1f;transition:all .3s ease;font-weight:500;white-space:nowrap;display:flex;align-items:center;justify-content:center;min-width:140px;height:48px;position:relative;overflow:hidden}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(255,255,255,.2),transparent);transition:left .5s ease}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover:before{left:100%}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{background:#ffffff38;color:#fff;transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;box-shadow:0 4px 15px #667eea66;transform:translateY(-2px)}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]:after{content:"";position:absolute;bottom:0;left:50%;transform:translate(-50%);width:30px;height:3px;background:#fff;border-radius:2px}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem;margin-right:.5rem;transition:transform .3s ease}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{transform:scale(1.1)}@media (max-width: 768px){.stat-number[_ngcontent-%COMP%]{font-size:2rem}.metric-item[_ngcontent-%COMP%]{padding:.5rem}.metric-item[_ngcontent-%COMP%]   .metric-value[_ngcontent-%COMP%]{font-size:1rem}.status-item[_ngcontent-%COMP%]{padding:.5rem}.status-item[_ngcontent-%COMP%]   .status-number[_ngcontent-%COMP%]{font-size:1.5rem}.nav-tabs-section[_ngcontent-%COMP%]{padding:.5rem;margin:0 -.5rem}.nav-tabs-container[_ngcontent-%COMP%]{padding:0 .5rem}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.5rem .75rem;min-width:120px;font-size:.875rem;height:40px}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.8rem;margin-right:.25rem}}@media (max-width: 576px){.nav-tabs-section[_ngcontent-%COMP%]{padding:.25rem}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{padding:.4rem .6rem;min-width:100px;font-size:.8rem;height:36px}.admin-nav-tabs[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.75rem;margin-right:.2rem}}']})};var bo=o=>["/cars",o];function kd(o,t){o&1&&(r(0,"div",8)(1,"div",9)(2,"span",10),a(3,"Loading..."),i()(),r(4,"p",11),a(5,"Loading your favorites..."),i()())}function Id(o,t){o&1&&(r(0,"button",16),g(1,"i",17),a(2,"Login "),i())}function Td(o,t){if(o&1&&(r(0,"div",8)(1,"div",12),g(2,"i",13),i(),r(3,"h4",14),a(4),i(),_(5,Id,3,0,"button",15),i()),o&2){let e=p();l(4),v(e.error),l(),m("ngIf",!e.authService.isLoggedIn())}}function Fd(o,t){if(o&1){let e=y();r(0,"div",28)(1,"div",29)(2,"button",30),b("click",function(){u(e);let s=p(2);return h(s.setViewMode("grid"))}),g(3,"i",31),i(),r(4,"button",30),b("click",function(){u(e);let s=p(2);return h(s.setViewMode("list"))}),g(5,"i",32),i()()()}if(o&2){let e=p(2);l(2),w("active",e.viewMode==="grid"),l(2),w("active",e.viewMode==="list")}}function Rd(o,t){if(o&1){let e=y();r(0,"div",33)(1,"button",34),g(2,"i",35),a(3,"Sort "),i(),r(4,"ul",36)(5,"li")(6,"button",37),b("click",function(){u(e);let s=p(2);return h(s.setSort("recent"))}),g(7,"i",38),a(8,"Most Recent"),i()(),r(9,"li")(10,"button",37),b("click",function(){u(e);let s=p(2);return h(s.setSort("priceLow"))}),g(11,"i",39),a(12,"Price: Low to High"),i()(),r(13,"li")(14,"button",37),b("click",function(){u(e);let s=p(2);return h(s.setSort("priceHigh"))}),g(15,"i",40),a(16,"Price: High to Low"),i()(),r(17,"li")(18,"button",37),b("click",function(){u(e);let s=p(2);return h(s.setSort("rating"))}),g(19,"i",41),a(20,"Highest Rated"),i()()()()}}function Dd(o,t){if(o&1&&(r(0,"div",8)(1,"div",42),g(2,"i",43),i(),r(3,"h4",14),a(4,"No Favorites Yet"),i(),r(5,"p",44),a(6),i(),r(7,"button",45),g(8,"i",46),a(9,"Browse Cars "),i()()),o&2){let e=p(2);l(6),v(e.getEmptyStateMessage())}}function Ad(o,t){if(o&1&&(r(0,"div",70),g(1,"app-star-rating",71),i()),o&2){let e=p().$implicit;l(),m("rating",e.averageRating)("readonly",!0)("showValue",!0)("showCount",!0)("ratingCount",e.ratingCount||0)}}function Nd(o,t){if(o&1){let e=y();r(0,"div",49)(1,"div",50)(2,"div",51)(3,"img",52),b("error",function(s){u(e);let c=p(3);return h(c.onImageError(s))}),i(),r(4,"div",53)(5,"app-favorite-button",54),b("favoriteToggled",function(s){let c=u(e).$implicit,d=p(3);return h(d.onFavoriteToggled(c.id,s))}),i()()(),r(6,"div",55)(7,"h5",56)(8,"a",57),a(9),i()(),r(10,"p",58),g(11,"i",59),a(12),g(13,"i",60),a(14),i(),r(15,"p",61),g(16,"i",62),a(17),i(),_(18,Ad,2,5,"div",63),r(19,"div",64)(20,"div",65)(21,"span",66),a(22),i(),r(23,"span",67),a(24,"/day"),i()(),r(25,"button",68),b("click",function(){let s=u(e).$implicit,c=p(3);return h(c.bookCar(s))}),g(26,"i",69),a(27),i()()()()()}if(o&2){let e=t.$implicit,n=p(3);l(3),m("src",n.getCarImage(e),ne)("alt",e.brand+" "+e.model),l(2),m("carId",e.id),l(3),m("routerLink",Ae(14,bo,e.id)),l(),F("",e.brand," ",e.model,""),l(3),C("",e.year," \u2022 "),l(2),C("",e.type," "),l(3),F("",e.branchName,", ",e.branchCity," "),l(),m("ngIf",e.averageRating),l(4),C("$",e.price,""),l(3),m("disabled",!e.availability),l(2),C(" ",e.availability?"Book Now":"Unavailable"," ")}}function Bd(o,t){if(o&1&&(r(0,"div",47),_(1,Nd,28,16,"div",48),i()),o&2){let e=p(2);l(),m("ngForOf",e.favoriteCars)}}function Ld(o,t){if(o&1&&(r(0,"div",89),g(1,"app-star-rating",71),i()),o&2){let e=p().$implicit;l(),m("rating",e.averageRating)("readonly",!0)("showValue",!0)("showCount",!0)("ratingCount",e.ratingCount||0)}}function Vd(o,t){if(o&1){let e=y();r(0,"div",74)(1,"div",75)(2,"div",76)(3,"div",77)(4,"img",78),b("error",function(s){u(e);let c=p(3);return h(c.onImageError(s))}),i(),r(5,"div",53)(6,"app-favorite-button",54),b("favoriteToggled",function(s){let c=u(e).$implicit,d=p(3);return h(d.onFavoriteToggled(c.id,s))}),i()()()(),r(7,"div",79)(8,"div",80)(9,"div",81)(10,"div",82)(11,"h5",83)(12,"a",57),a(13),i()(),r(14,"p",84),g(15,"i",59),a(16),g(17,"i",60),a(18),i(),r(19,"p",85),g(20,"i",62),a(21),i(),_(22,Ld,2,5,"div",86),i(),r(23,"div",87)(24,"div",88)(25,"span",66),a(26),i(),r(27,"span",67),a(28,"/day"),i()(),r(29,"button",68),b("click",function(){let s=u(e).$implicit,c=p(3);return h(c.bookCar(s))}),g(30,"i",69),a(31),i()()()()()()()}if(o&2){let e=t.$implicit,n=p(3);l(4),m("src",n.getCarImage(e),ne)("alt",e.brand+" "+e.model),l(2),m("carId",e.id),l(6),m("routerLink",Ae(14,bo,e.id)),l(),F("",e.brand," ",e.model,""),l(3),C("",e.year," \u2022 "),l(2),v(e.type),l(3),F("",e.branchName,", ",e.branchCity,""),l(),m("ngIf",e.averageRating),l(4),C("$",e.price,""),l(3),m("disabled",!e.availability),l(2),C(" ",e.availability?"Book Now":"Unavailable"," ")}}function Ud(o,t){if(o&1&&(r(0,"div",72),_(1,Vd,32,16,"div",73),i()),o&2){let e=p(2);l(),m("ngForOf",e.favoriteCars)}}function zd(o,t){if(o&1&&(r(0,"div")(1,"div",18)(2,"div",19)(3,"h3",20),g(4,"i",21),a(5," Favorite Cars "),r(6,"span",22),a(7),i()()(),r(8,"div",23),_(9,Fd,6,4,"div",24)(10,Rd,21,0,"div",25),i()(),_(11,Dd,10,1,"div",6)(12,Bd,2,1,"div",26)(13,Ud,2,1,"div",27),i()),o&2){let e=p();l(7),v(e.favoriteCars.length),l(2),m("ngIf",e.favoriteCars.length>0),l(),m("ngIf",e.favoriteCars.length>0),l(),m("ngIf",e.favoriteCars.length===0),l(),m("ngIf",e.favoriteCars.length>0&&e.viewMode==="grid"),l(),m("ngIf",e.favoriteCars.length>0&&e.viewMode==="list")}}var zn=class o{constructor(t,e,n,s){this.favoriteService=t;this.authService=e;this.imageService=n;this.router=s}favoriteCars=[];isLoading=!1;error=null;viewMode="grid";sortBy="recent";ngOnInit(){if(!this.authService.isLoggedIn()){this.error="Please log in to view your favorites";return}this.loadFavorites()}loadFavorites(){this.isLoading=!0,this.error=null,this.favoriteService.getUserFavoriteCars().subscribe({next:t=>{this.favoriteCars=t,this.applySort(),this.isLoading=!1},error:t=>{console.error("Error loading favorites:",t),this.error="Failed to load favorites. Please try again.",this.isLoading=!1}})}setViewMode(t){this.viewMode=t}onFavoriteToggled(t,e){e||(this.favoriteCars=this.favoriteCars.filter(n=>n.id!==t))}getCarImage(t){return this.imageService.getCarImageUrl(t)}bookCar(t){this.router.navigate(["/cars",t.id])}getEmptyStateMessage(){return this.authService.isLoggedIn()?"You haven't added any cars to your favorites yet. Start exploring our collection!":"Please log in to view your favorites"}onImageError(t){let e=t.target;e&&(e.src="assets/images/cars/default.jpg")}setSort(t){this.sortBy=t,this.applySort()}applySort(){switch(this.sortBy){case"priceLow":this.favoriteCars=[...this.favoriteCars].sort((t,e)=>(t.price||0)-(e.price||0));break;case"priceHigh":this.favoriteCars=[...this.favoriteCars].sort((t,e)=>(e.price||0)-(t.price||0));break;case"rating":this.favoriteCars=[...this.favoriteCars].sort((t,e)=>(e.averageRating||0)-(t.averageRating||0));break;default:this.favoriteCars=[...this.favoriteCars]}}static \u0275fac=function(e){return new(e||o)(P(mt),P(ee),P(Ve),P(ue))};static \u0275cmp=A({type:o,selectors:[["app-favorites-page"]],decls:11,vars:3,consts:[[1,"favorites-page-container"],[1,"container","py-4"],[1,"page-header","text-center","mb-5"],[1,"display-5","fw-bold","text-white","mb-3"],[1,"fas","fa-heart","me-3"],[1,"lead","text-white-50"],["class","text-center py-5",4,"ngIf"],[4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-light"],[1,"visually-hidden"],[1,"text-white","mt-3"],[1,"error-icon","mb-3"],[1,"fas","fa-exclamation-triangle","fa-4x","text-warning"],[1,"text-white"],["class","btn btn-primary mt-3","routerLink","/login",4,"ngIf"],["routerLink","/login",1,"btn","btn-primary","mt-3"],[1,"fas","fa-sign-in-alt","me-2"],[1,"d-flex","flex-wrap","justify-content-between","align-items-center","mb-4","gap-3"],[1,"favorites-stats"],[1,"text-white","mb-0"],[1,"fas","fa-heart","me-2"],[1,"badge","bg-primary","ms-2"],[1,"d-flex","align-items-center","gap-2"],["class","view-toggle",4,"ngIf"],["class","dropdown",4,"ngIf"],["class","row g-4",4,"ngIf"],["class","favorites-list",4,"ngIf"],[1,"view-toggle"],["role","group",1,"btn-group"],["type","button",1,"btn","btn-outline-light",3,"click"],[1,"fas","fa-th"],[1,"fas","fa-list"],[1,"dropdown"],["data-bs-toggle","dropdown",1,"btn","btn-outline-light","dropdown-toggle"],[1,"fas","fa-sort","me-2"],[1,"dropdown-menu","dropdown-menu-end"],[1,"dropdown-item",3,"click"],[1,"fas","fa-clock","me-2"],[1,"fas","fa-arrow-down-1-9","me-2"],[1,"fas","fa-arrow-up-9-1","me-2"],[1,"fas","fa-star","me-2"],[1,"empty-state-icon","mb-3"],[1,"fas","fa-heart-broken","fa-4x","text-white-50"],[1,"text-white-50"],["routerLink","/cars",1,"btn","btn-primary","btn-lg","mt-3"],[1,"fas","fa-search","me-2"],[1,"row","g-4"],["class","col-md-6 col-lg-4",4,"ngFor","ngForOf"],[1,"col-md-6","col-lg-4"],[1,"card","car-card","h-100"],[1,"card-img-top-container"],[1,"card-img-top",3,"error","src","alt"],[1,"favorite-overlay"],["size","sm",3,"favoriteToggled","carId"],[1,"card-body","d-flex","flex-column"],[1,"card-title","fw-bold"],[1,"text-decoration-none","text-dark",3,"routerLink"],[1,"card-text","text-muted","mb-2"],[1,"fas","fa-calendar","me-2"],[1,"fas","fa-car","me-2"],[1,"card-text","text-muted","mb-3"],[1,"fas","fa-map-marker-alt","me-2"],["class","rating-section mb-3",4,"ngIf"],[1,"mt-auto","d-flex","justify-content-between","align-items-center"],[1,"price-section","mb-0"],[1,"price-amount"],[1,"price-period"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-calendar-plus","me-2"],[1,"rating-section","mb-3"],["size","sm",3,"rating","readonly","showValue","showCount","ratingCount"],[1,"favorites-list"],["class","card car-list-item mb-3",4,"ngFor","ngForOf"],[1,"card","car-list-item","mb-3"],[1,"row","g-0"],[1,"col-md-3"],[1,"car-image-container"],[1,"car-image",3,"error","src","alt"],[1,"col-md-9"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"fw-bold","mb-1"],[1,"text-muted","mb-1"],[1,"text-muted","mb-0"],["class","rating-section mt-2",4,"ngIf"],[1,"col-md-6","text-end"],[1,"price-section","mb-3"],[1,"rating-section","mt-2"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),g(4,"i",4),a(5," My Favorites "),i(),r(6,"p",5),a(7,"Your saved cars for easy access"),i()(),_(8,kd,6,0,"div",6)(9,Td,6,2,"div",6)(10,zd,14,6,"div",7),i()()),e&2&&(l(8),m("ngIf",n.isLoading),l(),m("ngIf",n.error&&!n.isLoading),l(),m("ngIf",!n.isLoading&&!n.error))},dependencies:[L,J,B,se,xe,Be,Rt],styles:[".favorites-page-container[_ngcontent-%COMP%]{min-height:100vh;background:var(--gradient-primary);color:#333}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .favorites-stats[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#dc3545}.view-toggle[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:8px;transition:all .3s ease}.view-toggle[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px)}.view-toggle[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background-color:var(--primary-600);border-color:var(--primary-600)}.car-card[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:none;border-radius:16px;box-shadow:0 8px 32px #0000001a;transition:all .3s ease;overflow:hidden}.car-card[_ngcontent-%COMP%]:hover{transform:translateY(-8px);box-shadow:0 16px 48px #00000026}.car-card[_ngcontent-%COMP%]   .card-img-top-container[_ngcontent-%COMP%]{position:relative;overflow:hidden}.car-card[_ngcontent-%COMP%]   .card-img-top-container[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{width:100%;height:200px;object-fit:cover;transition:transform .3s ease}.car-card[_ngcontent-%COMP%]   .card-img-top-container[_ngcontent-%COMP%]   .favorite-overlay[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;z-index:10}.car-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.car-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:color .3s ease}.car-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-600)!important}.favorites-list[_ngcontent-%COMP%]   .car-list-item[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px);border:none;border-radius:16px;box-shadow:0 8px 32px #0000001a;transition:all .3s ease;overflow:hidden}.favorites-list[_ngcontent-%COMP%]   .car-list-item[_ngcontent-%COMP%]:hover{transform:translateY(-4px);box-shadow:0 12px 40px #00000026}.favorites-list[_ngcontent-%COMP%]   .car-list-item[_ngcontent-%COMP%]   .car-image-container[_ngcontent-%COMP%]{position:relative;height:100%;min-height:200px}.favorites-list[_ngcontent-%COMP%]   .car-list-item[_ngcontent-%COMP%]   .car-image-container[_ngcontent-%COMP%]   .car-image[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.favorites-list[_ngcontent-%COMP%]   .car-list-item[_ngcontent-%COMP%]   .car-image-container[_ngcontent-%COMP%]   .favorite-overlay[_ngcontent-%COMP%]{position:absolute;top:10px;right:10px;z-index:10}.favorites-list[_ngcontent-%COMP%]   .car-list-item[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.favorites-list[_ngcontent-%COMP%]   .car-list-item[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:color .3s ease}.favorites-list[_ngcontent-%COMP%]   .car-list-item[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:var(--primary-600)!important}.rating-section[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.price-section[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:var(--primary-700)}.price-section[_ngcontent-%COMP%]   .price-period[_ngcontent-%COMP%]{font-size:1rem;color:#6c757d;margin-left:.25rem}.empty-state-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#dee2e6}.error-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#ffc107}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}@media (max-width: 768px){.favorites-page-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:1rem}.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:2rem}.favorites-stats[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.5rem}.view-toggle[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.375rem .75rem;font-size:.875rem}.car-card[_ngcontent-%COMP%]   .card-img-top-container[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:150px}.car-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.favorites-list[_ngcontent-%COMP%]   .car-list-item[_ngcontent-%COMP%]   .car-image-container[_ngcontent-%COMP%]{min-height:150px}.favorites-list[_ngcontent-%COMP%]   .car-list-item[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.price-section[_ngcontent-%COMP%]   .price-amount[_ngcontent-%COMP%]{font-size:1.25rem}.price-section[_ngcontent-%COMP%]   .price-period[_ngcontent-%COMP%]{font-size:.875rem}}@media (max-width: 576px){.page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:1.75rem}.page-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem}.favorites-stats[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:1.25rem}.car-card[_ngcontent-%COMP%]   .card-img-top-container[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{height:120px}.favorites-list[_ngcontent-%COMP%]   .car-list-item[_ngcontent-%COMP%]   .car-image-container[_ngcontent-%COMP%]{min-height:120px}}.car-card[_ngcontent-%COMP%], .car-list-item[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .6s ease-out;animation-fill-mode:both}.car-card[_ngcontent-%COMP%]:nth-child(1){animation-delay:.1s}.car-card[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.car-card[_ngcontent-%COMP%]:nth-child(3){animation-delay:.3s}.car-card[_ngcontent-%COMP%]:nth-child(4){animation-delay:.4s}.car-card[_ngcontent-%COMP%]:nth-child(5){animation-delay:.5s}.car-card[_ngcontent-%COMP%]:nth-child(6){animation-delay:.6s}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}"]})};var jn=class o{constructor(t){this.http=t}apiUrl=X.apiUrl+"/email";sendEmail(t){return this.http.post(`${this.apiUrl}/send`,t)}testBookingConfirmation(t){return this.http.post(`${this.apiUrl}/test/booking-confirmation?to=${t}`,{})}testWelcomeEmail(t){return this.http.post(`${this.apiUrl}/test/welcome?to=${t}`,{})}testBookingCancellation(t){return this.http.post(`${this.apiUrl}/test/booking-cancellation?to=${t}`,{})}testPasswordReset(t){return this.http.post(`${this.apiUrl}/test/password-reset?to=${t}`,{})}testBookingReminder(t){return this.http.post(`${this.apiUrl}/test/booking-reminder?to=${t}`,{})}static \u0275fac=function(e){return new(e||o)(j(Z))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};function Wd(o,t){o&1&&(r(0,"small"),a(1,"Email is required"),i())}function $d(o,t){o&1&&(r(0,"small"),a(1,"Please enter a valid email address"),i())}function Hd(o,t){if(o&1&&(r(0,"div",37),_(1,Wd,2,0,"small",38)(2,$d,2,0,"small",38),i()),o&2){let e,n,s=p();l(),m("ngIf",(e=s.testForm.get("email"))==null||e.errors==null?null:e.errors.required),l(),m("ngIf",(n=s.testForm.get("email"))==null||n.errors==null?null:n.errors.email)}}function Gd(o,t){o&1&&(r(0,"div",39)(1,"div",40)(2,"span",41),a(3,"Loading..."),i()(),r(4,"p",42),a(5,"Sending email..."),i()())}function Yd(o,t){if(o&1&&(r(0,"div",44)(1,"div",45)(2,"div",9)(3,"div",46),g(4,"i",47),r(5,"h6",6),a(6),i()(),r(7,"p",48),a(8),i()()()()),o&2){let e=t.$implicit,n=p(2);l(),m("ngClass",e.value.success?"border-success":"border-danger"),l(3),m("ngClass",e.value.success?"fa-check-circle text-success":"fa-times-circle text-danger"),l(2),v(n.getTestName(e.key)),l(),m("ngClass",e.value.success?"text-success":"text-danger"),l(),C(" ",e.value.message," ")}}function qd(o,t){if(o&1&&(r(0,"div",34)(1,"h5"),a(2,"Test Results"),i(),r(3,"div",2),_(4,Yd,9,5,"div",43),Ke(5,"keyvalue"),i()()),o&2){let e=p();l(4),m("ngForOf",Zt(5,1,e.testResults))}}var Wn=class o{constructor(t,e){this.fb=t;this.emailService=e;this.testForm=this.fb.group({email:["",[q.required,q.email]]})}testForm;isLoading=!1;testResults={};Object=Object;testBookingConfirmation(){this.runTest("bookingConfirmation",()=>this.emailService.testBookingConfirmation(this.testForm.value.email))}testWelcomeEmail(){this.runTest("welcome",()=>this.emailService.testWelcomeEmail(this.testForm.value.email))}testBookingCancellation(){this.runTest("bookingCancellation",()=>this.emailService.testBookingCancellation(this.testForm.value.email))}testPasswordReset(){this.runTest("passwordReset",()=>this.emailService.testPasswordReset(this.testForm.value.email))}testBookingReminder(){this.runTest("bookingReminder",()=>this.emailService.testBookingReminder(this.testForm.value.email))}testAllEmails(){this.testBookingConfirmation(),this.testWelcomeEmail(),this.testBookingCancellation(),this.testPasswordReset(),this.testBookingReminder()}runTest(t,e){if(!this.testForm.valid){this.testResults[t]={success:!1,message:"Please enter a valid email address"};return}this.isLoading=!0,this.testResults[t]={success:!1,message:"Testing..."},e().subscribe({next:n=>{this.testResults[t]={success:!0,message:n.message||"Email sent successfully"},this.isLoading=!1},error:n=>{this.testResults[t]={success:!1,message:n.error?.error||"Failed to send email"},this.isLoading=!1}})}getTestResult(t){return this.testResults[t]}clearResults(){this.testResults={}}getTestName(t){return{bookingConfirmation:"Booking Confirmation",welcome:"Welcome Email",bookingCancellation:"Booking Cancellation",passwordReset:"Password Reset",bookingReminder:"Booking Reminder"}[t]||t}static \u0275fac=function(e){return new(e||o)(P(he),P(jn))};static \u0275cmp=A({type:o,selectors:[["app-email-test"]],decls:64,vars:10,consts:[[1,"email-test-container"],[1,"container","py-4"],[1,"row"],[1,"col-12"],[1,"card"],[1,"card-header","bg-primary","text-white"],[1,"mb-0"],[1,"fas","fa-envelope","me-2"],[1,"mb-0","mt-2"],[1,"card-body"],[1,"mb-4",3,"formGroup"],[1,"col-md-8"],["for","email",1,"form-label"],["type","email","id","email","formControlName","email","placeholder","Enter email address for testing",1,"form-control"],["class","text-danger mt-1",4,"ngIf"],[1,"col-md-4","d-flex","align-items-end"],["type","button",1,"btn","btn-outline-secondary","w-100",3,"click"],[1,"fas","fa-trash","me-2"],[1,"row","mb-4"],[1,"d-flex","flex-wrap","gap-2"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-calendar-check","me-2"],["type","button",1,"btn","btn-info",3,"click","disabled"],[1,"fas","fa-hand-wave","me-2"],["type","button",1,"btn","btn-warning",3,"click","disabled"],[1,"fas","fa-calendar-times","me-2"],["type","button",1,"btn","btn-danger",3,"click","disabled"],[1,"fas","fa-key","me-2"],["type","button",1,"btn","btn-secondary",3,"click","disabled"],[1,"fas","fa-bell","me-2"],["type","button",1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-play","me-2"],["class","text-center py-4",4,"ngIf"],["class","mt-4",4,"ngIf"],[1,"mt-4"],[1,"alert","alert-info"],[1,"fas","fa-info-circle","me-2"],[1,"text-danger","mt-1"],[4,"ngIf"],[1,"text-center","py-4"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],["class","col-md-6 mb-3",4,"ngFor","ngForOf"],[1,"col-md-6","mb-3"],[1,"card",3,"ngClass"],[1,"d-flex","align-items-center","mb-2"],[1,"fas","me-2",3,"ngClass"],[1,"mb-0",3,"ngClass"]],template:function(e,n){if(e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h3",6),g(7,"i",7),a(8," Email System Test Panel "),i(),r(9,"p",8),a(10,"Test email templates and functionality"),i()(),r(11,"div",9)(12,"form",10)(13,"div",2)(14,"div",11)(15,"label",12),a(16,"Test Email Address"),i(),g(17,"input",13),_(18,Hd,3,2,"div",14),i(),r(19,"div",15)(20,"button",16),b("click",function(){return n.clearResults()}),g(21,"i",17),a(22,"Clear Results "),i()()()(),r(23,"div",18)(24,"div",3)(25,"h5"),a(26,"Email Templates"),i(),r(27,"div",19)(28,"button",20),b("click",function(){return n.testBookingConfirmation()}),g(29,"i",21),a(30," Booking Confirmation "),i(),r(31,"button",22),b("click",function(){return n.testWelcomeEmail()}),g(32,"i",23),a(33," Welcome Email "),i(),r(34,"button",24),b("click",function(){return n.testBookingCancellation()}),g(35,"i",25),a(36," Booking Cancellation "),i(),r(37,"button",26),b("click",function(){return n.testPasswordReset()}),g(38,"i",27),a(39," Password Reset "),i(),r(40,"button",28),b("click",function(){return n.testBookingReminder()}),g(41,"i",29),a(42," Booking Reminder "),i(),r(43,"button",30),b("click",function(){return n.testAllEmails()}),g(44,"i",31),a(45," Test All "),i()()()(),_(46,Gd,6,0,"div",32)(47,qd,6,3,"div",33),r(48,"div",34)(49,"div",35)(50,"h6"),g(51,"i",36),a(52,"Instructions"),i(),r(53,"ul",6)(54,"li"),a(55,"Enter a valid email address to receive test emails"),i(),r(56,"li"),a(57,"Click individual buttons to test specific email templates"),i(),r(58,"li"),a(59,'Use "Test All" to send all email types at once'),i(),r(60,"li"),a(61,"Check the email inbox for received test emails"),i(),r(62,"li"),a(63,"Results will show success/failure status for each test"),i()()()()()()()()()()),e&2){let s;l(12),m("formGroup",n.testForm),l(6),m("ngIf",((s=n.testForm.get("email"))==null?null:s.invalid)&&((s=n.testForm.get("email"))==null?null:s.touched)),l(10),m("disabled",n.isLoading||!n.testForm.valid),l(3),m("disabled",n.isLoading||!n.testForm.valid),l(3),m("disabled",n.isLoading||!n.testForm.valid),l(3),m("disabled",n.isLoading||!n.testForm.valid),l(3),m("disabled",n.isLoading||!n.testForm.valid),l(3),m("disabled",n.isLoading||!n.testForm.valid),l(3),m("ngIf",n.isLoading),l(),m("ngIf",n.Object.keys(n.testResults).length>0)}},dependencies:[L,Ce,J,B,en,ae,de,Me,le,ce,Pe,ye],styles:[".email-test-page[_ngcontent-%COMP%]{background:var(--gradient-primary);min-height:100vh}.email-card[_ngcontent-%COMP%]{background:#fffffff2;border:none;border-radius:1rem;box-shadow:0 8px 32px #0000001a}.email-card-header[_ngcontent-%COMP%]{background:var(--gradient-primary)!important;color:#fff;border:none;border-radius:1rem 1rem 0 0}.email-cta[_ngcontent-%COMP%]{background:var(--gradient-primary);color:#fff;border:none}.card[_ngcontent-%COMP%]{border:none;border-radius:12px;box-shadow:0 8px 32px #0000001a;overflow:hidden}.card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)!important;border-bottom:none;padding:1.5rem}.card-header[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-weight:600;margin-bottom:.5rem}.card-body[_ngcontent-%COMP%]{padding:2rem}.form-control[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef;padding:.75rem 1rem;transition:all .3s ease}.form-control[_ngcontent-%COMP%]:focus{border-color:#667eea;box-shadow:0 0 0 .2rem #667eea40}.btn[_ngcontent-%COMP%]{border-radius:8px;padding:.75rem 1.5rem;font-weight:500;transition:all .3s ease;border:none}.btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.btn[_ngcontent-%COMP%]:disabled{transform:none;box-shadow:none;opacity:.6}.btn-success[_ngcontent-%COMP%]{background:linear-gradient(135deg,#28a745,#20c997)}.btn-success[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#218838,#1ea085)}.btn-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#17a2b8,#6f42c1)}.btn-info[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#138496,#5a32a3)}.btn-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#ffc107,#fd7e14);color:#212529}.btn-warning[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#e0a800,#e8590c);color:#212529}.btn-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#dc3545,#e83e8c)}.btn-danger[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#c82333,#d63384)}.btn-secondary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#6c757d,#495057)}.btn-secondary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a6268,#343a40)}.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#667eea,#764ba2)}.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#5a6fd8,#6a4190)}.btn-outline-secondary[_ngcontent-%COMP%]{border:2px solid #6c757d;color:#6c757d}.btn-outline-secondary[_ngcontent-%COMP%]:hover{background-color:#6c757d;border-color:#6c757d;color:#fff}.test-results[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{transition:all .3s ease}.test-results[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 8px 25px #00000026}.test-results[_ngcontent-%COMP%]   .border-success[_ngcontent-%COMP%]{border-color:#28a745!important}.test-results[_ngcontent-%COMP%]   .border-danger[_ngcontent-%COMP%]{border-color:#dc3545!important}.alert[_ngcontent-%COMP%]{border-radius:8px;border:none;padding:1.25rem}.alert-info[_ngcontent-%COMP%]{background:linear-gradient(135deg,#d1ecf1,#bee5eb);color:#0c5460}.spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}@media (max-width: 768px){.card-body[_ngcontent-%COMP%]{padding:1.5rem}.btn[_ngcontent-%COMP%]{padding:.5rem 1rem;font-size:.875rem}.d-flex.flex-wrap[_ngcontent-%COMP%]{flex-direction:column}.d-flex.flex-wrap[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{margin-bottom:.5rem}}@keyframes _ngcontent-%COMP%_fadeInUp{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.test-results[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeInUp .5s ease-out}@keyframes _ngcontent-%COMP%_pulse{0%{opacity:1}50%{opacity:.5}to{opacity:1}}.spinner-border[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_pulse 1.5s ease-in-out infinite}"]})};function Kd(o,t){o&1&&(r(0,"div",25)(1,"div",26)(2,"span",27),a(3,"Loading..."),i()(),r(4,"p",28),a(5,"Loading pending bookings..."),i()())}function Qd(o,t){if(o&1){let e=y();r(0,"div",25)(1,"div",29),g(2,"i",30),i(),r(3,"h4",31),a(4),i(),r(5,"button",32),b("click",function(){u(e);let s=p();return h(s.loadPendingBookings())}),g(6,"i",33),a(7,"Try Again "),i()()}if(o&2){let e=p();l(4),v(e.error)}}function Xd(o,t){if(o&1){let e=y();r(0,"div",25)(1,"div",42),g(2,"i",43),i(),r(3,"h4",31),a(4,"No Pending Bookings"),i(),r(5,"p",44),a(6,"All booking requests have been processed!"),i(),r(7,"button",45),b("click",function(){u(e);let s=p(2);return h(s.loadPendingBookings())}),g(8,"i",46),a(9,"Refresh "),i()()}}function Jd(o,t){if(o&1){let e=y();r(0,"div",50)(1,"div",51)(2,"div",52)(3,"h5",38),g(4,"i",53),a(5),i(),r(6,"span"),a(7),i()(),r(8,"div",54)(9,"div",55)(10,"h6"),g(11,"i",56),a(12,"Customer Information"),i(),r(13,"p",57)(14,"strong"),a(15,"Name:"),i(),a(16),i(),r(17,"p",57)(18,"strong"),a(19,"Email:"),i(),a(20),i(),r(21,"p",38)(22,"strong"),a(23,"Requested:"),i(),a(24),i()(),r(25,"div",58)(26,"h6"),g(27,"i",59),a(28,"Vehicle Information"),i(),r(29,"p",57)(30,"strong"),a(31,"Vehicle:"),i(),a(32),i(),r(33,"p",57)(34,"strong"),a(35,"Type:"),i(),a(36),i(),r(37,"p",38)(38,"strong"),a(39,"Duration:"),i(),a(40),i()(),r(41,"div",60)(42,"h6"),g(43,"i",61),a(44,"Rental Details"),i(),r(45,"p",57)(46,"strong"),a(47,"Start Date:"),i(),a(48),i(),r(49,"p",57)(50,"strong"),a(51,"End Date:"),i(),a(52),i(),r(53,"p",38)(54,"strong"),a(55,"Total Amount:"),i(),a(56),i()(),r(57,"div",62)(58,"button",63),b("click",function(){let s=u(e).$implicit,c=p(3);return h(c.openConfirmationModal(s))}),g(59,"i",20),a(60,"Confirm "),i(),r(61,"button",64),b("click",function(){let s=u(e).$implicit,c=p(3);return h(c.openRejectionModal(s))}),g(62,"i",18),a(63,"Reject "),i()()()()()}if(o&2){let e=t.$implicit,n=p(3);l(5),C(" Booking #",e.id," "),l(),$(n.getStatusBadgeClass(e.status)),l(),C(" ",n.getStatusDisplayText(e.status)," "),l(9),C(" ",e.userFullName,""),l(4),C(" ",e.userEmail,""),l(4),C(" ",n.formatDate(e.createdAt),""),l(8),F(" ",e.carBrand," ",e.carModel,""),l(4),C(" ",e.carType,""),l(4),C(" ",n.getRentalDuration(e.startDate,e.endDate)," days"),l(8),C(" ",n.formatDate(e.startDate),""),l(4),C(" ",n.formatDate(e.endDate),""),l(4),C(" ",n.calculateTotalAmount(e),"")}}function Zd(o,t){if(o&1&&(r(0,"div",47)(1,"div",48),_(2,Jd,64,14,"div",49),i()()),o&2){let e=p(2);l(2),m("ngForOf",e.pendingBookings)}}function em(o,t){if(o&1&&(r(0,"div")(1,"div",34)(2,"div",35)(3,"div",36)(4,"div",37)(5,"h3",38),a(6),i(),r(7,"p",38),a(8,"Pending Bookings"),i()()()(),r(9,"div",35)(10,"div",39)(11,"div",37)(12,"h3",38),a(13),i(),r(14,"p",38),a(15,"Awaiting Review"),i()()()(),r(16,"div",35)(17,"div",40)(18,"div",37)(19,"h3",38),a(20,"0"),i(),r(21,"p",38),a(22,"Processed Today"),i()()()()(),_(23,Xd,10,0,"div",6)(24,Zd,3,1,"div",41),i()),o&2){let e=p();l(6),v(e.pendingBookings.length),l(7),v(e.pendingBookings.length),l(10),m("ngIf",e.pendingBookings.length===0),l(),m("ngIf",e.pendingBookings.length>0)}}function tm(o,t){if(o&1&&(r(0,"div",65)(1,"div",66),g(2,"i",67),a(3," You are about to confirm this booking request. The customer will receive a confirmation email. "),i(),r(4,"div",68)(5,"h6"),a(6,"Booking Summary"),i(),r(7,"p")(8,"strong"),a(9,"Customer:"),i(),a(10),i(),r(11,"p")(12,"strong"),a(13,"Vehicle:"),i(),a(14),i(),r(15,"p")(16,"strong"),a(17,"Dates:"),i(),a(18),i()(),r(19,"form",69)(20,"div",70)(21,"label",71),a(22,"Admin Notes (Optional)"),i(),g(23,"textarea",72),r(24,"div",73),a(25,"These notes will be included in the confirmation email to the customer."),i()()()()),o&2){let e=p();l(10),C(" ",e.selectedBooking.userFullName,""),l(4),F(" ",e.selectedBooking.carBrand," ",e.selectedBooking.carModel,""),l(4),F(" ",e.formatDate(e.selectedBooking.startDate)," - ",e.formatDate(e.selectedBooking.endDate),""),l(),m("formGroup",e.confirmationForm)}}function nm(o,t){if(o&1&&(r(0,"div",65)(1,"div",74),g(2,"i",75),a(3," You are about to reject this booking request. The customer will receive a rejection email. "),i(),r(4,"div",68)(5,"h6"),a(6,"Booking Summary"),i(),r(7,"p")(8,"strong"),a(9,"Customer:"),i(),a(10),i(),r(11,"p")(12,"strong"),a(13,"Vehicle:"),i(),a(14),i(),r(15,"p")(16,"strong"),a(17,"Dates:"),i(),a(18),i()(),r(19,"form",69)(20,"div",70)(21,"label",76),a(22,"Rejection Reason "),r(23,"span",77),a(24,"*"),i()(),g(25,"textarea",78),r(26,"div",73),a(27,"This reason will be included in the rejection email to the customer."),i()()()()),o&2){let e=p();l(10),C(" ",e.selectedBooking.userFullName,""),l(4),F(" ",e.selectedBooking.carBrand," ",e.selectedBooking.carModel,""),l(4),F(" ",e.formatDate(e.selectedBooking.startDate)," - ",e.formatDate(e.selectedBooking.endDate),""),l(),m("formGroup",e.confirmationForm)}}function im(o,t){o&1&&g(0,"div",79)}var Kt=class o{constructor(t,e){this.bookingConfirmationService=t;this.fb=e;this.confirmationForm=this.fb.group({adminNotes:["",[q.maxLength(500)]]})}pendingBookings=[];isLoading=!1;error=null;selectedBooking=null;confirmationForm;showConfirmationModal=!1;showRejectionModal=!1;actionInProgress=!1;ngOnInit(){this.loadPendingBookings()}loadPendingBookings(){this.isLoading=!0,this.error=null,this.bookingConfirmationService.getPendingBookings().subscribe({next:t=>{this.pendingBookings=t,this.isLoading=!1},error:t=>{console.error("Error loading pending bookings:",t),this.error="Failed to load pending bookings. Please try again.",this.isLoading=!1}})}openConfirmationModal(t){this.selectedBooking=t,this.confirmationForm.reset(),this.showConfirmationModal=!0}openRejectionModal(t){this.selectedBooking=t,this.confirmationForm.reset(),this.showRejectionModal=!0}closeModals(){this.showConfirmationModal=!1,this.showRejectionModal=!1,this.selectedBooking=null,this.confirmationForm.reset()}confirmBooking(){if(!this.selectedBooking||!this.confirmationForm.valid)return;this.actionInProgress=!0;let t={bookingId:this.selectedBooking.id,status:"CONFIRMED",adminNotes:this.confirmationForm.value.adminNotes};this.bookingConfirmationService.confirmBooking(t).subscribe({next:e=>{this.pendingBookings=this.pendingBookings.filter(n=>n.id!==this.selectedBooking.id),this.closeModals(),this.actionInProgress=!1},error:e=>{console.error("Error confirming booking:",e),this.error="Failed to confirm booking. Please try again.",this.actionInProgress=!1}})}rejectBooking(){if(!this.selectedBooking||!this.confirmationForm.valid)return;this.actionInProgress=!0;let t={bookingId:this.selectedBooking.id,status:"REJECTED",adminNotes:this.confirmationForm.value.adminNotes};this.bookingConfirmationService.rejectBooking(t).subscribe({next:e=>{this.pendingBookings=this.pendingBookings.filter(n=>n.id!==this.selectedBooking.id),this.closeModals(),this.actionInProgress=!1},error:e=>{console.error("Error rejecting booking:",e),this.error="Failed to reject booking. Please try again.",this.actionInProgress=!1}})}getStatusBadgeClass(t){return this.bookingConfirmationService.getStatusBadgeClass(t)}getStatusDisplayText(t){return this.bookingConfirmationService.getStatusDisplayText(t)}formatDate(t){return new Date(t).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}calculateTotalAmount(t){return"$150.00"}getRentalDuration(t,e){let n=new Date(t),s=new Date(e),c=Math.abs(s.getTime()-n.getTime());return Math.ceil(c/(1e3*60*60*24))+1}static \u0275fac=function(e){return new(e||o)(P(Bt),P(he))};static \u0275cmp=A({type:o,selectors:[["app-booking-confirmation"]],decls:44,vars:18,consts:[[1,"booking-confirmation-container"],[1,"container","py-4"],[1,"page-header","text-center","mb-5"],[1,"display-5","fw-bold","text-white","mb-3"],[1,"fas","fa-clipboard-check","me-3"],[1,"lead","text-white-50"],["class","text-center py-5",4,"ngIf"],[4,"ngIf"],[1,"modal","fade"],[1,"modal-dialog","modal-lg"],[1,"modal-content"],[1,"modal-header","bg-success","text-white"],[1,"modal-title"],[1,"fas","fa-check-circle","me-2"],["type","button",1,"btn-close","btn-close-white",3,"click"],["class","modal-body",4,"ngIf"],[1,"modal-footer"],["type","button",1,"btn","btn-secondary",3,"click"],[1,"fas","fa-times","me-2"],["type","button",1,"btn","btn-success",3,"click","disabled"],[1,"fas","fa-check","me-2"],[1,"modal-header","bg-danger","text-white"],[1,"fas","fa-times-circle","me-2"],["type","button",1,"btn","btn-danger",3,"click","disabled"],["class","modal-backdrop fade show",4,"ngIf"],[1,"text-center","py-5"],["role","status",1,"spinner-border","text-light"],[1,"visually-hidden"],[1,"text-white","mt-3"],[1,"error-icon","mb-3"],[1,"fas","fa-exclamation-triangle","fa-4x","text-warning"],[1,"text-white"],[1,"btn","btn-primary","mt-3",3,"click"],[1,"fas","fa-redo","me-2"],[1,"row","mb-4"],[1,"col-md-4"],[1,"card","bg-primary","text-white"],[1,"card-body","text-center"],[1,"mb-0"],[1,"card","bg-warning","text-white"],[1,"card","bg-success","text-white"],["class","pending-bookings",4,"ngIf"],[1,"empty-state-icon","mb-3"],[1,"fas","fa-check-circle","fa-4x","text-success"],[1,"text-white-50"],[1,"btn","btn-primary","btn-lg","mt-3",3,"click"],[1,"fas","fa-sync","me-2"],[1,"pending-bookings"],[1,"row","g-4"],["class","col-lg-6",4,"ngFor","ngForOf"],[1,"col-lg-6"],[1,"card","booking-card","h-100"],[1,"card-header","d-flex","justify-content-between","align-items-center"],[1,"fas","fa-calendar-alt","me-2"],[1,"card-body"],[1,"customer-info","mb-3"],[1,"fas","fa-user","me-2"],[1,"mb-1"],[1,"vehicle-info","mb-3"],[1,"fas","fa-car","me-2"],[1,"rental-details","mb-3"],[1,"fas","fa-calendar","me-2"],[1,"action-buttons","d-flex","gap-2"],[1,"btn","btn-success","flex-fill",3,"click"],[1,"btn","btn-danger","flex-fill",3,"click"],[1,"modal-body"],[1,"alert","alert-info"],[1,"fas","fa-info-circle","me-2"],[1,"booking-summary","mb-3"],[3,"formGroup"],[1,"mb-3"],["for","adminNotes",1,"form-label"],["id","adminNotes","formControlName","adminNotes","rows","3","placeholder","Add any notes about this confirmation...",1,"form-control"],[1,"form-text"],[1,"alert","alert-warning"],[1,"fas","fa-exclamation-triangle","me-2"],["for","rejectionNotes",1,"form-label"],[1,"text-danger"],["id","rejectionNotes","formControlName","adminNotes","rows","3","placeholder","Please provide a reason for rejecting this booking...","required","",1,"form-control"],[1,"modal-backdrop","fade","show"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),g(4,"i",4),a(5," Booking Confirmation "),i(),r(6,"p",5),a(7,"Review and manage pending booking requests"),i()(),_(8,Kd,6,0,"div",6)(9,Qd,8,1,"div",6)(10,em,25,4,"div",7),i(),r(11,"div",8)(12,"div",9)(13,"div",10)(14,"div",11)(15,"h5",12),g(16,"i",13),a(17," Confirm Booking "),i(),r(18,"button",14),b("click",function(){return n.closeModals()}),i()(),_(19,tm,26,6,"div",15),r(20,"div",16)(21,"button",17),b("click",function(){return n.closeModals()}),g(22,"i",18),a(23,"Cancel "),i(),r(24,"button",19),b("click",function(){return n.confirmBooking()}),g(25,"i",20),a(26),i()()()()(),r(27,"div",8)(28,"div",9)(29,"div",10)(30,"div",21)(31,"h5",12),g(32,"i",22),a(33," Reject Booking "),i(),r(34,"button",14),b("click",function(){return n.closeModals()}),i()(),_(35,nm,28,6,"div",15),r(36,"div",16)(37,"button",17),b("click",function(){return n.closeModals()}),g(38,"i",18),a(39,"Cancel "),i(),r(40,"button",23),b("click",function(){return n.rejectBooking()}),g(41,"i",18),a(42),i()()()()(),_(43,im,1,0,"div",24),i()),e&2&&(l(8),m("ngIf",n.isLoading),l(),m("ngIf",n.error&&!n.isLoading),l(),m("ngIf",!n.isLoading&&!n.error),l(),ge("display",n.showConfirmationModal?"block":"none"),w("show",n.showConfirmationModal),l(8),m("ngIf",n.selectedBooking),l(5),m("disabled",n.actionInProgress||!n.confirmationForm.valid),l(2),C(" ",n.actionInProgress?"Confirming...":"Confirm Booking"," "),l(),ge("display",n.showRejectionModal?"block":"none"),w("show",n.showRejectionModal),l(8),m("ngIf",n.selectedBooking),l(5),m("disabled",n.actionInProgress||!n.confirmationForm.valid),l(2),C(" ",n.actionInProgress?"Rejecting...":"Reject Booking"," "),l(),m("ngIf",n.showConfirmationModal||n.showRejectionModal))},dependencies:[L,J,B,ae,de,Me,le,ce,Ot,Pe,ye],styles:[".booking-confirmation-container[_ngcontent-%COMP%]{min-height:100vh;background:var(--gradient-primary);padding:20px 0}.booking-confirmation-container[_ngcontent-%COMP%]   .page-header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{text-shadow:2px 2px 4px rgba(0,0,0,.3)}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]{border:none;border-radius:15px;box-shadow:0 8px 25px #0000001a;transition:transform .3s ease,box-shadow .3s ease;background:#fffffff2;-webkit-backdrop-filter:blur(10px);backdrop-filter:blur(10px)}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 12px 35px #00000026}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-bottom:2px solid #dee2e6;border-radius:15px 15px 0 0!important;padding:1rem 1.5rem}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#495057;font-weight:600}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .vehicle-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .rental-details[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;margin-bottom:.75rem;padding-bottom:.5rem;border-bottom:2px solid #e9ecef}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .vehicle-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .rental-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#6c757d;font-size:.9rem}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .customer-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .vehicle-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%], .booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .rental-details[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#495057;font-weight:600}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{margin-top:1rem;padding-top:1rem;border-top:1px solid #e9ecef}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:600;padding:.75rem 1rem;transition:all .3s ease}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.booking-confirmation-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]{border:none;border-radius:15px;box-shadow:0 4px 15px #0000001a;transition:transform .3s ease}.booking-confirmation-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]:hover{transform:translateY(-3px)}.booking-confirmation-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.booking-confirmation-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;margin-bottom:.5rem}.booking-confirmation-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1rem;font-weight:500;margin-bottom:0}.booking-confirmation-container[_ngcontent-%COMP%]   .empty-state-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .booking-confirmation-container[_ngcontent-%COMP%]   .error-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{opacity:.8}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border:none;border-radius:15px;box-shadow:0 20px 60px #0000004d}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{border-radius:15px 15px 0 0;border-bottom:none;padding:1.5rem}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .modal-title[_ngcontent-%COMP%]{font-weight:600}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{filter:brightness(0) invert(1)}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:10px;border:none;padding:1rem 1.25rem}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .booking-summary[_ngcontent-%COMP%]{background:#f8f9fa;padding:1rem;border-radius:10px;border-left:4px solid #007bff}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .booking-summary[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{color:#495057;font-weight:600;margin-bottom:1rem}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .booking-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin-bottom:.5rem;color:#6c757d}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .booking-summary[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{color:#495057}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{font-weight:600;color:#495057;margin-bottom:.5rem}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:8px;border:2px solid #e9ecef;padding:.75rem;transition:border-color .3s ease}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]   .form-text[_ngcontent-%COMP%]{font-size:.875rem;color:#6c757d}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{border-top:1px solid #e9ecef;padding:1rem 1.5rem;border-radius:0 0 15px 15px}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:8px;font-weight:600;padding:.75rem 1.5rem;transition:all .3s ease}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover:not(:disabled){transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:disabled{opacity:.6;cursor:not-allowed}.booking-confirmation-container[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{background-color:#00000080}@media (max-width: 768px){.booking-confirmation-container[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding:10px}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]{margin-bottom:1rem}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{padding:1rem}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{font-size:1rem}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]{flex-direction:column;gap:.5rem}.booking-confirmation-container[_ngcontent-%COMP%]   .booking-card[_ngcontent-%COMP%]   .action-buttons[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.booking-confirmation-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]{margin-bottom:1rem}.booking-confirmation-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1rem}.booking-confirmation-container[_ngcontent-%COMP%]   .stats-card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{font-size:2rem}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{margin:.5rem}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{border-radius:10px}.booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%], .booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%], .booking-confirmation-container[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem}}.booking-confirmation-container[_ngcontent-%COMP%]   .fade-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_fadeIn .5s ease-in}@keyframes _ngcontent-%COMP%_fadeIn{0%{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}.booking-confirmation-container[_ngcontent-%COMP%]   .slide-in[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideIn .3s ease-out}@keyframes _ngcontent-%COMP%_slideIn{0%{transform:translate(-100%)}to{transform:translate(0)}}.booking-confirmation-container[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.booking-confirmation-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem .75rem;border-radius:20px;font-weight:600}.booking-confirmation-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 4px 12px #00000026}.booking-confirmation-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:active{transform:translateY(0)}"]})};var $n=class o{constructor(t){this.http=t}apiUrl=X.apiUrl+"/car-comparison";compareCars(t){return this.http.post(`${this.apiUrl}/compare`,t)}compareSpecifications(t){let e={carIds:t,comparisonType:"specifications"};return this.http.post(`${this.apiUrl}/compare/specifications`,e)}compareFeatures(t){let e={carIds:t,comparisonType:"features"};return this.http.post(`${this.apiUrl}/compare/features`,e)}comparePricing(t){let e={carIds:t,comparisonType:"pricing"};return this.http.post(`${this.apiUrl}/compare/pricing`,e)}compareRental(t){let e={carIds:t,comparisonType:"rental"};return this.http.post(`${this.apiUrl}/compare/rental`,e)}formatValue(t,e,n){if(t==null)return"N/A";switch(e){case"boolean":return t?"Yes":"No";case"currency":return t?`$${t}`:"N/A";case"number":return n?`${t} ${n}`:t.toString();case"percentage":return t?`${t}%`:"N/A";default:return t?t.toString():"N/A"}}getHighlightClass(t){if(!t.isHighlighted)return"";switch(t.highlightReason){case"best":return"highlight-best";case"worst":return"highlight-worst";case"difference":return"highlight-difference";default:return""}}static \u0275fac=function(e){return new(e||o)(j(Z))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};function om(o,t){if(o&1&&(r(0,"span",21),g(1,"i",22),a(2),i()),o&2){let e=p();l(2),C(" Select at least ",e.minCars," cars to compare ")}}function am(o,t){o&1&&g(0,"i",31)}function sm(o,t){o&1&&g(0,"i",32)}function lm(o,t){if(o&1){let e=y();r(0,"div",23),b("click",function(){let s=u(e).$implicit,c=p();return h(c.toggleCarSelection(s.id))}),r(1,"div",24),g(2,"img",25),r(3,"div",26),_(4,am,1,0,"i",27)(5,sm,1,0,"i",28),i()(),r(6,"div",29)(7,"h6"),a(8),i(),r(9,"p",3),a(10),i(),r(11,"p",30),a(12),i()()()}if(o&2){let e=t.$implicit,n=p();w("selected",n.isCarSelected(e.id))("disabled",!n.isCarSelected(e.id)&&!n.canAddMoreCars()),l(2),m("src",n.getCarImage(e),ne)("alt",e.brand+" "+e.model),l(2),m("ngIf",n.isCarSelected(e.id)),l(),m("ngIf",!n.isCarSelected(e.id)&&!n.canAddMoreCars()),l(3),F("",e.brand," ",e.model,""),l(2),F("",e.year," \u2022 ",e.type,""),l(2),C("$",e.price,"/day")}}function cm(o,t){o&1&&(r(0,"div",33)(1,"div",34)(2,"span",35),a(3,"Loading..."),i()(),r(4,"p",36),a(5,"Comparing cars..."),i()())}function dm(o,t){if(o&1&&(r(0,"div",37)(1,"div",38),g(2,"i",39),a(3),i()()),o&2){let e=p();l(3),C(" ",e.error," ")}}function mm(o,t){if(o&1&&(r(0,"div",49)(1,"div",50),g(2,"img",51),r(3,"h6"),a(4),i(),r(5,"p",3),a(6),i(),r(7,"p",30),a(8),i()()()),o&2){let e=t.$implicit,n=p(2);l(2),m("src",n.getCarImage(e),ne)("alt",e.brand+" "+e.model),l(2),F("",e.brand," ",e.model,""),l(2),F("",e.year," \u2022 ",e.type,""),l(2),C("$",e.price,"/day")}}function gm(o,t){if(o&1&&(r(0,"div",60),a(1),i()),o&2){let e=t.$implicit,n=p().$implicit,s=p(4);m("ngClass",s.getHighlightClass(n)),l(),C(" ",s.formatValue(e,n.attributeType,n.unit)," ")}}function pm(o,t){if(o&1&&(r(0,"div",57)(1,"div",58),a(2),i(),_(3,gm,2,2,"div",59),i()),o&2){let e=t.$implicit;l(2),C(" ",e.attributeLabel," "),l(),m("ngForOf",e.value)}}function fm(o,t){if(o&1&&(r(0,"div",54)(1,"div",55)(2,"h6"),a(3),i()(),_(4,pm,4,2,"div",56),i()),o&2){let e=t.$implicit;l(3),v(e.key),l(),m("ngForOf",e.value)}}function um(o,t){if(o&1&&(r(0,"div",52),_(1,fm,5,2,"div",53),Ke(2,"keyvalue"),i()),o&2){let e=p(2);l(),m("ngForOf",Zt(2,1,e.getComparisonSection()))}}function hm(o,t){if(o&1){let e=y();r(0,"div",40)(1,"div",41)(2,"div",42)(3,"button",43),b("click",function(){u(e);let s=p();return s.comparisonType="all",h(s.compareCars())}),a(4," All "),i(),r(5,"button",43),b("click",function(){u(e);let s=p();return s.comparisonType="specifications",h(s.compareCars())}),a(6," Specifications "),i(),r(7,"button",43),b("click",function(){u(e);let s=p();return s.comparisonType="features",h(s.compareCars())}),a(8," Features "),i(),r(9,"button",43),b("click",function(){u(e);let s=p();return s.comparisonType="pricing",h(s.compareCars())}),a(10," Pricing "),i(),r(11,"button",43),b("click",function(){u(e);let s=p();return s.comparisonType="rental",h(s.compareCars())}),a(12," Rental "),i()()(),r(13,"div",44)(14,"div",45)(15,"div",46)(16,"h6"),a(17,"Attributes"),i()(),_(18,mm,9,7,"div",47),i(),_(19,um,3,3,"div",48),i()()}if(o&2){let e=p();l(3),w("active",e.comparisonType==="all"),l(2),w("active",e.comparisonType==="specifications"),l(2),w("active",e.comparisonType==="features"),l(2),w("active",e.comparisonType==="pricing"),l(2),w("active",e.comparisonType==="rental"),l(7),m("ngForOf",e.comparisonResult.cars),l(),m("ngIf",e.getComparisonSection())}}var Hn=class o{constructor(t,e,n){this.carService=t;this.carComparisonService=e;this.imageService=n}availableCars=[];selectedCarIds=[];comparisonResult=null;isLoading=!1;error=null;comparisonType="all";activeTab="specifications";maxCars=5;minCars=2;ngOnInit(){this.loadAvailableCars()}loadAvailableCars(){this.carService.getAvailableCars().subscribe({next:t=>{this.availableCars=t},error:t=>{this.error="Failed to load available cars",console.error("Error loading cars:",t)}})}toggleCarSelection(t){let e=this.selectedCarIds.indexOf(t);e>-1?this.selectedCarIds.splice(e,1):this.selectedCarIds.length<this.maxCars&&this.selectedCarIds.push(t)}isCarSelected(t){return this.selectedCarIds.includes(t)}canAddMoreCars(){return this.selectedCarIds.length<this.maxCars}canCompare(){return this.selectedCarIds.length>=this.minCars}compareCars(){if(!this.canCompare())return;this.isLoading=!0,this.error=null;let t={carIds:this.selectedCarIds,comparisonType:this.comparisonType};this.carComparisonService.compareCars(t).subscribe({next:e=>{this.comparisonResult=e,this.isLoading=!1},error:e=>{this.error="Failed to compare cars",this.isLoading=!1,console.error("Error comparing cars:",e)}})}clearSelection(){this.selectedCarIds=[],this.comparisonResult=null}setActiveTab(t){this.activeTab=t}getSelectedCars(){return this.availableCars.filter(t=>this.selectedCarIds.includes(t.id))}getComparisonSection(){if(!this.comparisonResult)return null;switch(this.activeTab){case"specifications":return this.comparisonResult.specifications||null;case"features":return this.comparisonResult.features||null;case"pricing":return this.comparisonResult.pricing||null;case"rental":return this.comparisonResult.rental||null;default:return null}}formatValue(t,e,n){return this.carComparisonService.formatValue(t,e,n)}getHighlightClass(t){return this.carComparisonService.getHighlightClass(t)}getCarImage(t){return this.imageService.getCarImageUrl(t)}static \u0275fac=function(e){return new(e||o)(P(_e),P($n),P(Ve))};static \u0275cmp=A({type:o,selectors:[["app-car-comparison"]],decls:30,vars:8,consts:[[1,"car-comparison-container"],[1,"comparison-header"],[1,"fas","fa-balance-scale","me-2"],[1,"text-muted"],[1,"car-selection-section"],[1,"card"],[1,"card-header"],[1,"fas","fa-car","me-2"],[1,"selection-info"],[1,"badge","bg-primary"],["class","text-warning",4,"ngIf"],[1,"card-body"],[1,"car-grid"],["class","car-card",3,"selected","disabled","click",4,"ngFor","ngForOf"],[1,"selection-actions"],[1,"btn","btn-primary",3,"click","disabled"],[1,"btn","btn-outline-secondary",3,"click"],[1,"fas","fa-times","me-2"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","comparison-results",4,"ngIf"],[1,"text-warning"],[1,"fas","fa-exclamation-triangle","me-1"],[1,"car-card",3,"click"],[1,"car-image"],[3,"src","alt"],[1,"selection-overlay"],["class","fas fa-check-circle",4,"ngIf"],["class","fas fa-times-circle",4,"ngIf"],[1,"car-info"],[1,"price"],[1,"fas","fa-check-circle"],[1,"fas","fa-times-circle"],[1,"loading-state"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"error-state"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"comparison-results"],[1,"comparison-type-selector"],["role","group",1,"btn-group"],[1,"btn","btn-outline-primary",3,"click"],[1,"comparison-table"],[1,"comparison-header-row"],[1,"attribute-column"],["class","car-column",4,"ngFor","ngForOf"],["class","comparison-data",4,"ngIf"],[1,"car-column"],[1,"car-header"],[1,"car-thumbnail",3,"src","alt"],[1,"comparison-data"],["class","comparison-category",4,"ngFor","ngForOf"],[1,"comparison-category"],[1,"category-header"],["class","comparison-row",4,"ngFor","ngForOf"],[1,"comparison-row"],[1,"attribute-label"],["class","attribute-value",3,"ngClass",4,"ngFor","ngForOf"],[1,"attribute-value",3,"ngClass"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h2"),g(3,"i",2),a(4,"Car Comparison Tool"),i(),r(5,"p",3),a(6,"Select 2-5 cars to compare their specifications, features, and pricing"),i()(),r(7,"div",4)(8,"div",5)(9,"div",6)(10,"h5"),g(11,"i",7),a(12,"Select Cars to Compare"),i(),r(13,"div",8)(14,"span",9),a(15),i(),_(16,om,3,1,"span",10),i()(),r(17,"div",11)(18,"div",12),_(19,lm,13,13,"div",13),i(),r(20,"div",14)(21,"button",15),b("click",function(){return n.compareCars()}),g(22,"i",2),a(23," Compare Cars "),i(),r(24,"button",16),b("click",function(){return n.clearSelection()}),g(25,"i",17),a(26," Clear Selection "),i()()()()(),_(27,cm,6,0,"div",18)(28,dm,4,1,"div",19)(29,hm,20,12,"div",20),i()),e&2&&(l(15),F("",n.selectedCarIds.length,"/",n.maxCars," selected"),l(),m("ngIf",n.selectedCarIds.length<n.minCars),l(3),m("ngForOf",n.availableCars),l(2),m("disabled",!n.canCompare()),l(6),m("ngIf",n.isLoading),l(),m("ngIf",n.error&&!n.isLoading),l(),m("ngIf",n.comparisonResult&&!n.isLoading))},dependencies:[L,Ce,J,B,en,Ze],styles:[".car-comparison-container[_ngcontent-%COMP%]{padding:20px}.car-comparison-container[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.car-comparison-container[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#343a40;font-weight:700}.car-comparison-container[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff}.car-comparison-container[_ngcontent-%COMP%]   .comparison-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:1.1rem;color:#6c757d}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]{margin-bottom:2rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;box-shadow:0 .125rem .25rem #00000013;border-radius:.5rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-bottom:1px solid #dee2e6;display:flex;justify-content:space-between;align-items:center}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;color:#495057;font-weight:600}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#007bff}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .selection-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   .selection-info[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.875rem;padding:.5rem .75rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(auto-fill,minmax(200px,1fr));gap:1rem;margin-bottom:1.5rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]{border:2px solid #e9ecef;border-radius:.5rem;overflow:hidden;cursor:pointer;transition:all .3s ease;background:#fff}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 .5rem 1rem #00000026}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card.selected[_ngcontent-%COMP%]{border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:not-allowed}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card.disabled[_ngcontent-%COMP%]:hover{transform:none;box-shadow:none}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-image[_ngcontent-%COMP%]{position:relative;height:120px;overflow:hidden}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-image[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-image[_ngcontent-%COMP%]   .selection-overlay[_ngcontent-%COMP%]{position:absolute;top:.5rem;right:.5rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-image[_ngcontent-%COMP%]   .selection-overlay[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-image[_ngcontent-%COMP%]   .selection-overlay[_ngcontent-%COMP%]   i.fa-check-circle[_ngcontent-%COMP%]{color:#28a745}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-image[_ngcontent-%COMP%]   .selection-overlay[_ngcontent-%COMP%]   i.fa-times-circle[_ngcontent-%COMP%]{color:#dc3545}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]{padding:1rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 .5rem;font-weight:600;color:#343a40}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]   p.price[_ngcontent-%COMP%]{font-weight:600;color:#28a745;margin-top:.5rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .selection-actions[_ngcontent-%COMP%]{display:flex;gap:1rem;justify-content:center}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .selection-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:500}.car-comparison-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%], .car-comparison-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{text-align:center;padding:3rem}.car-comparison-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%], .car-comparison-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.car-comparison-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .car-comparison-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin-top:1rem}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-type-selector[_ngcontent-%COMP%]{margin-bottom:2rem;text-align:center}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-type-selector[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{padding:.75rem 1.5rem;font-weight:500}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-type-selector[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn.active[_ngcontent-%COMP%]{background-color:#007bff;border-color:#007bff}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]{background:#fff;border-radius:.5rem;box-shadow:0 .125rem .25rem #00000013;overflow:hidden}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px repeat(auto-fit,minmax(200px,1fr));background:linear-gradient(135deg,#f8f9fa,#e9ecef);border-bottom:2px solid #dee2e6}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .attribute-column[_ngcontent-%COMP%], .car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]{padding:1rem;border-right:1px solid #dee2e6}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .attribute-column[_ngcontent-%COMP%]:last-child, .car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]:last-child{border-right:none}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .attribute-column[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;color:#495057;font-weight:600}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]{text-align:center}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   .car-thumbnail[_ngcontent-%COMP%]{width:60px;height:60px;object-fit:cover;border-radius:.25rem;margin-bottom:.5rem}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0 0 .25rem;font-weight:600;color:#343a40}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:.875rem}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   p.price[_ngcontent-%COMP%]{font-weight:600;color:#28a745;margin-top:.25rem}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]{background:#f8f9fa;padding:.75rem 1rem;border-bottom:1px solid #dee2e6}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .category-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin:0;color:#495057;font-weight:600}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-row[_ngcontent-%COMP%]{display:grid;grid-template-columns:200px repeat(auto-fit,minmax(200px,1fr));border-bottom:1px solid #f8f9fa}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-row[_ngcontent-%COMP%]:last-child{border-bottom:none}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-row[_ngcontent-%COMP%]   .attribute-label[_ngcontent-%COMP%]{padding:.75rem 1rem;background:#f8f9fa;font-weight:500;color:#495057;border-right:1px solid #dee2e6}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-row[_ngcontent-%COMP%]   .attribute-value[_ngcontent-%COMP%]{padding:.75rem 1rem;text-align:center;border-right:1px solid #f8f9fa}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-row[_ngcontent-%COMP%]   .attribute-value[_ngcontent-%COMP%]:last-child{border-right:none}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-row[_ngcontent-%COMP%]   .attribute-value.highlight-best[_ngcontent-%COMP%]{background-color:#d4edda;color:#155724;font-weight:600}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-row[_ngcontent-%COMP%]   .attribute-value.highlight-worst[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24;font-weight:600}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-row[_ngcontent-%COMP%]   .attribute-value.highlight-difference[_ngcontent-%COMP%]{background-color:#fff3cd;color:#856404;font-weight:600}@media (max-width: 768px){.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(150px,1fr));gap:.75rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-image[_ngcontent-%COMP%]{height:100px}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]{padding:.75rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.875rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .selection-actions[_ngcontent-%COMP%]{flex-direction:column}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .selection-actions[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{width:100%}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-type-selector[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]{flex-wrap:wrap}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-type-selector[_ngcontent-%COMP%]   .btn-group[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{flex:1;min-width:120px;font-size:.875rem;padding:.5rem 1rem}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]{grid-template-columns:150px repeat(auto-fit,minmax(150px,1fr))}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .attribute-column[_ngcontent-%COMP%], .car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]{padding:.75rem}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .attribute-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   .car-thumbnail[_ngcontent-%COMP%], .car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   .car-thumbnail[_ngcontent-%COMP%]{width:40px;height:40px}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .attribute-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.875rem}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .attribute-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.8rem}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-row[_ngcontent-%COMP%]{grid-template-columns:150px repeat(auto-fit,minmax(150px,1fr))}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-row[_ngcontent-%COMP%]   .attribute-label[_ngcontent-%COMP%], .car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-row[_ngcontent-%COMP%]   .attribute-value[_ngcontent-%COMP%]{padding:.5rem .75rem;font-size:.875rem}}@media (max-width: 576px){.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(120px,1fr));gap:.5rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-image[_ngcontent-%COMP%]{height:80px}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]{padding:.5rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.8rem}.car-comparison-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .car-grid[_ngcontent-%COMP%]   .car-card[_ngcontent-%COMP%]   .car-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]{grid-template-columns:120px repeat(auto-fit,minmax(120px,1fr))}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .attribute-column[_ngcontent-%COMP%], .car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]{padding:.5rem}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .attribute-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   .car-thumbnail[_ngcontent-%COMP%], .car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   .car-thumbnail[_ngcontent-%COMP%]{width:30px;height:30px}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .attribute-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%], .car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:.8rem}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .attribute-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-header-row[_ngcontent-%COMP%]   .car-column[_ngcontent-%COMP%]   .car-header[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:.75rem}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-row[_ngcontent-%COMP%]{grid-template-columns:120px repeat(auto-fit,minmax(120px,1fr))}.car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-row[_ngcontent-%COMP%]   .attribute-label[_ngcontent-%COMP%], .car-comparison-container[_ngcontent-%COMP%]   .comparison-results[_ngcontent-%COMP%]   .comparison-table[_ngcontent-%COMP%]   .comparison-data[_ngcontent-%COMP%]   .comparison-category[_ngcontent-%COMP%]   .comparison-row[_ngcontent-%COMP%]   .attribute-value[_ngcontent-%COMP%]{padding:.375rem .5rem;font-size:.8rem}}"]})};var Ni=(H=>(H.OIL_CHANGE="OIL_CHANGE",H.TIRE_ROTATION="TIRE_ROTATION",H.BRAKE_SERVICE="BRAKE_SERVICE",H.AIR_FILTER_REPLACEMENT="AIR_FILTER_REPLACEMENT",H.FUEL_FILTER_REPLACEMENT="FUEL_FILTER_REPLACEMENT",H.TRANSMISSION_SERVICE="TRANSMISSION_SERVICE",H.ENGINE_TUNE_UP="ENGINE_TUNE_UP",H.COOLANT_FLUSH="COOLANT_FLUSH",H.BATTERY_REPLACEMENT="BATTERY_REPLACEMENT",H.ALIGNMENT="ALIGNMENT",H.SUSPENSION_SERVICE="SUSPENSION_SERVICE",H.EXHAUST_SERVICE="EXHAUST_SERVICE",H.ELECTRICAL_SERVICE="ELECTRICAL_SERVICE",H.AC_SERVICE="AC_SERVICE",H.HEATING_SERVICE="HEATING_SERVICE",H.BODY_REPAIR="BODY_REPAIR",H.PAINT_JOB="PAINT_JOB",H.INTERIOR_REPAIR="INTERIOR_REPAIR",H.GLASS_REPLACEMENT="GLASS_REPLACEMENT",H.EMERGENCY_REPAIR="EMERGENCY_REPAIR",H.PREVENTIVE_MAINTENANCE="PREVENTIVE_MAINTENANCE",H.INSPECTION="INSPECTION",H.OTHER="OTHER",H))(Ni||{}),Bi=(f=>(f.SCHEDULED="SCHEDULED",f.IN_PROGRESS="IN_PROGRESS",f.COMPLETED="COMPLETED",f.CANCELLED="CANCELLED",f.ON_HOLD="ON_HOLD",f.PENDING_PARTS="PENDING_PARTS",f.PENDING_APPROVAL="PENDING_APPROVAL",f))(Bi||{});var Gn=class o{constructor(t){this.http=t}apiUrl=X.apiUrl+"/maintenance";createMaintenanceRecord(t){return this.http.post(`${this.apiUrl}/records`,t)}getMaintenanceRecordById(t){return this.http.get(`${this.apiUrl}/records/${t}`)}getMaintenanceRecordsByCarId(t){return this.http.get(`${this.apiUrl}/cars/${t}/records`)}getOverdueMaintenance(){return this.http.get(`${this.apiUrl}/overdue`)}getMaintenanceTypeLabel(t){return{OIL_CHANGE:"Oil Change",TIRE_ROTATION:"Tire Rotation",BRAKE_SERVICE:"Brake Service",AIR_FILTER_REPLACEMENT:"Air Filter Replacement",FUEL_FILTER_REPLACEMENT:"Fuel Filter Replacement",TRANSMISSION_SERVICE:"Transmission Service",ENGINE_TUNE_UP:"Engine Tune-up",COOLANT_FLUSH:"Coolant Flush",BATTERY_REPLACEMENT:"Battery Replacement",ALIGNMENT:"Wheel Alignment",SUSPENSION_SERVICE:"Suspension Service",EXHAUST_SERVICE:"Exhaust Service",ELECTRICAL_SERVICE:"Electrical Service",AC_SERVICE:"Air Conditioning Service",HEATING_SERVICE:"Heating Service",BODY_REPAIR:"Body Repair",PAINT_JOB:"Paint Job",INTERIOR_REPAIR:"Interior Repair",GLASS_REPLACEMENT:"Glass Replacement",EMERGENCY_REPAIR:"Emergency Repair",PREVENTIVE_MAINTENANCE:"Preventive Maintenance",INSPECTION:"Inspection",OTHER:"Other"}[t]||t}getMaintenanceStatusLabel(t){return{SCHEDULED:"Scheduled",IN_PROGRESS:"In Progress",COMPLETED:"Completed",CANCELLED:"Cancelled",ON_HOLD:"On Hold",PENDING_PARTS:"Pending Parts",PENDING_APPROVAL:"Pending Approval"}[t]||t}getStatusColor(t){return{SCHEDULED:"primary",IN_PROGRESS:"warning",COMPLETED:"success",CANCELLED:"danger",ON_HOLD:"secondary",PENDING_PARTS:"info",PENDING_APPROVAL:"warning"}[t]||"secondary"}formatDate(t){return t?new Date(t).toLocaleDateString():"N/A"}formatCost(t){return t==null?"N/A":`$${t.toFixed(2)}`}getMaintenanceTypeIcon(t){return{OIL_CHANGE:"fas fa-oil-can",TIRE_ROTATION:"fas fa-tire",BRAKE_SERVICE:"fas fa-brake-system",AIR_FILTER_REPLACEMENT:"fas fa-wind",FUEL_FILTER_REPLACEMENT:"fas fa-gas-pump",TRANSMISSION_SERVICE:"fas fa-cogs",ENGINE_TUNE_UP:"fas fa-engine",COOLANT_FLUSH:"fas fa-thermometer-half",BATTERY_REPLACEMENT:"fas fa-battery-full",ALIGNMENT:"fas fa-compass",SUSPENSION_SERVICE:"fas fa-car-side",EXHAUST_SERVICE:"fas fa-smog",ELECTRICAL_SERVICE:"fas fa-bolt",AC_SERVICE:"fas fa-snowflake",HEATING_SERVICE:"fas fa-fire",BODY_REPAIR:"fas fa-hammer",PAINT_JOB:"fas fa-paint-brush",INTERIOR_REPAIR:"fas fa-couch",GLASS_REPLACEMENT:"fas fa-window-maximize",EMERGENCY_REPAIR:"fas fa-exclamation-triangle",PREVENTIVE_MAINTENANCE:"fas fa-shield-alt",INSPECTION:"fas fa-search",OTHER:"fas fa-tools"}[t]||"fas fa-tools"}static \u0275fac=function(e){return new(e||o)(j(Z))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};function bm(o,t){if(o&1){let e=y();r(0,"div",22),g(1,"i",23),r(2,"strong"),a(3,"Overdue Maintenance:"),i(),a(4),r(5,"button",24),b("click",function(){u(e);let s=p();return h(s.loadOverdueMaintenance())}),g(6,"i",25),a(7," Refresh "),i()()}if(o&2){let e=p();l(4),C(" ",e.overdueRecords.length," car(s) have overdue maintenance scheduled. ")}}function vm(o,t){if(o&1&&(r(0,"option",26),a(1),i()),o&2){let e=t.$implicit;m("value",e.id),l(),ti(" ",e.brand," ",e.model," (",e.year,") ")}}function Cm(o,t){if(o&1&&(r(0,"div",27)(1,"div",28)(2,"div",29)(3,"h5",30),g(4,"i",31),a(5),i(),r(6,"p",32)(7,"strong"),a(8,"Type:"),i(),a(9),r(10,"strong"),a(11,"Mileage:"),i(),a(12),i()()()()),o&2){let e,n,s,c=p();l(5),ti(" ",(e=c.getSelectedCar())==null?null:e.brand," ",(e=c.getSelectedCar())==null?null:e.model," (",(e=c.getSelectedCar())==null?null:e.year,") "),l(4),C(" ",(n=c.getSelectedCar())==null?null:n.type," | "),l(3),C(" ",((s=c.getSelectedCar())==null?null:s.mileage)||"N/A"," km ")}}function xm(o,t){if(o&1&&(r(0,"option",26),a(1),i()),o&2){let e=t.$implicit,n=p(2);m("value",e),l(),C(" ",n.getMaintenanceTypeLabel(e)," ")}}function Mm(o,t){if(o&1&&(r(0,"option",26),a(1),i()),o&2){let e=t.$implicit,n=p(2);m("value",e),l(),C(" ",n.getMaintenanceStatusLabel(e)," ")}}function Pm(o,t){if(o&1){let e=y();r(0,"div",33)(1,"div",28)(2,"div",34)(3,"h5",35),g(4,"i",36),a(5,"Add New Maintenance Record "),i()(),r(6,"div",29)(7,"form",37),b("ngSubmit",function(){u(e);let s=p();return h(s.onSubmit())}),r(8,"div",6)(9,"div",7)(10,"div",38)(11,"label",39),a(12,"Maintenance Type *"),i(),r(13,"select",40)(14,"option",10),a(15,"Select type..."),i(),_(16,xm,2,2,"option",11),i()()(),r(17,"div",7)(18,"div",38)(19,"label",41),a(20,"Service Provider *"),i(),g(21,"input",42),i()()(),r(22,"div",6)(23,"div",7)(24,"div",38)(25,"label",43),a(26,"Service Date *"),i(),g(27,"input",44),i()(),r(28,"div",7)(29,"div",38)(30,"label",45),a(31,"Next Service Date"),i(),g(32,"input",46),i()()(),r(33,"div",6)(34,"div",7)(35,"div",38)(36,"label",47),a(37,"Mileage at Service"),i(),g(38,"input",48),i()(),r(39,"div",7)(40,"div",38)(41,"label",49),a(42,"Cost"),i(),g(43,"input",50),i()()(),r(44,"div",38)(45,"label",51),a(46,"Description"),i(),g(47,"textarea",52),i(),r(48,"div",6)(49,"div",7)(50,"div",38)(51,"label",53),a(52,"Invoice Number"),i(),g(53,"input",54),i()(),r(54,"div",7)(55,"div",38)(56,"label",55),a(57,"Labor Hours"),i(),g(58,"input",56),i()()(),r(59,"div",38)(60,"label",57),a(61,"Parts Replaced"),i(),g(62,"textarea",58),i(),r(63,"div",38)(64,"label",59),a(65,"Technician Notes"),i(),g(66,"textarea",60),i(),r(67,"div",6)(68,"div",7)(69,"div",38)(70,"label",61),a(71,"Status"),i(),r(72,"select",62),_(73,Mm,2,2,"option",11),i()()(),r(74,"div",7)(75,"div",38)(76,"div",63),g(77,"input",64),r(78,"label",65),a(79,"Warranty Covered"),i()()()()(),r(80,"div",66)(81,"button",67),g(82,"i",68),a(83),i(),r(84,"button",69),b("click",function(){u(e);let s=p();return h(s.hideAddForm())}),g(85,"i",70),a(86,"Cancel "),i()()()()()()}if(o&2){let e=p();l(7),m("formGroup",e.maintenanceForm),l(9),m("ngForOf",e.maintenanceTypes),l(57),m("ngForOf",e.maintenanceStatuses),l(8),m("disabled",!e.maintenanceForm.valid||e.isLoading),l(2),C(" ",e.isLoading?"Saving...":"Save Record"," ")}}function ym(o,t){o&1&&(r(0,"div",71)(1,"div",72)(2,"div",73)(3,"span",74),a(4,"Loading..."),i()(),r(5,"p",75),a(6,"Loading maintenance records..."),i()()())}function Om(o,t){if(o&1&&(r(0,"div",76)(1,"div",77),g(2,"i",78),a(3),i()()),o&2){let e=p();l(3),C(" ",e.error," ")}}function Sm(o,t){if(o&1&&(r(0,"tr")(1,"td"),g(2,"i",86),a(3),i(),r(4,"td"),a(5),i(),r(6,"td"),a(7),i(),r(8,"td"),a(9),i(),r(10,"td"),a(11),i(),r(12,"td")(13,"span",87),a(14),i()(),r(15,"td")(16,"button",88),g(17,"i",89),i()()()),o&2){let e=t.$implicit,n=p(2);l(2),$(n.getMaintenanceTypeIcon(e.maintenanceType)),l(),C(" ",n.getMaintenanceTypeLabel(e.maintenanceType)," "),l(2),v(e.serviceProvider),l(2),v(n.formatDate(e.serviceDate)),l(2),v(n.formatDate(e.nextServiceDate||"")),l(2),v(n.formatCost(e.cost)),l(2),$("bg-"+n.getStatusColor(e.status)),l(),C(" ",n.getMaintenanceStatusLabel(e.status)," ")}}function wm(o,t){if(o&1&&(r(0,"div",79)(1,"h4",38),g(2,"i",80),a(3,"Maintenance History "),r(4,"span",81),a(5),i()(),r(6,"div",82)(7,"table",83)(8,"thead",84)(9,"tr")(10,"th"),a(11,"Type"),i(),r(12,"th"),a(13,"Service Provider"),i(),r(14,"th"),a(15,"Service Date"),i(),r(16,"th"),a(17,"Next Service"),i(),r(18,"th"),a(19,"Cost"),i(),r(20,"th"),a(21,"Status"),i(),r(22,"th"),a(23,"Actions"),i()()(),r(24,"tbody"),_(25,Sm,18,10,"tr",85),i()()()()),o&2){let e=p();l(5),C("",e.maintenanceRecords.length," records"),l(20),m("ngForOf",e.maintenanceRecords)}}function Em(o,t){if(o&1){let e=y();r(0,"div",90)(1,"div",72),g(2,"i",91),r(3,"h5"),a(4,"No Maintenance Records"),i(),r(5,"p",3),a(6,"No maintenance records found for this car."),i(),r(7,"button",92),b("click",function(){u(e);let s=p();return h(s.showAddMaintenanceForm())}),g(8,"i",14),a(9,"Add First Record "),i()()()}}function km(o,t){o&1&&(r(0,"div",93)(1,"div",72),g(2,"i",94),r(3,"h5"),a(4,"Select a Car"),i(),r(5,"p",3),a(6,"Please select a car from the dropdown above to view its maintenance history."),i()()())}var Yn=class o{constructor(t,e,n){this.maintenanceService=t;this.carService=e;this.fb=n;this.maintenanceForm=this.fb.group({carId:["",q.required],maintenanceType:["",q.required],serviceProvider:["",q.required],serviceDate:["",q.required],nextServiceDate:[""],mileageAtService:[""],description:[""],cost:[""],invoiceNumber:[""],technicianNotes:[""],partsReplaced:[""],laborHours:[""],warrantyCovered:[!1],status:["COMPLETED"]})}maintenanceRecords=[];cars=[];overdueRecords=[];isLoading=!1;error=null;showAddForm=!1;selectedCarId=null;maintenanceForm;maintenanceTypes=Object.values(Ni);maintenanceStatuses=Object.values(Bi);ngOnInit(){this.loadCars(),this.loadOverdueMaintenance()}loadCars(){this.isLoading=!0,this.carService.getAllCars().subscribe({next:t=>{this.cars=t,this.isLoading=!1},error:t=>{this.error="Failed to load cars",this.isLoading=!1,console.error("Error loading cars:",t)}})}onCarSelectionChange(t){let e=t.target;e&&e.value?this.loadMaintenanceRecords(Number(e.value)):(this.selectedCarId=null,this.maintenanceRecords=[])}loadMaintenanceRecords(t){this.isLoading=!0,this.selectedCarId=t,this.maintenanceService.getMaintenanceRecordsByCarId(t).subscribe({next:e=>{this.maintenanceRecords=e,this.isLoading=!1},error:e=>{this.error="Failed to load maintenance records",this.isLoading=!1,console.error("Error loading maintenance records:",e)}})}loadOverdueMaintenance(){this.maintenanceService.getOverdueMaintenance().subscribe({next:t=>{this.overdueRecords=t},error:t=>{console.error("Error loading overdue maintenance:",t)}})}showAddMaintenanceForm(){this.showAddForm=!0,this.maintenanceForm.reset(),this.maintenanceForm.patchValue({status:"COMPLETED",warrantyCovered:!1})}hideAddForm(){this.showAddForm=!1,this.maintenanceForm.reset()}onSubmit(){if(this.maintenanceForm.valid){this.isLoading=!0;let t=this.maintenanceForm.value;t.serviceDate&&(t.serviceDate=new Date(t.serviceDate).toISOString().split("T")[0]),t.nextServiceDate&&(t.nextServiceDate=new Date(t.nextServiceDate).toISOString().split("T")[0]),this.maintenanceService.createMaintenanceRecord(t).subscribe({next:e=>{this.maintenanceRecords.unshift(e),this.hideAddForm(),this.isLoading=!1,this.loadOverdueMaintenance()},error:e=>{this.error="Failed to create maintenance record",this.isLoading=!1,console.error("Error creating maintenance record:",e)}})}}getMaintenanceTypeLabel(t){return this.maintenanceService.getMaintenanceTypeLabel(t)}getMaintenanceStatusLabel(t){return this.maintenanceService.getMaintenanceStatusLabel(t)}getStatusColor(t){return this.maintenanceService.getStatusColor(t)}getMaintenanceTypeIcon(t){return this.maintenanceService.getMaintenanceTypeIcon(t)}formatDate(t){return this.maintenanceService.formatDate(t)}formatCost(t){return this.maintenanceService.formatCost(t)}getSelectedCar(){return this.cars.find(t=>t.id===this.selectedCarId)}static \u0275fac=function(e){return new(e||o)(P(Gn),P(_e),P(he))};static \u0275cmp=A({type:o,selectors:[["app-maintenance"]],decls:28,vars:10,consts:[[1,"maintenance-container"],[1,"maintenance-header"],[1,"fas","fa-tools","me-2"],[1,"text-muted"],["class","alert alert-warning","role","alert",4,"ngIf"],[1,"car-selection-section"],[1,"row"],[1,"col-md-6"],["for","carSelect",1,"form-label"],["id","carSelect",1,"form-select",3,"change"],["value",""],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-6","d-flex","align-items-end"],[1,"btn","btn-primary",3,"click","disabled"],[1,"fas","fa-plus","me-2"],["class","selected-car-info",4,"ngIf"],["class","add-maintenance-form",4,"ngIf"],["class","loading-state",4,"ngIf"],["class","error-state",4,"ngIf"],["class","maintenance-records",4,"ngIf"],["class","empty-state",4,"ngIf"],["class","no-selection-state",4,"ngIf"],["role","alert",1,"alert","alert-warning"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"btn","btn-sm","btn-outline-warning","ms-2",3,"click"],[1,"fas","fa-refresh"],[3,"value"],[1,"selected-car-info"],[1,"card"],[1,"card-body"],[1,"card-title"],[1,"fas","fa-car","me-2"],[1,"card-text"],[1,"add-maintenance-form"],[1,"card-header"],[1,"mb-0"],[1,"fas","fa-plus-circle","me-2"],[3,"ngSubmit","formGroup"],[1,"mb-3"],["for","maintenanceType",1,"form-label"],["id","maintenanceType","formControlName","maintenanceType",1,"form-select"],["for","serviceProvider",1,"form-label"],["type","text","id","serviceProvider","formControlName","serviceProvider",1,"form-control"],["for","serviceDate",1,"form-label"],["type","date","id","serviceDate","formControlName","serviceDate",1,"form-control"],["for","nextServiceDate",1,"form-label"],["type","date","id","nextServiceDate","formControlName","nextServiceDate",1,"form-control"],["for","mileageAtService",1,"form-label"],["type","number","id","mileageAtService","formControlName","mileageAtService",1,"form-control"],["for","cost",1,"form-label"],["type","number","id","cost","formControlName","cost","step","0.01",1,"form-control"],["for","description",1,"form-label"],["id","description","rows","3","formControlName","description",1,"form-control"],["for","invoiceNumber",1,"form-label"],["type","text","id","invoiceNumber","formControlName","invoiceNumber",1,"form-control"],["for","laborHours",1,"form-label"],["type","number","id","laborHours","formControlName","laborHours","step","0.5",1,"form-control"],["for","partsReplaced",1,"form-label"],["id","partsReplaced","rows","2","formControlName","partsReplaced",1,"form-control"],["for","technicianNotes",1,"form-label"],["id","technicianNotes","rows","3","formControlName","technicianNotes",1,"form-control"],["for","status",1,"form-label"],["id","status","formControlName","status",1,"form-select"],[1,"form-check","mt-4"],["type","checkbox","id","warrantyCovered","formControlName","warrantyCovered",1,"form-check-input"],["for","warrantyCovered",1,"form-check-label"],[1,"form-actions"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"fas","fa-save","me-2"],["type","button",1,"btn","btn-secondary","ms-2",3,"click"],[1,"fas","fa-times","me-2"],[1,"loading-state"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"mt-2"],[1,"error-state"],["role","alert",1,"alert","alert-danger"],[1,"fas","fa-exclamation-circle","me-2"],[1,"maintenance-records"],[1,"fas","fa-history","me-2"],[1,"badge","bg-secondary","ms-2"],[1,"table-responsive"],[1,"table","table-hover"],[1,"table-dark"],[4,"ngFor","ngForOf"],[1,"me-2"],[1,"badge"],["title","View Details",1,"btn","btn-sm","btn-outline-info"],[1,"fas","fa-eye"],[1,"empty-state"],[1,"fas","fa-tools","fa-3x","text-muted","mb-3"],[1,"btn","btn-primary",3,"click"],[1,"no-selection-state"],[1,"fas","fa-car","fa-3x","text-muted","mb-3"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h2"),g(3,"i",2),a(4,"Car Maintenance & Service History"),i(),r(5,"p",3),a(6,"Track and manage maintenance records for the rental fleet"),i()(),_(7,bm,8,1,"div",4),r(8,"div",5)(9,"div",6)(10,"div",7)(11,"label",8),a(12,"Select Car"),i(),r(13,"select",9),b("change",function(c){return n.onCarSelectionChange(c)}),r(14,"option",10),a(15,"Choose a car..."),i(),_(16,vm,2,4,"option",11),i()(),r(17,"div",12)(18,"button",13),b("click",function(){return n.showAddMaintenanceForm()}),g(19,"i",14),a(20,"Add Maintenance Record "),i()()()(),_(21,Cm,13,5,"div",15)(22,Pm,87,5,"div",16)(23,ym,7,0,"div",17)(24,Om,4,1,"div",18)(25,wm,26,2,"div",19)(26,Em,10,0,"div",20)(27,km,7,0,"div",21),i()),e&2&&(l(7),m("ngIf",n.overdueRecords.length>0),l(9),m("ngForOf",n.cars),l(2),m("disabled",!n.selectedCarId),l(3),m("ngIf",n.getSelectedCar()),l(),m("ngIf",n.showAddForm),l(),m("ngIf",n.isLoading),l(),m("ngIf",n.error&&!n.isLoading),l(),m("ngIf",n.maintenanceRecords.length>0&&!n.isLoading),l(),m("ngIf",n.maintenanceRecords.length===0&&n.selectedCarId&&!n.isLoading),l(),m("ngIf",!n.selectedCarId&&!n.isLoading))},dependencies:[L,J,B,Ze,de,Xe,Je,Me,yt,at,Qe,le,ce,ae,Pe,ye],styles:[".maintenance-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.maintenance-container[_ngcontent-%COMP%]   .maintenance-header[_ngcontent-%COMP%]{text-align:center;margin-bottom:2rem}.maintenance-container[_ngcontent-%COMP%]   .maintenance-header[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{color:#2c3e50;margin-bottom:.5rem}.maintenance-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]{background:#f8f9fa;padding:1.5rem;border-radius:8px;margin-bottom:2rem;border:1px solid #e9ecef}.maintenance-container[_ngcontent-%COMP%]   .selected-car-info[_ngcontent-%COMP%]{margin-bottom:2rem}.maintenance-container[_ngcontent-%COMP%]   .selected-car-info[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:2px solid #007bff;box-shadow:0 2px 4px #007bff1a}.maintenance-container[_ngcontent-%COMP%]   .add-maintenance-form[_ngcontent-%COMP%]{margin-bottom:2rem}.maintenance-container[_ngcontent-%COMP%]   .add-maintenance-form[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:1px solid #dee2e6;box-shadow:0 2px 8px #0000001a}.maintenance-container[_ngcontent-%COMP%]   .add-maintenance-form[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);color:#fff;border-bottom:none}.maintenance-container[_ngcontent-%COMP%]   .add-maintenance-form[_ngcontent-%COMP%]   .form-actions[_ngcontent-%COMP%]{padding-top:1rem;border-top:1px solid #dee2e6}.maintenance-container[_ngcontent-%COMP%]   .loading-state[_ngcontent-%COMP%]{padding:3rem;text-align:center}.maintenance-container[_ngcontent-%COMP%]   .error-state[_ngcontent-%COMP%]{margin-bottom:2rem}.maintenance-container[_ngcontent-%COMP%]   .maintenance-records[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{background:#fff;border-radius:8px;overflow:hidden;box-shadow:0 2px 8px #0000001a}.maintenance-container[_ngcontent-%COMP%]   .maintenance-records[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]{background:linear-gradient(135deg,#343a40,#495057)}.maintenance-container[_ngcontent-%COMP%]   .maintenance-records[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   thead[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border:none;padding:1rem;font-weight:600;color:#fff}.maintenance-container[_ngcontent-%COMP%]   .maintenance-records[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .2s ease}.maintenance-container[_ngcontent-%COMP%]   .maintenance-records[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.maintenance-container[_ngcontent-%COMP%]   .maintenance-records[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:1rem;vertical-align:middle;border-bottom:1px solid #dee2e6}.maintenance-container[_ngcontent-%COMP%]   .maintenance-records[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.5rem .75rem}.maintenance-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%], .maintenance-container[_ngcontent-%COMP%]   .no-selection-state[_ngcontent-%COMP%]{padding:4rem 2rem;text-align:center;background:#f8f9fa;border-radius:8px;border:2px dashed #dee2e6}.maintenance-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%], .maintenance-container[_ngcontent-%COMP%]   .no-selection-state[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#6c757d}.maintenance-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%], .maintenance-container[_ngcontent-%COMP%]   .no-selection-state[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{color:#495057;margin-bottom:1rem}.maintenance-container[_ngcontent-%COMP%]   .empty-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%], .maintenance-container[_ngcontent-%COMP%]   .no-selection-state[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{color:#6c757d;margin-bottom:1.5rem}@media (max-width: 768px){.maintenance-container[_ngcontent-%COMP%]{padding:1rem}.maintenance-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{flex-direction:column}.maintenance-container[_ngcontent-%COMP%]   .car-selection-section[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{margin-bottom:1rem}.maintenance-container[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{font-size:.875rem}.maintenance-container[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .maintenance-container[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem}}.maintenance-container[_ngcontent-%COMP%]   .add-maintenance-form[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_slideDown .3s ease-out}@keyframes _ngcontent-%COMP%_slideDown{0%{opacity:0;transform:translateY(-20px)}to{opacity:1;transform:translateY(0)}}.maintenance-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%], .maintenance-container[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{border:1px solid #ced4da;border-radius:6px;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.maintenance-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus, .maintenance-container[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#007bff;box-shadow:0 0 0 .2rem #007bff40}.maintenance-container[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]:checked{background-color:#007bff;border-color:#007bff}.maintenance-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:6px;font-weight:500;transition:all .2s ease}.maintenance-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 4px 8px #00000026}.maintenance-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background:linear-gradient(135deg,#007bff,#0056b3);border:none}.maintenance-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background:linear-gradient(135deg,#0056b3,#004085)}.maintenance-container[_ngcontent-%COMP%]   .btn.btn-outline-info[_ngcontent-%COMP%]{border-color:#17a2b8;color:#17a2b8}.maintenance-container[_ngcontent-%COMP%]   .btn.btn-outline-info[_ngcontent-%COMP%]:hover{background-color:#17a2b8;border-color:#17a2b8;color:#fff}.maintenance-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:8px;border:none;box-shadow:0 2px 4px #0000001a}.maintenance-container[_ngcontent-%COMP%]   .alert.alert-warning[_ngcontent-%COMP%]{background:linear-gradient(135deg,#fff3cd,#ffeaa7);color:#856404;border-left:4px solid #ffc107}.maintenance-container[_ngcontent-%COMP%]   .alert.alert-danger[_ngcontent-%COMP%]{background:linear-gradient(135deg,#f8d7da,#f5c6cb);color:#721c24;border-left:4px solid #dc3545}"]})};function Im(o,t){if(o&1&&(r(0,"div",13),g(1,"i",14),a(2),i()),o&2){let e=p();l(2),C("",e.error," ")}}function Tm(o,t){o&1&&(r(0,"div",15)(1,"div",16)(2,"span",17),a(3,"Loading..."),i()()())}function Fm(o,t){if(o&1&&(r(0,"tr")(1,"td"),a(2),i(),r(3,"td"),a(4),i(),r(5,"td"),a(6),i(),r(7,"td"),a(8),i()()),o&2){let e=t.$implicit,n=p(2);l(2),v(n.getTransactionTypeLabel(e.transactionType)),l(2),v(n.formatCurrency(e.amount)),l(2),v(n.getTransactionStatusLabel(e.status)),l(2),v(n.formatDate(e.transactionDate))}}function Rm(o,t){if(o&1){let e=y();r(0,"div")(1,"div",18)(2,"div",19)(3,"h5"),a(4,"Financial Transactions"),i(),r(5,"button",20),b("click",function(){u(e);let s=p();return h(s.showAddTransaction())}),g(6,"i",21),a(7,"Add Transaction "),i()(),r(8,"div",22)(9,"div",23)(10,"table",24)(11,"thead")(12,"tr")(13,"th"),a(14,"Type"),i(),r(15,"th"),a(16,"Amount"),i(),r(17,"th"),a(18,"Status"),i(),r(19,"th"),a(20,"Date"),i()()(),r(21,"tbody"),_(22,Fm,9,4,"tr",25),i()()()()()()}if(o&2){let e=p();l(22),m("ngForOf",e.transactions)}}function Dm(o,t){if(o&1&&(r(0,"div",22)(1,"div",27)(2,"div",28)(3,"div",15)(4,"h4"),a(5),i(),r(6,"p"),a(7,"Total Revenue"),i()()(),r(8,"div",28)(9,"div",15)(10,"h4"),a(11),i(),r(12,"p"),a(13,"Total Expenses"),i()()(),r(14,"div",28)(15,"div",15)(16,"h4"),a(17),i(),r(18,"p"),a(19,"Net Profit"),i()()(),r(20,"div",28)(21,"div",15)(22,"h4"),a(23),i(),r(24,"p"),a(25,"Profit Margin"),i()()()()()),o&2){let e=p(2);l(5),v(e.formatCurrency(e.currentReport.totalRevenue)),l(6),v(e.formatCurrency(e.currentReport.totalExpenses)),l(6),v(e.formatCurrency(e.currentReport.netProfit)),l(6),C("",e.currentReport.profitMargin.toFixed(2),"%")}}function Am(o,t){if(o&1&&(r(0,"div")(1,"div",18)(2,"div",19)(3,"h5"),a(4,"Financial Summary"),i()(),_(5,Dm,26,4,"div",26),i()()),o&2){let e=p();l(5),m("ngIf",e.currentReport)}}var qn=class o{constructor(t,e,n){this.financialService=t;this.carService=e;this.fb=n;this.transactionForm=this.fb.group({transactionType:["",[]],amount:["",[]],currency:["USD",[]],description:["",[]],referenceNumber:["",[]],paymentMethod:["",[]],status:["COMPLETED",[]],carId:["",[]],userId:["",[]],branchId:["",[]],transactionDate:["",[]]}),this.filterForm=this.fb.group({transactionType:["",[]],status:["",[]],carId:["",[]],branchId:["",[]],startDate:["",[]],endDate:["",[]]})}transactions=[];currentReport=null;cars=[];branches=[];isLoading=!1;error=null;showAddTransactionForm=!1;showFilters=!1;currentView="transactions";currentPage=0;pageSize=20;totalElements=0;transactionForm;filterForm;transactionTypes=[];transactionStatuses=[];dateRanges=[{label:"Last 30 Days",value:"last30"},{label:"Current Month",value:"currentMonth"},{label:"Current Year",value:"currentYear"},{label:"Custom Range",value:"custom"}];selectedDateRange="last30";ngOnInit(){this.loadInitialData(),this.loadTransactions(),this.loadCurrentReport()}loadInitialData(){this.transactionTypes=this.financialService.getTransactionTypeOptions(),this.transactionStatuses=this.financialService.getTransactionStatusOptions(),this.carService.getAllCars().subscribe({next:t=>this.cars=t,error:t=>console.error("Error loading cars:",t)}),this.branches=[]}loadTransactions(){this.isLoading=!0;let t=Re({page:this.currentPage,size:this.pageSize},this.filterForm.value);this.financialService.searchTransactions(t).subscribe({next:e=>{this.transactions=e.content,this.totalElements=e.totalElements,this.isLoading=!1},error:e=>{this.error="Failed to load transactions",this.isLoading=!1,console.error("Error loading transactions:",e)}})}loadCurrentReport(){switch(this.selectedDateRange){case"last30":this.financialService.getLast30DaysReport().subscribe({next:t=>this.currentReport=t,error:t=>console.error("Error loading report:",t)});break;case"currentMonth":this.financialService.getCurrentMonthReport().subscribe({next:t=>this.currentReport=t,error:t=>console.error("Error loading report:",t)});break;case"currentYear":this.financialService.getCurrentYearReport().subscribe({next:t=>this.currentReport=t,error:t=>console.error("Error loading report:",t)});break;case"custom":break}}onDateRangeChange(){this.loadCurrentReport()}onPageChange(t){this.currentPage=t,this.loadTransactions()}onFilterSubmit(){this.currentPage=0,this.loadTransactions()}onFilterReset(){this.filterForm.reset(),this.currentPage=0,this.loadTransactions()}showAddTransaction(){this.showAddTransactionForm=!0,this.transactionForm.reset(),this.transactionForm.patchValue({status:"COMPLETED",currency:"USD",transactionDate:new Date().toISOString().split("T")[0]})}hideAddTransaction(){this.showAddTransactionForm=!1,this.transactionForm.reset()}onSubmitTransaction(){if(this.transactionForm.valid){this.isLoading=!0;let t=this.transactionForm.value;this.financialService.createTransaction(t).subscribe({next:e=>{this.transactions.unshift(e),this.hideAddTransaction(),this.isLoading=!1,this.loadCurrentReport()},error:e=>{this.error="Failed to create transaction",this.isLoading=!1,console.error("Error creating transaction:",e)}})}}switchView(t){this.currentView=t}getTransactionTypeLabel(t){return this.financialService.getTransactionTypeLabel(t)}getTransactionStatusLabel(t){return this.financialService.getTransactionStatusLabel(t)}getStatusColor(t){return this.financialService.getStatusColor(t)}getTransactionTypeIcon(t){return this.financialService.getTransactionTypeIcon(t)}formatCurrency(t){return this.financialService.formatCurrency(t)}formatDate(t){return this.financialService.formatDate(t)}formatDateTime(t){return this.financialService.formatDateTime(t)}getTotalPages(){return Math.ceil(this.totalElements/this.pageSize)}getPageNumbers(){let t=this.getTotalPages(),e=[],n=5,s=Math.max(0,this.currentPage-Math.floor(n/2)),c=Math.min(t-1,s+n-1);c-s+1<n&&(s=Math.max(0,c-n+1));for(let d=s;d<=c;d++)e.push(d);return e}static \u0275fac=function(e){return new(e||o)(P(gt),P(_e),P(he))};static \u0275cmp=A({type:o,selectors:[["app-financial"]],decls:19,vars:8,consts:[[1,"financial-container"],[1,"header-section"],[1,"page-title"],[1,"fas","fa-chart-line","me-3"],[1,"nav-tabs-section"],[1,"nav","nav-tabs"],[1,"nav-item"],[1,"nav-link",3,"click"],[1,"fas","fa-list","me-2"],[1,"fas","fa-chart-bar","me-2"],["class","alert alert-danger",4,"ngIf"],["class","text-center",4,"ngIf"],[4,"ngIf"],[1,"alert","alert-danger"],[1,"fas","fa-exclamation-triangle","me-2"],[1,"text-center"],["role","status",1,"spinner-border","text-primary"],[1,"visually-hidden"],[1,"card"],[1,"card-header"],[1,"btn","btn-primary",3,"click"],[1,"fas","fa-plus","me-2"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[4,"ngFor","ngForOf"],["class","card-body",4,"ngIf"],[1,"row"],[1,"col-md-3"]],template:function(e,n){e&1&&(r(0,"div",0)(1,"div",1)(2,"h1",2),g(3,"i",3),a(4,"Financial Reports & Analytics "),i()(),r(5,"div",4)(6,"ul",5)(7,"li",6)(8,"button",7),b("click",function(){return n.switchView("transactions")}),g(9,"i",8),a(10,"Transactions "),i()(),r(11,"li",6)(12,"button",7),b("click",function(){return n.switchView("reports")}),g(13,"i",9),a(14,"Reports "),i()()()(),_(15,Im,3,1,"div",10)(16,Tm,4,0,"div",11)(17,Rm,23,1,"div",12)(18,Am,6,1,"div",12),i()),e&2&&(l(8),w("active",n.currentView==="transactions"),l(4),w("active",n.currentView==="reports"),l(3),m("ngIf",n.error),l(),m("ngIf",n.isLoading),l(),m("ngIf",n.currentView==="transactions"&&!n.isLoading),l(),m("ngIf",n.currentView==="reports"&&!n.isLoading))},dependencies:[L,J,B,Ze,ae],styles:[`@charset "UTF-8";.financial-container[_ngcontent-%COMP%]{padding:2rem;max-width:1200px;margin:0 auto}.financial-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]{margin-bottom:2rem}.financial-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]{color:#2c3e50;font-weight:600;margin:0}.financial-container[_ngcontent-%COMP%]   .header-section[_ngcontent-%COMP%]   .page-title[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3498db}.financial-container[_ngcontent-%COMP%]   .nav-tabs-section[_ngcontent-%COMP%]{margin-bottom:2rem}.financial-container[_ngcontent-%COMP%]   .nav-tabs-section[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]{border-bottom:2px solid #e9ecef}.financial-container[_ngcontent-%COMP%]   .nav-tabs-section[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]{border:none;color:#6c757d;font-weight:500;padding:.75rem 1.5rem;margin-right:.5rem;border-radius:.375rem .375rem 0 0;transition:all .3s ease}.financial-container[_ngcontent-%COMP%]   .nav-tabs-section[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]:hover{color:#3498db;background-color:#f8f9fa}.financial-container[_ngcontent-%COMP%]   .nav-tabs-section[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link.active[_ngcontent-%COMP%]{color:#3498db;background-color:#fff;border-bottom:2px solid #3498db}.financial-container[_ngcontent-%COMP%]   .nav-tabs-section[_ngcontent-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{margin-right:.5rem}.financial-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{border:none;box-shadow:0 .125rem .25rem #00000013;border-radius:.5rem;margin-bottom:1.5rem}.financial-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]{background-color:#f8f9fa;border-bottom:1px solid #e9ecef;padding:1rem 1.5rem;border-radius:.5rem .5rem 0 0}.financial-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin:0;color:#2c3e50;font-weight:600}.financial-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-header[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:#3498db}.financial-container[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{padding:1.5rem}.financial-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]{margin-bottom:0}.financial-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{border-top:none;border-bottom:2px solid #e9ecef;font-weight:600;color:#495057;padding:.75rem}.financial-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.75rem;vertical-align:middle;border-top:1px solid #e9ecef}.financial-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{transition:background-color .15s ease-in-out}.financial-container[_ngcontent-%COMP%]   .table[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#f8f9fa}.financial-container[_ngcontent-%COMP%]   .badge[_ngcontent-%COMP%]{font-size:.75rem;padding:.375rem .75rem;border-radius:.375rem}.financial-container[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{border-radius:.375rem;font-weight:500;padding:.5rem 1rem;transition:all .15s ease-in-out}.financial-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]{background-color:#3498db;border-color:#3498db}.financial-container[_ngcontent-%COMP%]   .btn.btn-primary[_ngcontent-%COMP%]:hover{background-color:#2980b9;border-color:#2980b9}.financial-container[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]{background-color:#6c757d;border-color:#6c757d}.financial-container[_ngcontent-%COMP%]   .btn.btn-secondary[_ngcontent-%COMP%]:hover{background-color:#5a6268;border-color:#5a6268}.financial-container[_ngcontent-%COMP%]   .alert[_ngcontent-%COMP%]{border-radius:.375rem;border:none;padding:1rem 1.5rem;margin-bottom:1.5rem}.financial-container[_ngcontent-%COMP%]   .alert.alert-danger[_ngcontent-%COMP%]{background-color:#f8d7da;color:#721c24}.financial-container[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem}.financial-container[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}.financial-container[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%]{color:#28a745!important}.financial-container[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#dc3545!important}.financial-container[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{color:#3498db!important}.financial-container[_ngcontent-%COMP%]   .text-info[_ngcontent-%COMP%]{color:#17a2b8!important}.financial-container[_ngcontent-%COMP%]   .text-warning[_ngcontent-%COMP%]{color:#ffc107!important}.financial-container[_ngcontent-%COMP%]   .text-secondary[_ngcontent-%COMP%]{color:#6c757d!important}.financial-container[_ngcontent-%COMP%]   .bg-success[_ngcontent-%COMP%]{background-color:#28a745!important}.financial-container[_ngcontent-%COMP%]   .bg-primary[_ngcontent-%COMP%]{background-color:#3498db!important}.financial-container[_ngcontent-%COMP%]   .bg-info[_ngcontent-%COMP%]{background-color:#17a2b8!important}.financial-container[_ngcontent-%COMP%]   .bg-warning[_ngcontent-%COMP%]{background-color:#ffc107!important}.financial-container[_ngcontent-%COMP%]   .bg-secondary[_ngcontent-%COMP%]{background-color:#6c757d!important}.financial-container[_ngcontent-%COMP%]   .fw-bold[_ngcontent-%COMP%]{font-weight:700!important}.financial-container[_ngcontent-%COMP%]   .visually-hidden[_ngcontent-%COMP%]{position:absolute!important;width:1px!important;height:1px!important;padding:0!important;margin:-1px!important;overflow:hidden!important;clip:rect(0,0,0,0)!important;white-space:nowrap!important;border:0!important}.financial-container[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{overflow-x:auto}.financial-container[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;margin-right:-.75rem;margin-left:-.75rem}.financial-container[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%]{flex:0 0 25%;max-width:25%;padding-right:.75rem;padding-left:.75rem}.financial-container[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{flex:0 0 50%;max-width:50%;padding-right:.75rem;padding-left:.75rem}.financial-container[_ngcontent-%COMP%]   .col-12[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;padding-right:.75rem;padding-left:.75rem}.financial-container[_ngcontent-%COMP%]   .mb-2[_ngcontent-%COMP%]{margin-bottom:.5rem!important}.financial-container[_ngcontent-%COMP%]   .mb-3[_ngcontent-%COMP%]{margin-bottom:1rem!important}.financial-container[_ngcontent-%COMP%]   .me-2[_ngcontent-%COMP%]{margin-right:.5rem!important}.financial-container[_ngcontent-%COMP%]   .me-3[_ngcontent-%COMP%]{margin-right:1rem!important}.financial-container[_ngcontent-%COMP%]   .mt-1[_ngcontent-%COMP%]{margin-top:.25rem!important}.financial-container[_ngcontent-%COMP%]   .mt-3[_ngcontent-%COMP%]{margin-top:1rem!important}.financial-container[_ngcontent-%COMP%]   .ms-2[_ngcontent-%COMP%]{margin-left:.5rem!important}.financial-container[_ngcontent-%COMP%]   .p-0[_ngcontent-%COMP%]{padding:0!important}.financial-container[_ngcontent-%COMP%]   .d-flex[_ngcontent-%COMP%]{display:flex!important}.financial-container[_ngcontent-%COMP%]   .justify-content-between[_ngcontent-%COMP%]{justify-content:space-between!important}.financial-container[_ngcontent-%COMP%]   .align-items-center[_ngcontent-%COMP%]{align-items:center!important}.financial-container[_ngcontent-%COMP%]   .float-end[_ngcontent-%COMP%]{float:right!important}.financial-container[_ngcontent-%COMP%]   .text-end[_ngcontent-%COMP%]{text-align:right!important}.financial-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-clip:padding-box;border:1px solid #ced4da;border-radius:.375rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.financial-container[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]:focus{color:#495057;background-color:#fff;border-color:#3498db;outline:0;box-shadow:0 0 0 .2rem #3498db40}.financial-container[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]{display:block;width:100%;padding:.375rem 2.25rem .375rem .75rem;font-size:1rem;font-weight:400;line-height:1.5;color:#495057;background-color:#fff;background-image:url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 16 16'%3e%3cpath fill='none' stroke='%23343a40' stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='m1 6 7 7 7-7'/%3e%3c/svg%3e");background-repeat:no-repeat;background-position:right .75rem center;background-size:16px 12px;border:1px solid #ced4da;border-radius:.375rem;transition:border-color .15s ease-in-out,box-shadow .15s ease-in-out}.financial-container[_ngcontent-%COMP%]   .form-select[_ngcontent-%COMP%]:focus{border-color:#3498db;outline:0;box-shadow:0 0 0 .2rem #3498db40}.financial-container[_ngcontent-%COMP%]   .form-label[_ngcontent-%COMP%]{margin-bottom:.5rem;font-weight:500;color:#495057}.financial-container[_ngcontent-%COMP%]   .btn-sm[_ngcontent-%COMP%]{padding:.25rem .5rem;font-size:.875rem;border-radius:.25rem}.financial-container[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]{color:#3498db;border-color:#3498db}.financial-container[_ngcontent-%COMP%]   .btn-outline-primary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#3498db;border-color:#3498db}.financial-container[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]{color:#6c757d;border-color:#6c757d}.financial-container[_ngcontent-%COMP%]   .btn-outline-secondary[_ngcontent-%COMP%]:hover{color:#fff;background-color:#6c757d;border-color:#6c757d}.financial-container[_ngcontent-%COMP%]   .progress[_ngcontent-%COMP%]{height:.5rem;background-color:#e9ecef;border-radius:.25rem;overflow:hidden}.financial-container[_ngcontent-%COMP%]   .progress-bar[_ngcontent-%COMP%]{height:100%;background-color:#3498db;transition:width .6s ease}.financial-container[_ngcontent-%COMP%]   .bg-danger[_ngcontent-%COMP%]{background-color:#dc3545!important}.financial-container[_ngcontent-%COMP%]   .revenue-item[_ngcontent-%COMP%], .financial-container[_ngcontent-%COMP%]   .expense-item[_ngcontent-%COMP%]{margin-bottom:1rem;padding:.5rem;border-radius:.25rem;background-color:#f8f9fa}.financial-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{margin-bottom:0}.financial-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#3498db;background-color:#fff;border:1px solid #dee2e6;padding:.5rem .75rem}.financial-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]:hover{color:#2980b9;background-color:#e9ecef;border-color:#dee2e6}.financial-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item.active[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{background-color:#3498db;border-color:#3498db;color:#fff}.financial-container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]   .page-item.disabled[_ngcontent-%COMP%]   .page-link[_ngcontent-%COMP%]{color:#6c757d;background-color:#fff;border-color:#dee2e6}.financial-container[_ngcontent-%COMP%]   .justify-content-center[_ngcontent-%COMP%]{justify-content:center!important}.financial-container[_ngcontent-%COMP%]   .modal-backdrop[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;display:flex;align-items:center;justify-content:center;z-index:1050}.financial-container[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{max-width:800px;width:100%;margin:1.75rem auto}.financial-container[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{background-color:#fff;border-radius:.5rem;box-shadow:0 .5rem 1rem #00000026}.financial-container[_ngcontent-%COMP%]   .modal-header[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-bottom:1px solid #e9ecef;border-radius:.5rem .5rem 0 0}.financial-container[_ngcontent-%COMP%]   .modal-body[_ngcontent-%COMP%]{padding:1.5rem}.financial-container[_ngcontent-%COMP%]   .modal-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem;border-top:1px solid #e9ecef;border-radius:0 0 .5rem .5rem}.financial-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]{background:transparent;border:0;font-size:1.5rem;line-height:1;padding:0;cursor:pointer}.financial-container[_ngcontent-%COMP%]   .btn-close[_ngcontent-%COMP%]:before{content:"\\d7"}.financial-container[_ngcontent-%COMP%]   textarea.form-control[_ngcontent-%COMP%]{resize:vertical;min-height:100px}.financial-container[_ngcontent-%COMP%]   .alert-dismissible[_ngcontent-%COMP%]{padding-right:3rem}.financial-container[_ngcontent-%COMP%]   .fade[_ngcontent-%COMP%]{transition:opacity .15s linear}.financial-container[_ngcontent-%COMP%]   .fade.show[_ngcontent-%COMP%]{opacity:1}.financial-container[_ngcontent-%COMP%]   .show[_ngcontent-%COMP%]{display:block!important}.financial-container[_ngcontent-%COMP%]   .table-hover[_ngcontent-%COMP%]   tbody[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{background-color:#00000013}.financial-container[_ngcontent-%COMP%]   .loading-section[_ngcontent-%COMP%]{padding:3rem 0}.financial-container[_ngcontent-%COMP%]   .filters-section[_ngcontent-%COMP%], .financial-container[_ngcontent-%COMP%]   .transactions-section[_ngcontent-%COMP%], .financial-container[_ngcontent-%COMP%]   .date-range-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.financial-container[_ngcontent-%COMP%]   .financial-summary-section[_ngcontent-%COMP%]{margin-bottom:2rem}.financial-container[_ngcontent-%COMP%]   .charts-section[_ngcontent-%COMP%]{margin-bottom:1.5rem}.financial-container[_ngcontent-%COMP%]   .pagination-section[_ngcontent-%COMP%]{margin-top:1.5rem}.financial-container[_ngcontent-%COMP%]   .revenue-chart[_ngcontent-%COMP%], .financial-container[_ngcontent-%COMP%]   .expenses-chart[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}@media (max-width: 768px){.financial-container[_ngcontent-%COMP%]   .financial-container[_ngcontent-%COMP%]{padding:1rem}.financial-container[_ngcontent-%COMP%]   .col-md-3[_ngcontent-%COMP%], .financial-container[_ngcontent-%COMP%]   .col-md-6[_ngcontent-%COMP%]{flex:0 0 100%;max-width:100%;margin-bottom:1rem}.financial-container[_ngcontent-%COMP%]   .table-responsive[_ngcontent-%COMP%]{font-size:.875rem}.financial-container[_ngcontent-%COMP%]   .modal-dialog[_ngcontent-%COMP%]{margin:.5rem;max-width:calc(100% - 1rem)}}`]})};var ke=class o{constructor(t,e){this.authService=t;this.router=e}canActivate(){return this.authService.refreshUserState(),this.authService.isLoggedIn()?!0:(this.router.navigate(["/login"]),!1)}static \u0275fac=function(e){return new(e||o)(j(ee),j(ue))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var Lt=class o{constructor(t,e){this.authService=t;this.router=e}canActivate(){if(this.authService.isLoggedIn()){let t=this.authService.getCurrentUser();if(t&&t.role==="ADMIN")return!0}return this.router.navigate(["/home"]),!1}static \u0275fac=function(e){return new(e||o)(j(ee),j(ue))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var Qt=class o{constructor(t,e){this.authService=t;this.router=e}canActivate(){if(this.authService.isLoggedIn()){let t=this.authService.getCurrentUser();if(t&&(t.role==="MANAGER"||t.role==="ADMIN"))return!0}return this.router.navigate(["/home"]),!1}static \u0275fac=function(e){return new(e||o)(j(ee),j(ue))};static \u0275prov=W({token:o,factory:o.\u0275fac,providedIn:"root"})};var vo=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:En},{path:"login",component:kn},{path:"register",component:In},{path:"cars",component:Fn},{path:"cars/:id",component:Nn},{path:"compare",component:Hn},{path:"maintenance",component:Yn,canActivate:[ke]},{path:"financial",component:qn,canActivate:[ke]},{path:"favorites",component:zn,canActivate:[ke]},{path:"bookings",component:Bn,canActivate:[ke]},{path:"settings",loadComponent:()=>import("./chunk-3X7LGTXM.js").then(o=>o.SettingsComponent),canActivate:[ke]},{path:"profile",loadComponent:()=>import("./chunk-4OFR6EGZ.js").then(o=>o.ProfileComponent),canActivate:[ke]},{path:"admin/dashboard",component:Vn,canActivate:[ke,Lt]},{path:"admin/email-test",component:Wn,canActivate:[ke,Lt]},{path:"admin/booking-confirmation",component:Kt,canActivate:[ke,Lt]},{path:"manager/booking-confirmation",component:Kt,canActivate:[ke,Qt]},{path:"manager/dashboard/:branchId",component:Un,canActivate:[ke,Qt]},{path:"**",redirectTo:"/home"}];var Co=(o,t)=>{let n=Gi(ee).getToken();if(n){let s=o.clone({headers:o.headers.set("Authorization",`Bearer ${n}`)});return t(s)}return t(o)};var xo={providers:[nr({eventCoalescing:!0}),mr(vo),sr(lr([Co])),go()]};var Nm=o=>["/manager/dashboard",o];function Bm(o,t){if(o&1){let e=y();r(0,"li",13)(1,"a",24),b("click",function(){u(e);let s=p();return h(s.closeMobileMenu())}),g(2,"i",25),r(3,"span"),a(4,"Maintenance"),i()()()}}function Lm(o,t){if(o&1){let e=y();r(0,"li",13)(1,"a",26),b("click",function(){u(e);let s=p();return h(s.closeMobileMenu())}),g(2,"i",27),r(3,"span"),a(4,"Financial"),i()()()}}function Vm(o,t){if(o&1){let e=y();r(0,"li",13)(1,"a",28),b("click",function(){u(e);let s=p();return h(s.closeMobileMenu())}),g(2,"i",29),r(3,"span"),a(4,"My Favorites"),i()()()}}function Um(o,t){if(o&1){let e=y();r(0,"li",13)(1,"a",30),b("click",function(){u(e);let s=p();return h(s.closeMobileMenu())}),g(2,"i",31),r(3,"span"),a(4,"My Bookings"),i()()()}}function zm(o,t){if(o&1){let e=y();r(0,"li",13)(1,"a",32),b("click",function(){u(e);let s=p();return h(s.closeMobileMenu())}),g(2,"i",27),r(3,"span"),a(4,"Dashboard"),i()()()}}function jm(o,t){if(o&1){let e=y();r(0,"li",13)(1,"a",33),b("click",function(){u(e);let s=p();return h(s.closeMobileMenu())}),g(2,"i",27),r(3,"span"),a(4,"Dashboard"),i()()()}if(o&2){let e=p();l(),m("routerLink",Ae(1,Nm,e.getManagerBranchId()))}}function Wm(o,t){if(o&1){let e=y();r(0,"div",34)(1,"a",35),b("click",function(){u(e);let s=p();return h(s.navigateToLogin())}),g(2,"i",36),r(3,"span"),a(4,"Login"),i()(),r(5,"a",37),b("click",function(){u(e);let s=p();return h(s.navigateToRegister())}),g(6,"i",38),r(7,"span"),a(8,"Register"),i()()()}}function $m(o,t){if(o&1&&(r(0,"span",72),a(1),i()),o&2){let e=p(3);l(),v(e.favoriteCount)}}function Hm(o,t){if(o&1){let e=y();r(0,"a",70),b("click",function(){u(e);let s=p(2);return h(s.closeUserMenu())}),g(1,"i",29),r(2,"span"),a(3,"My Favorites"),i(),_(4,$m,2,1,"span",71),i()}if(o&2){let e=p(2);l(4),m("ngIf",e.favoriteCount>0)}}function Gm(o,t){if(o&1&&(r(0,"span",76),a(1),i()),o&2){let e=p(3);l(),v(e.bookingsCount)}}function Ym(o,t){if(o&1){let e=y();r(0,"a",73),b("click",function(){u(e);let s=p(2);return h(s.closeUserMenu())}),g(1,"i",74),r(2,"span"),a(3,"My Bookings"),i(),_(4,Gm,2,1,"span",75),i()}if(o&2){let e=p(2);l(4),m("ngIf",e.bookingsCount>0)}}function qm(o,t){if(o&1&&(r(0,"div",77)(1,"div",78)(2,"span"),a(3,"Active/Confirmed"),i(),r(4,"span"),a(5),i()(),r(6,"div",79)(7,"span"),a(8,"Pending"),i(),r(9,"span"),a(10),i()()()),o&2){let e=p(2);l(5),v(e.activeBookingsCount),l(5),v(e.pendingBookingsCount)}}function Km(o,t){if(o&1){let e=y();r(0,"a",80),b("click",function(){u(e);let s=p(2);return h(s.closeUserMenu())}),g(1,"i",27),r(2,"span"),a(3,"Admin Dashboard"),i()()}}function Qm(o,t){if(o&1&&(r(0,"span",72),a(1),i()),o&2){let e=p(3);l(),v(e.favoriteCount)}}function Xm(o,t){if(o&1){let e=y();r(0,"a",70),b("click",function(){u(e);let s=p(2);return h(s.closeUserMenu())}),g(1,"i",29),r(2,"span"),a(3,"Favorites"),i(),_(4,Qm,2,1,"span",71),i()}if(o&2){let e=p(2);l(4),m("ngIf",e.favoriteCount>0)}}function Jm(o,t){if(o&1){let e=y();r(0,"div",39)(1,"div",40),b("click",function(){u(e);let s=p();return h(s.toggleUserMenu())}),r(2,"div",41),g(3,"i",42),i(),r(4,"div",43)(5,"span",44),a(6),i(),r(7,"span",45),a(8),i()(),g(9,"i",46),i(),r(10,"div",47)(11,"div",48)(12,"div",49)(13,"div",50),g(14,"i",42),i(),r(15,"div",51)(16,"div",52),a(17),i(),r(18,"div",53),a(19),i(),r(20,"div",54),a(21),i()()()(),g(22,"div",55),r(23,"a",56),b("click",function(){u(e);let s=p();return h(s.closeUserMenu())}),g(24,"i",57),r(25,"span"),a(26,"My Profile"),i()(),_(27,Hm,5,1,"a",58)(28,Ym,5,1,"a",59)(29,qm,11,2,"div",60),r(30,"a",61),b("click",function(){u(e);let s=p();return h(s.closeUserMenu())}),g(31,"i",19),r(32,"span"),a(33,"Compare Cars"),i()(),_(34,Km,4,0,"a",62)(35,Xm,5,1,"a",58),g(36,"div",55),r(37,"a",63),b("click",function(){u(e);let s=p();return h(s.closeUserMenu())}),g(38,"i",64),r(39,"span"),a(40,"Settings"),i()(),r(41,"a",65),b("click",function(){u(e);let s=p();return h(s.closeUserMenu())}),g(42,"i",66),r(43,"span"),a(44,"Notifications"),i()(),g(45,"div",55),r(46,"div",67)(47,"a",68),b("click",function(){u(e);let s=p();return s.confirmLogout(),h(s.closeUserMenu())}),g(48,"i",69),r(49,"span"),a(50,"Sign Out"),i()()()()()}if(o&2){let e=p();l(6),v((e.currentUser==null?null:e.currentUser.fullName)||"User"),l(2),v(e.getRoleDisplayName(e.currentUser==null?null:e.currentUser.role)),l(),w("rotated",e.isUserMenuOpen),l(),w("active",e.isUserMenuOpen),l(7),v((e.currentUser==null?null:e.currentUser.fullName)||"User"),l(2),v(e.currentUser==null?null:e.currentUser.email),l(2),v(e.getRoleDisplayName(e.currentUser==null?null:e.currentUser.role)),l(6),m("ngIf",!e.isAdminOrManager()),l(),m("ngIf",!e.isAdminOrManager()),l(),m("ngIf",!e.isAdminOrManager()&&(e.bookingsCount>0||e.pendingBookingsCount>0)),l(5),m("ngIf",(e.currentUser==null?null:e.currentUser.role)==="ADMIN"),l(),m("ngIf",!e.isAdminOrManager())}}var Kn=class o{constructor(t,e,n,s){this.authService=t;this.router=e;this.favoriteService=n;this.bookingService=s}isLoggedIn=!1;currentUser=null;isMobileMenuOpen=!1;isUserMenuOpen=!1;isScrolled=!1;favoriteCount=0;bookingsCount=0;activeBookingsCount=0;pendingBookingsCount=0;ngOnInit(){this.authService.currentUser$.subscribe(t=>{this.currentUser=t,this.isLoggedIn=!!t,this.isLoggedIn?(this.loadFavoriteCount(),this.loadBookingCounts()):this.resetCounts()}),window.addEventListener("scroll",this.onWindowScroll,{passive:!0})}onWindowScroll=()=>{this.isScrolled=window.scrollY>10};ngOnDestroy(){window.removeEventListener("scroll",this.onWindowScroll)}resetCounts(){this.favoriteCount=0,this.bookingsCount=0,this.activeBookingsCount=0,this.pendingBookingsCount=0}loadFavoriteCount(){if(!this.isLoggedIn||this.isAdminOrManager()){this.favoriteCount=0;return}this.favoriteService.getFavoriteCount().subscribe({next:t=>this.favoriteCount=t||0,error:()=>this.favoriteCount=0})}loadBookingCounts(){if(!this.isLoggedIn||this.isAdminOrManager()){this.bookingsCount=0,this.activeBookingsCount=0,this.pendingBookingsCount=0;return}this.bookingService.getUserBookings().subscribe({next:t=>{let e=t||[];this.bookingsCount=e.length,this.activeBookingsCount=e.filter(n=>n.status==="ACTIVE"||n.status==="CONFIRMED").length,this.pendingBookingsCount=e.filter(n=>n.status==="PENDING").length},error:()=>{this.bookingsCount=0,this.activeBookingsCount=0,this.pendingBookingsCount=0}})}isAdmin(){return this.currentUser?.role==="ADMIN"}getManagerBranchId(){let t=localStorage.getItem("managerBranchId");return t?+t:1}toggleMobileMenu(){this.isMobileMenuOpen=!this.isMobileMenuOpen,this.isMobileMenuOpen&&(this.isUserMenuOpen=!1)}closeMobileMenu(){this.isMobileMenuOpen=!1}navigateToLogin(){this.closeMobileMenu(),this.router.navigate(["/login"])}navigateToRegister(){this.closeMobileMenu(),this.router.navigate(["/register"])}toggleUserMenu(){this.isUserMenuOpen=!this.isUserMenuOpen,this.isUserMenuOpen&&this.isLoggedIn&&(this.loadFavoriteCount(),this.loadBookingCounts())}closeUserMenu(){this.isUserMenuOpen=!1}logout(){this.authService.logout(),this.closeUserMenu(),this.router.navigate(["/home"])}confirmLogout(){confirm("Are you sure you want to sign out?")&&this.logout()}getRoleDisplayName(t){if(!t)return"User";switch(t){case"ADMIN":return"Administrator";case"MANAGER":return"Manager";case"CUSTOMER":return"Customer";default:return"User"}}forceLogout(){localStorage.removeItem("token"),this.authService.logout(),this.isLoggedIn=!1,this.currentUser=null}isAdminOrManager(){return this.currentUser?.role==="ADMIN"||this.currentUser?.role==="MANAGER"}clearTokenForTesting(){localStorage.removeItem("token"),this.authService.logout()}static \u0275fac=function(e){return new(e||o)(P(ee),P(ue),P(mt),P(Le))};static \u0275cmp=A({type:o,selectors:[["app-navbar"]],decls:41,vars:18,consts:[[1,"modern-navbar"],[1,"nav-container"],[1,"nav-brand"],["routerLink","/home",1,"brand-link"],[1,"brand-icon"],[1,"fas","fa-car-side"],[1,"brand-text"],[1,"brand-name"],[1,"brand-tagline"],[1,"nav-toggle",3,"click"],[1,"hamburger-line"],[1,"nav-menu"],[1,"nav-list"],[1,"nav-item"],["routerLink","/home","routerLinkActive","active",1,"nav-link",3,"click"],[1,"fas","fa-home"],["routerLink","/cars","routerLinkActive","active",1,"nav-link",3,"click"],[1,"fas","fa-search"],["routerLink","/compare","routerLinkActive","active",1,"nav-link",3,"click"],[1,"fas","fa-balance-scale"],["class","nav-item",4,"ngIf"],[1,"nav-auth"],["class","auth-buttons",4,"ngIf"],["class","user-menu",4,"ngIf"],["routerLink","/maintenance","routerLinkActive","active",1,"nav-link",3,"click"],[1,"fas","fa-tools"],["routerLink","/financial","routerLinkActive","active",1,"nav-link",3,"click"],[1,"fas","fa-chart-line"],["routerLink","/favorites","routerLinkActive","active",1,"nav-link",3,"click"],[1,"fas","fa-heart"],["routerLink","/bookings","routerLinkActive","active",1,"nav-link",3,"click"],[1,"fas","fa-calendar-alt"],["routerLink","/admin/dashboard","routerLinkActive","active",1,"nav-link",3,"click"],["routerLinkActive","active",1,"nav-link",3,"click","routerLink"],[1,"auth-buttons"],[1,"auth-link","login-link",3,"click"],[1,"fas","fa-sign-in-alt"],[1,"auth-link","register-link",3,"click"],[1,"fas","fa-user-plus"],[1,"user-menu"],[1,"user-profile",3,"click"],[1,"user-avatar"],[1,"fas","fa-user"],[1,"user-info"],[1,"user-name"],[1,"user-role"],[1,"fas","fa-chevron-down","dropdown-icon"],[1,"user-dropdown"],[1,"dropdown-header"],[1,"profile-summary"],[1,"profile-avatar"],[1,"profile-details"],[1,"profile-name"],[1,"profile-email"],[1,"profile-role"],[1,"dropdown-divider"],["routerLink","/profile",1,"dropdown-item",3,"click"],[1,"fas","fa-user-circle"],["class","dropdown-item","routerLink","/favorites",3,"click",4,"ngIf"],["class","dropdown-item","routerLink","/bookings",3,"click",4,"ngIf"],["class","quick-stats small text-muted px-3",4,"ngIf"],["routerLink","/compare",1,"dropdown-item",3,"click"],["class","dropdown-item","routerLink","/admin/dashboard",3,"click",4,"ngIf"],["routerLink","/settings",1,"dropdown-item",3,"click"],[1,"fas","fa-cog"],["routerLink","/notifications",1,"dropdown-item",3,"click"],[1,"fas","fa-bell"],[1,"logout-section"],["href","#",1,"dropdown-item","logout-item",3,"click"],[1,"fas","fa-sign-out-alt"],["routerLink","/favorites",1,"dropdown-item",3,"click"],["class","badge bg-danger ms-auto",4,"ngIf"],[1,"badge","bg-danger","ms-auto"],["routerLink","/bookings",1,"dropdown-item",3,"click"],[1,"fas","fa-calendar-check"],["class","badge bg-primary ms-auto",4,"ngIf"],[1,"badge","bg-primary","ms-auto"],[1,"quick-stats","small","text-muted","px-3"],[1,"d-flex","justify-content-between","mt-1"],[1,"d-flex","justify-content-between"],["routerLink","/admin/dashboard",1,"dropdown-item",3,"click"]],template:function(e,n){e&1&&(r(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3)(4,"div",4),g(5,"i",5),i(),r(6,"div",6)(7,"span",7),a(8,"WheelDeal"),i(),r(9,"span",8),a(10,"Premium"),i()()()(),r(11,"div",9),b("click",function(){return n.toggleMobileMenu()}),g(12,"span",10)(13,"span",10)(14,"span",10),i(),r(15,"div",11)(16,"ul",12)(17,"li",13)(18,"a",14),b("click",function(){return n.closeMobileMenu()}),g(19,"i",15),r(20,"span"),a(21,"Home"),i()()(),r(22,"li",13)(23,"a",16),b("click",function(){return n.closeMobileMenu()}),g(24,"i",17),r(25,"span"),a(26,"Search Cars"),i()()(),r(27,"li",13)(28,"a",18),b("click",function(){return n.closeMobileMenu()}),g(29,"i",19),r(30,"span"),a(31,"Compare Cars"),i()()(),_(32,Bm,5,0,"li",20)(33,Lm,5,0,"li",20)(34,Vm,5,0,"li",20)(35,Um,5,0,"li",20)(36,zm,5,0,"li",20)(37,jm,5,3,"li",20),i(),r(38,"div",21),_(39,Wm,9,0,"div",22)(40,Jm,51,14,"div",23),i()()()()),e&2&&(w("scrolled",n.isScrolled),l(12),w("active",n.isMobileMenuOpen),l(),w("active",n.isMobileMenuOpen),l(),w("active",n.isMobileMenuOpen),l(),w("active",n.isMobileMenuOpen),l(17),m("ngIf",n.isAdminOrManager()),l(),m("ngIf",n.isAdminOrManager()),l(),m("ngIf",n.isLoggedIn&&!n.isAdminOrManager()),l(),m("ngIf",n.isLoggedIn&&!n.isAdminOrManager()),l(),m("ngIf",n.isLoggedIn&&(n.currentUser==null?null:n.currentUser.role)==="ADMIN"),l(),m("ngIf",n.isLoggedIn&&(n.currentUser==null?null:n.currentUser.role)==="MANAGER"),l(2),m("ngIf",!n.isLoggedIn),l(),m("ngIf",n.isLoggedIn))},dependencies:[L,B,se,xe,dr],styles:['.modern-navbar[_ngcontent-%COMP%]{position:fixed;top:0;left:0;right:0;z-index:var(--z-fixed);background:#ffffff1a;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-bottom:1px solid rgba(255,255,255,.2);transition:all .3s cubic-bezier(.4,0,.2,1);height:72px;display:flex;align-items:center}.modern-navbar.scrolled[_ngcontent-%COMP%]{background:#fffffff2;-webkit-backdrop-filter:blur(30px);backdrop-filter:blur(30px);box-shadow:0 4px 20px #0000001a;border-bottom:1px solid rgba(255,255,255,.3)}.nav-container[_ngcontent-%COMP%]{max-width:1200px;margin:0 auto;padding:0 24px;display:flex;align-items:center;justify-content:space-between}.nav-brand[_ngcontent-%COMP%]{display:flex;align-items:center}.brand-link[_ngcontent-%COMP%]{display:flex;align-items:center;text-decoration:none;color:inherit;transition:transform .3s ease}.brand-link[_ngcontent-%COMP%]:hover{transform:scale(1.05)}.brand-icon[_ngcontent-%COMP%]{width:48px;height:48px;background:linear-gradient(135deg,#bfdaa4,#8fb370);border-radius:12px;display:flex;align-items:center;justify-content:center;margin-right:12px;box-shadow:0 4px 15px #bfdaa44d;transition:all .3s ease}.brand-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:24px;color:#fff}.brand-icon[_ngcontent-%COMP%]:hover{transform:rotate(5deg) scale(1.1);box-shadow:0 6px 20px #bfdaa466}.brand-text[_ngcontent-%COMP%]{display:flex;flex-direction:column}.brand-name[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;font-size:24px;font-weight:800;color:#1f2937;line-height:1;letter-spacing:-.025em}.brand-tagline[_ngcontent-%COMP%]{font-size:12px;font-weight:600;color:#6b7280;text-transform:uppercase;letter-spacing:.1em;margin-top:2px}.nav-menu[_ngcontent-%COMP%]{display:flex;align-items:center;gap:2rem;flex:1;justify-content:space-between;min-width:0}.nav-list[_ngcontent-%COMP%]{display:flex;list-style:none;margin:0;padding:0;gap:1.5rem;flex:1;justify-content:center}.nav-item[_ngcontent-%COMP%]{position:relative}.nav-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:10px 14px;color:#374151;text-decoration:none;font-weight:500;border-radius:12px;transition:all .3s ease;position:relative;overflow:hidden}.nav-link[_ngcontent-%COMP%]:before{content:"";position:absolute;top:0;left:-100%;width:100%;height:100%;background:linear-gradient(90deg,transparent,rgba(59,130,246,.1),transparent);transition:left .5s ease}.nav-link[_ngcontent-%COMP%]:hover:before{left:100%}.nav-link[_ngcontent-%COMP%]:hover{background:#3b82f61a;color:#1d4ed8;transform:translateY(-2px)}.nav-link.active[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;box-shadow:0 4px 15px #3b82f64d}.nav-link[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px}.nav-auth[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem;margin-left:auto}.auth-buttons[_ngcontent-%COMP%]{display:flex;gap:1rem}.auth-link[_ngcontent-%COMP%]{display:flex;align-items:center;gap:8px;padding:12px 20px;text-decoration:none;font-weight:600;border-radius:12px;transition:all .3s ease;position:relative;overflow:hidden}.login-link[_ngcontent-%COMP%]{color:#374151;background:#fffc;border:2px solid transparent}.login-link[_ngcontent-%COMP%]:hover{background:#fffffff2;color:#1d4ed8;transform:translateY(-2px);box-shadow:0 4px 15px #0000001a}.register-link[_ngcontent-%COMP%]{background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff;box-shadow:0 4px 15px #3b82f64d}.register-link[_ngcontent-%COMP%]:hover{transform:translateY(-2px);box-shadow:0 6px 20px #3b82f666;color:#fff}.user-menu[_ngcontent-%COMP%]{position:relative}.user-profile[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:12px 16px;background:#fffc;border-radius:12px;cursor:pointer;transition:all .3s ease;border:2px solid transparent}.user-profile[_ngcontent-%COMP%]:hover{background:#fffffff2;transform:translateY(-2px);box-shadow:0 4px 15px #0000001a}.user-avatar[_ngcontent-%COMP%]{width:40px;height:40px;background:linear-gradient(135deg,#3b82f6,#1d4ed8);border-radius:50%;display:flex;align-items:center;justify-content:center;color:#fff;font-size:18px}.user-info[_ngcontent-%COMP%]{display:flex;flex-direction:column}.user-name[_ngcontent-%COMP%]{font-weight:600;color:#1f2937;font-size:14px}.user-role[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;text-transform:uppercase;letter-spacing:.05em}.dropdown-icon[_ngcontent-%COMP%]{font-size:12px;color:#6b7280;transition:transform .3s ease}.dropdown-icon.rotated[_ngcontent-%COMP%]{transform:rotate(180deg)}.user-dropdown[_ngcontent-%COMP%]{position:absolute;top:100%;right:0;width:320px;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border:1px solid rgba(255,255,255,.3);border-radius:16px;box-shadow:0 10px 40px #0000001a;opacity:0;visibility:hidden;transform:translateY(-10px);transition:all .3s ease;margin-top:8px;overflow:hidden}.user-dropdown.active[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.dropdown-header[_ngcontent-%COMP%]{padding:20px;background:linear-gradient(135deg,#3b82f6,#1d4ed8);color:#fff}.profile-summary[_ngcontent-%COMP%]{display:flex;align-items:center;gap:16px}.profile-avatar[_ngcontent-%COMP%]{width:60px;height:60px;background:#fff3;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:24px}.profile-details[_ngcontent-%COMP%]{flex:1}.profile-name[_ngcontent-%COMP%]{font-weight:700;font-size:18px;margin-bottom:4px}.profile-email[_ngcontent-%COMP%]{font-size:14px;opacity:.9;margin-bottom:4px}.profile-role[_ngcontent-%COMP%]{font-size:12px;text-transform:uppercase;letter-spacing:.05em;opacity:.8}.dropdown-divider[_ngcontent-%COMP%]{height:1px;background:#0000001a;margin:8px 0}.dropdown-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:12px;padding:16px 20px;color:#374151;text-decoration:none;font-weight:500;transition:all .3s ease;border:none;background:none;width:100%;text-align:left;cursor:pointer}.dropdown-item[_ngcontent-%COMP%]:hover{background:#3b82f61a;color:#1d4ed8}.dropdown-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:16px;width:20px;text-align:center}.logout-section[_ngcontent-%COMP%]{border-top:1px solid rgba(0,0,0,.1);margin-top:8px}.logout-item[_ngcontent-%COMP%]{color:#dc2626!important}.logout-item[_ngcontent-%COMP%]:hover{background:#dc26261a!important;color:#dc2626!important}.nav-toggle[_ngcontent-%COMP%]{display:none;flex-direction:column;gap:4px;cursor:pointer;padding:8px;border-radius:8px;transition:all .3s ease}.hamburger-line[_ngcontent-%COMP%]{width:24px;height:2px;background:#374151;transition:all .3s ease;border-radius:1px}.hamburger-line.active[_ngcontent-%COMP%]:nth-child(1){transform:rotate(45deg) translate(6px,6px)}.hamburger-line.active[_ngcontent-%COMP%]:nth-child(2){opacity:0}.hamburger-line.active[_ngcontent-%COMP%]:nth-child(3){transform:rotate(-45deg) translate(6px,-6px)}@media (max-width: 768px){.nav-container[_ngcontent-%COMP%]{padding:0 16px}.nav-toggle[_ngcontent-%COMP%]{display:flex}.nav-menu[_ngcontent-%COMP%]{position:fixed;top:72px;left:0;right:0;background:#fffffff2;-webkit-backdrop-filter:blur(20px);backdrop-filter:blur(20px);border-top:1px solid rgba(255,255,255,.3);flex-direction:column;padding:16px;gap:12px;opacity:0;visibility:hidden;transform:translateY(-20px);transition:all .3s ease}.nav-menu.active[_ngcontent-%COMP%]{opacity:1;visibility:visible;transform:translateY(0)}.nav-list[_ngcontent-%COMP%]{flex-direction:column;width:100%;gap:8px;justify-content:flex-start}.nav-link[_ngcontent-%COMP%]{width:100%;justify-content:center;padding:14px}.nav-auth[_ngcontent-%COMP%]{flex-direction:column;width:100%;gap:1rem;margin-left:0}.auth-buttons[_ngcontent-%COMP%]{width:100%;flex-direction:column}.auth-link[_ngcontent-%COMP%]{width:100%;justify-content:center}.user-menu[_ngcontent-%COMP%]{width:100%}.user-profile[_ngcontent-%COMP%]{width:100%;justify-content:center}.user-dropdown[_ngcontent-%COMP%]{position:static;width:100%;margin-top:1rem;opacity:1;visibility:visible;transform:none}.brand-name[_ngcontent-%COMP%]{font-size:20px}.brand-icon[_ngcontent-%COMP%]{width:40px;height:40px}.brand-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:20px}}']})};var Qn=class o{constructor(t){this.authService=t}title="Car Rental System";ngOnInit(){this.authService.refreshUserState()}static \u0275fac=function(e){return new(e||o)(P(ee))};static \u0275cmp=A({type:o,selectors:[["app-root"]],decls:3,vars:0,consts:[[1,"main-content"]],template:function(e,n){e&1&&(g(0,"app-navbar"),r(1,"main",0),g(2,"router-outlet"),i())},dependencies:[cr,Kn],styles:['.main-content[_ngcontent-%COMP%]{min-height:100vh;padding-top:88px;background:var(--gradient-primary);background-attachment:fixed;position:relative;overflow-x:hidden}.main-content[_ngcontent-%COMP%]:before{content:"";position:fixed;inset:0;background-image:radial-gradient(circle at 25% 25%,rgba(255,255,255,.05) 0%,transparent 50%),radial-gradient(circle at 75% 75%,rgba(255,255,255,.03) 0%,transparent 50%);pointer-events:none;z-index:-1}[_nghost-%COMP%]{display:block;font-family:var(--font-family)}@media (max-width: 768px){.main-content[_ngcontent-%COMP%]{padding-top:80px}}']})};ar(Qn,xo).catch(o=>console.error(o));
