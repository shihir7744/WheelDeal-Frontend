<div class="container py-4">
  <h2 class="mb-4">My Profile</h2>

  <div *ngIf="error" class="alert alert-danger">{{ error }}</div>
  <div *ngIf="success" class="alert alert-success">{{ success }}</div>

  <div class="card mb-4">
    <div class="card-header"><strong>Profile Information</strong></div>
    <div class="card-body">
      <form (ngSubmit)="saveProfile()" class="row g-3">
        <div class="col-md-6">
          <label class="form-label">Full Name</label>
          <input type="text" class="form-control" [(ngModel)]="profileForm.fullName" name="fullName" required />
        </div>
        <div class="col-md-6">
          <label class="form-label">Email</label>
          <input type="email" class="form-control" [(ngModel)]="profileForm.email" name="email" required />
        </div>
        <div class="col-12 d-flex justify-content-end">
          <button class="btn btn-primary" type="submit" [disabled]="savingProfile">
            <span *ngIf="savingProfile" class="spinner-border spinner-border-sm me-2"></span>
            Save Changes
          </button>
        </div>
      </form>
    </div>
  </div>

  <div class="card">
    <div class="card-header"><strong>Change Password</strong></div>
    <div class="card-body">
      <form (ngSubmit)="changePassword()" class="row g-3">
        <div class="col-md-4">
          <label class="form-label">Current Password</label>
          <input type="password" class="form-control" [(ngModel)]="passwordForm.currentPassword" name="currentPassword" />
        </div>
        <div class="col-md-4">
          <label class="form-label">New Password</label>
          <input type="password" class="form-control" [(ngModel)]="passwordForm.newPassword" name="newPassword" required />
        </div>
        <div class="col-md-4">
          <label class="form-label">Confirm Password</label>
          <input type="password" class="form-control" [(ngModel)]="passwordForm.confirmPassword" name="confirmPassword" required />
        </div>
        <div class="col-12 d-flex justify-content-end">
          <button class="btn btn-outline-primary" type="submit" [disabled]="changingPassword">
            <span *ngIf="changingPassword" class="spinner-border spinner-border-sm me-2"></span>
            Update Password
          </button>
        </div>
      </form>
    </div>
  </div>
</div>